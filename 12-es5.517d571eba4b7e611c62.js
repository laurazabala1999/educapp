!function(){function e(e,r){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,r){if(!e)return;if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{LXKs:function(t,i,a){"use strict";a.r(i),a.d(i,"AsignarpruebaPageModule",(function(){return I}));var o=a("ofXK"),s=a("3Pt+"),l=a("TEn/"),c=a("tyNb"),u=a("LvDl"),d=a("fXoL"),f=a("nVU4");function h(e,t){if(1&e){var r=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"ion-item"),d["\u0275\u0275elementStart"](1,"ion-label"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"ion-select",11),d["\u0275\u0275listener"]("ngModelChange",(function(e){return d["\u0275\u0275restoreView"](r),d["\u0275\u0275nextContext"]().grupo=e})),d["\u0275\u0275elementStart"](4,"ion-select-option",12),d["\u0275\u0275text"](5,"6\xbaA Primaria "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"]('Grupos Asignados a la Tarea "',n.tarea,'"'),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngModel",n.grupo)}}function p(e,t){if(1&e){var r=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"ion-button",13),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](r),d["\u0275\u0275nextContext"]().asignar()})),d["\u0275\u0275text"](1,"ASIGNAR"),d["\u0275\u0275elementEnd"]()}}function g(e,t){if(1&e){var r=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"ion-button",14),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](r),d["\u0275\u0275nextContext"]().open()})),d["\u0275\u0275text"](1,"ABRIR"),d["\u0275\u0275elementEnd"]()}}function m(e,t){if(1&e){var r=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"ion-button",15),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](r),d["\u0275\u0275nextContext"]().close()})),d["\u0275\u0275text"](1,"CERRAR"),d["\u0275\u0275elementEnd"]()}}function b(e,t){if(1&e){var r=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"ion-button",16),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](r),d["\u0275\u0275nextContext"]().end()})),d["\u0275\u0275text"](1,"FINALIZAR TAREA"),d["\u0275\u0275elementEnd"]()}}function S(e,t){if(1&e){var r=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"ion-button",17),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](r),d["\u0275\u0275nextContext"]().delete()})),d["\u0275\u0275text"](1,"ELIMINAR TAREA"),d["\u0275\u0275elementEnd"]()}}var w,v,y,C=[{path:"",component:(w=function(){function t(e,n){r(this,t),this.changeDetectorRef=e,this.router=n,this.profesor=localStorage.getItem("user"),this.pruebas=JSON.parse(localStorage.getItem("pruebas"))||[],this.rowSelection="single",this.show=!1,this.tarea="",this.idSelect="",this.abierto=!1,this.cerrado=!1,this.finalizado=!1,this.rowData=u.filter(this.pruebas,{profesor:this.profesor})||[],this.columnDefs=[{headerName:"Nombre de la Prueba",field:"titulo",sortable:!0,filter:!0},{headerName:"Asignatura",field:"asignatura",sortable:!0,filter:!0},{headerName:"Grupos Asignados",field:"grupos",sortable:!0,filter:!0},{headerName:"Estado",field:"abierta",sortable:!0,filter:!0}],this.grupo=[]}var i,a,o;return i=t,(a=[{key:"ngOnInit",value:function(){this.pruebas=JSON.parse(localStorage.getItem("pruebas"))||[],this.rowData=u.filter(this.pruebas,{profesor:this.profesor})||[],this.changeDetectorRef.detectChanges()}},{key:"onFirstDataRendered",value:function(e){this.gridApi=e.api,e.api.sizeColumnsToFit()}},{key:"onSelectionChanged",value:function(e){this.tarea="",this.gruposSelect=[],this.idSelect="",this.grupo=[];var t=e.api.getSelectedRows();this.tarea=t[0].titulo,this.gruposSelect=t[0].grupos,this.idSelect=t[0].id,this.grupo=this.gruposSelect,this.show=!0,this.abierto=!1,this.cerrado=!1,this.finalizado=!1,"ABIERTA"==t[0].abierta?(this.cerrado=!0,this.finalizado=!0):"CERRADA"==t[0].abierta?(this.abierto=!0,this.finalizado=!0):"FINALIZADA"==t[0].abierta&&(this.abierto=!0,this.cerrado=!0),this.changeDetectorRef.detectChanges()}},{key:"asignar",value:function(){if(this.idSelect){var t=u.findIndex(this.pruebas,{id:this.idSelect}),r=u.find(this.pruebas,{id:this.idSelect});if(r.grupos=[],this.grupo){var n,i=e(this.grupo);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.grupos.push(a)}}catch(o){i.e(o)}finally{i.f()}}this.pruebas.splice(t,1,r),localStorage.setItem("pruebas",JSON.stringify(this.pruebas)),alert("Tarea Asignada Correctamente"),this.gridApi.redrawRows(),this.rowData=u.filter(this.pruebas,{profesor:this.profesor})||[],this.changeDetectorRef.detectChanges()}else alert("Selecciona en la lista que tarea quieres asignar")}},{key:"salir",value:function(){this.router.navigate(["/home"])}},{key:"ngDoCheck",value:function(){this.changeDetectorRef.detectChanges()}},{key:"delete",value:function(){var t=this;this.idSelect?function(){var r=t.idSelect;u.remove(t.pruebas,(function(e){return e.id==r})),t.changeDetectorRef.detectChanges(),localStorage.setItem("pruebas",JSON.stringify(t.pruebas)),alert("Tarea Eliminada Correctamente"),t.gridApi.redrawRows(),t.rowData=u.filter(t.pruebas,{profesor:t.profesor})||[];var n,i=e(JSON.parse(localStorage.getItem("alumnos")));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=JSON.parse(localStorage.getItem("completadas_"+a));o&&(u.remove(o,(function(e){return e==r})),localStorage.setItem("completadas_"+a,JSON.stringify(o)))}}catch(s){i.e(s)}finally{i.f()}t.changeDetectorRef.detectChanges()}():alert("Selecciona en la lista que tarea quieres asignar")}},{key:"end",value:function(){if(this.idSelect){var e=u.findIndex(this.pruebas,{id:this.idSelect}),t=u.find(this.pruebas,{id:this.idSelect});t.abierta="FINALIZADA",this.pruebas.splice(e,1,t),localStorage.setItem("pruebas",JSON.stringify(this.pruebas)),alert("Tarea Finalizada Correctamente"),this.gridApi.redrawRows(),this.rowData=u.filter(this.pruebas,{profesor:this.profesor})||[],this.abierto=!0,this.cerrado=!0,this.finalizado=!1,this.changeDetectorRef.detectChanges()}else alert("Selecciona en la lista que tarea quieres asignar")}},{key:"close",value:function(){if(this.idSelect){var e=u.findIndex(this.pruebas,{id:this.idSelect}),t=u.find(this.pruebas,{id:this.idSelect});t.abierta="CERRADA",this.pruebas.splice(e,1,t),localStorage.setItem("pruebas",JSON.stringify(this.pruebas)),alert("Tarea Cerrada Correctamente"),this.gridApi.redrawRows(),this.rowData=u.filter(this.pruebas,{profesor:this.profesor})||[],this.abierto=!0,this.cerrado=!1,this.finalizado=!0,this.changeDetectorRef.detectChanges()}else alert("Selecciona en la lista que tarea quieres asignar")}},{key:"open",value:function(){if(this.idSelect){var e=u.findIndex(this.pruebas,{id:this.idSelect}),t=u.find(this.pruebas,{id:this.idSelect});t.abierta="ABIERTA",this.pruebas.splice(e,1,t),localStorage.setItem("pruebas",JSON.stringify(this.pruebas)),alert("Tarea Abierta Correctamente"),this.gridApi.redrawRows(),this.rowData=u.filter(this.pruebas,{profesor:this.profesor})||[],this.abierto=!1,this.cerrado=!0,this.finalizado=!0,this.changeDetectorRef.detectChanges()}else alert("Selecciona en la lista que tarea quieres asignar")}}])&&n(i.prototype,a),o&&n(i,o),t}(),w.\u0275fac=function(e){return new(e||w)(d["\u0275\u0275directiveInject"](d.ChangeDetectorRef),d["\u0275\u0275directiveInject"](c.g))},w.\u0275cmp=d["\u0275\u0275defineComponent"]({type:w,selectors:[["app-asignarprueba"]],decls:17,vars:9,consts:[["size","10"],["size","2"],["color","primary",1,"home",3,"click"],["name","home-outline"],[1,"ag-theme-balham",2,"width","100%","height","50%",3,"rowData","columnDefs","rowSelection","selectionChanged","firstDataRendered"],[4,"ngIf"],["expand","full",3,"click",4,"ngIf"],["color","success","expand","full",3,"click",4,"ngIf"],["color","medium","expand","full",3,"click",4,"ngIf"],["color","warning","expand","full",3,"click",4,"ngIf"],["color","danger","expand","full",3,"click",4,"ngIf"],["multiple","",3,"ngModel","ngModelChange"],["value","6\xbaA"],["expand","full",3,"click"],["color","success","expand","full",3,"click"],["color","medium","expand","full",3,"click"],["color","warning","expand","full",3,"click"],["color","danger","expand","full",3,"click"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"ion-header"),d["\u0275\u0275elementStart"](1,"ion-toolbar"),d["\u0275\u0275elementStart"](2,"ion-row"),d["\u0275\u0275elementStart"](3,"ion-col",0),d["\u0275\u0275elementStart"](4,"ion-title"),d["\u0275\u0275text"](5,"GESTIONAR PRUEBAS"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"ion-col",1),d["\u0275\u0275elementStart"](7,"ion-button",2),d["\u0275\u0275listener"]("click",(function(){return t.salir()})),d["\u0275\u0275element"](8,"ion-icon",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"ion-content"),d["\u0275\u0275elementStart"](10,"ag-grid-angular",4),d["\u0275\u0275listener"]("selectionChanged",(function(e){return t.onSelectionChanged(e)}))("firstDataRendered",(function(e){return t.onFirstDataRendered(e)})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](11,h,6,2,"ion-item",5),d["\u0275\u0275template"](12,p,2,0,"ion-button",6),d["\u0275\u0275template"](13,g,2,0,"ion-button",7),d["\u0275\u0275template"](14,m,2,0,"ion-button",8),d["\u0275\u0275template"](15,b,2,0,"ion-button",9),d["\u0275\u0275template"](16,S,2,0,"ion-button",10),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](10),d["\u0275\u0275property"]("rowData",t.rowData)("columnDefs",t.columnDefs)("rowSelection",t.rowSelection),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.show),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.show),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.show&&t.abierto),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.show&&t.cerrado),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.show&&t.finalizado),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.show))},directives:[l.m,l.F,l.x,l.j,l.E,l.d,l.n,l.k,f.AgGridAngular,o.i,l.p,l.t,l.y,l.J,s.d,s.e,l.z],styles:["body[_ngcontent-%COMP%]{cursor:url(http://ionicframework.com/img/finger.png),auto}.header[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{background-color:#d3d3d3}.col[_ngcontent-%COMP%]{border-color:grey;border-style:solid none none solid;border-width:1px}.col[_ngcontent-%COMP%]:last-child{border-right:1px solid grey}.row[_ngcontent-%COMP%]:last-child   .col[_ngcontent-%COMP%]{border-bottom:1px solid grey}"]}),w)}],A=((y=function e(){r(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:y}),y.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||y)},imports:[[c.i.forChild(C)],c.i]}),y),I=((v=function e(){r(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:v}),v.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||v)},imports:[[o.b,s.a,l.G,A,f.AgGridModule.withComponents([])]]}),v)}}])}();