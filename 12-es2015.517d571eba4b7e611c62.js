(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{LXKs:function(e,t,r){"use strict";r.r(t),r.d(t,"AsignarpruebaPageModule",(function(){return S}));var i=r("ofXK"),n=r("3Pt+"),a=r("TEn/"),o=r("tyNb"),s=r("LvDl"),l=r("fXoL"),c=r("nVU4");function d(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ion-item"),l["\u0275\u0275elementStart"](1,"ion-label"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"ion-select",11),l["\u0275\u0275listener"]("ngModelChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().grupo=t})),l["\u0275\u0275elementStart"](4,"ion-select-option",12),l["\u0275\u0275text"](5,"6\xbaA Primaria "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]('Grupos Asignados a la Tarea "',e.tarea,'"'),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngModel",e.grupo)}}function h(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ion-button",13),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().asignar()})),l["\u0275\u0275text"](1,"ASIGNAR"),l["\u0275\u0275elementEnd"]()}}function u(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ion-button",14),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().open()})),l["\u0275\u0275text"](1,"ABRIR"),l["\u0275\u0275elementEnd"]()}}function p(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ion-button",15),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().close()})),l["\u0275\u0275text"](1,"CERRAR"),l["\u0275\u0275elementEnd"]()}}function f(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ion-button",16),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().end()})),l["\u0275\u0275text"](1,"FINALIZAR TAREA"),l["\u0275\u0275elementEnd"]()}}function g(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ion-button",17),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().delete()})),l["\u0275\u0275text"](1,"ELIMINAR TAREA"),l["\u0275\u0275elementEnd"]()}}const m=[{path:"",component:(()=>{class e{constructor(e,t){this.changeDetectorRef=e,this.router=t,this.profesor=localStorage.getItem("user"),this.pruebas=JSON.parse(localStorage.getItem("pruebas"))||[],this.rowSelection="single",this.show=!1,this.tarea="",this.idSelect="",this.abierto=!1,this.cerrado=!1,this.finalizado=!1,this.rowData=s.filter(this.pruebas,{profesor:this.profesor})||[],this.columnDefs=[{headerName:"Nombre de la Prueba",field:"titulo",sortable:!0,filter:!0},{headerName:"Asignatura",field:"asignatura",sortable:!0,filter:!0},{headerName:"Grupos Asignados",field:"grupos",sortable:!0,filter:!0},{headerName:"Estado",field:"abierta",sortable:!0,filter:!0}],this.grupo=[]}ngOnInit(){this.pruebas=JSON.parse(localStorage.getItem("pruebas"))||[],this.rowData=s.filter(this.pruebas,{profesor:this.profesor})||[],this.changeDetectorRef.detectChanges()}onFirstDataRendered(e){this.gridApi=e.api,e.api.sizeColumnsToFit()}onSelectionChanged(e){this.tarea="",this.gruposSelect=[],this.idSelect="",this.grupo=[];let t=e.api.getSelectedRows();this.tarea=t[0].titulo,this.gruposSelect=t[0].grupos,this.idSelect=t[0].id,this.grupo=this.gruposSelect,this.show=!0,this.abierto=!1,this.cerrado=!1,this.finalizado=!1,"ABIERTA"==t[0].abierta?(this.cerrado=!0,this.finalizado=!0):"CERRADA"==t[0].abierta?(this.abierto=!0,this.finalizado=!0):"FINALIZADA"==t[0].abierta&&(this.abierto=!0,this.cerrado=!0),this.changeDetectorRef.detectChanges()}asignar(){if(this.idSelect){let e=s.findIndex(this.pruebas,{id:this.idSelect}),t=s.find(this.pruebas,{id:this.idSelect});if(t.grupos=[],this.grupo)for(let r of this.grupo)t.grupos.push(r);this.pruebas.splice(e,1,t),localStorage.setItem("pruebas",JSON.stringify(this.pruebas)),alert("Tarea Asignada Correctamente"),this.gridApi.redrawRows(),this.rowData=s.filter(this.pruebas,{profesor:this.profesor})||[],this.changeDetectorRef.detectChanges()}else alert("Selecciona en la lista que tarea quieres asignar")}salir(){this.router.navigate(["/home"])}ngDoCheck(){this.changeDetectorRef.detectChanges()}delete(){if(this.idSelect){let e=this.idSelect;s.remove(this.pruebas,(function(t){return t.id==e})),this.changeDetectorRef.detectChanges(),localStorage.setItem("pruebas",JSON.stringify(this.pruebas)),alert("Tarea Eliminada Correctamente"),this.gridApi.redrawRows(),this.rowData=s.filter(this.pruebas,{profesor:this.profesor})||[];let t=JSON.parse(localStorage.getItem("alumnos"));for(let r of t){let t=JSON.parse(localStorage.getItem("completadas_"+r));t&&(s.remove(t,(function(t){return t==e})),localStorage.setItem("completadas_"+r,JSON.stringify(t)))}this.changeDetectorRef.detectChanges()}else alert("Selecciona en la lista que tarea quieres asignar")}end(){if(this.idSelect){let e=s.findIndex(this.pruebas,{id:this.idSelect}),t=s.find(this.pruebas,{id:this.idSelect});t.abierta="FINALIZADA",this.pruebas.splice(e,1,t),localStorage.setItem("pruebas",JSON.stringify(this.pruebas)),alert("Tarea Finalizada Correctamente"),this.gridApi.redrawRows(),this.rowData=s.filter(this.pruebas,{profesor:this.profesor})||[],this.abierto=!0,this.cerrado=!0,this.finalizado=!1,this.changeDetectorRef.detectChanges()}else alert("Selecciona en la lista que tarea quieres asignar")}close(){if(this.idSelect){let e=s.findIndex(this.pruebas,{id:this.idSelect}),t=s.find(this.pruebas,{id:this.idSelect});t.abierta="CERRADA",this.pruebas.splice(e,1,t),localStorage.setItem("pruebas",JSON.stringify(this.pruebas)),alert("Tarea Cerrada Correctamente"),this.gridApi.redrawRows(),this.rowData=s.filter(this.pruebas,{profesor:this.profesor})||[],this.abierto=!0,this.cerrado=!1,this.finalizado=!0,this.changeDetectorRef.detectChanges()}else alert("Selecciona en la lista que tarea quieres asignar")}open(){if(this.idSelect){let e=s.findIndex(this.pruebas,{id:this.idSelect}),t=s.find(this.pruebas,{id:this.idSelect});t.abierta="ABIERTA",this.pruebas.splice(e,1,t),localStorage.setItem("pruebas",JSON.stringify(this.pruebas)),alert("Tarea Abierta Correctamente"),this.gridApi.redrawRows(),this.rowData=s.filter(this.pruebas,{profesor:this.profesor})||[],this.abierto=!1,this.cerrado=!0,this.finalizado=!0,this.changeDetectorRef.detectChanges()}else alert("Selecciona en la lista que tarea quieres asignar")}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](l.ChangeDetectorRef),l["\u0275\u0275directiveInject"](o.g))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-asignarprueba"]],decls:17,vars:9,consts:[["size","10"],["size","2"],["color","primary",1,"home",3,"click"],["name","home-outline"],[1,"ag-theme-balham",2,"width","100%","height","50%",3,"rowData","columnDefs","rowSelection","selectionChanged","firstDataRendered"],[4,"ngIf"],["expand","full",3,"click",4,"ngIf"],["color","success","expand","full",3,"click",4,"ngIf"],["color","medium","expand","full",3,"click",4,"ngIf"],["color","warning","expand","full",3,"click",4,"ngIf"],["color","danger","expand","full",3,"click",4,"ngIf"],["multiple","",3,"ngModel","ngModelChange"],["value","6\xbaA"],["expand","full",3,"click"],["color","success","expand","full",3,"click"],["color","medium","expand","full",3,"click"],["color","warning","expand","full",3,"click"],["color","danger","expand","full",3,"click"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"ion-header"),l["\u0275\u0275elementStart"](1,"ion-toolbar"),l["\u0275\u0275elementStart"](2,"ion-row"),l["\u0275\u0275elementStart"](3,"ion-col",0),l["\u0275\u0275elementStart"](4,"ion-title"),l["\u0275\u0275text"](5,"GESTIONAR PRUEBAS"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"ion-col",1),l["\u0275\u0275elementStart"](7,"ion-button",2),l["\u0275\u0275listener"]("click",(function(){return t.salir()})),l["\u0275\u0275element"](8,"ion-icon",3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"ion-content"),l["\u0275\u0275elementStart"](10,"ag-grid-angular",4),l["\u0275\u0275listener"]("selectionChanged",(function(e){return t.onSelectionChanged(e)}))("firstDataRendered",(function(e){return t.onFirstDataRendered(e)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](11,d,6,2,"ion-item",5),l["\u0275\u0275template"](12,h,2,0,"ion-button",6),l["\u0275\u0275template"](13,u,2,0,"ion-button",7),l["\u0275\u0275template"](14,p,2,0,"ion-button",8),l["\u0275\u0275template"](15,f,2,0,"ion-button",9),l["\u0275\u0275template"](16,g,2,0,"ion-button",10),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](10),l["\u0275\u0275property"]("rowData",t.rowData)("columnDefs",t.columnDefs)("rowSelection",t.rowSelection),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.show),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.show),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.show&&t.abierto),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.show&&t.cerrado),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.show&&t.finalizado),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.show))},directives:[a.m,a.F,a.x,a.j,a.E,a.d,a.n,a.k,c.AgGridAngular,i.i,a.p,a.t,a.y,a.J,n.d,n.e,a.z],styles:["body[_ngcontent-%COMP%]{cursor:url(http://ionicframework.com/img/finger.png),auto}.header[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{background-color:#d3d3d3}.col[_ngcontent-%COMP%]{border-color:grey;border-style:solid none none solid;border-width:1px}.col[_ngcontent-%COMP%]:last-child{border-right:1px solid grey}.row[_ngcontent-%COMP%]:last-child   .col[_ngcontent-%COMP%]{border-bottom:1px solid grey}"]}),e})()}];let b=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.i.forChild(m)],o.i]}),e})(),S=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.b,n.a,a.G,b,c.AgGridModule.withComponents([])]]}),e})()}}]);