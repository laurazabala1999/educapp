{"version":3,"sources":["webpack:///src/app/analisis/analisis.page.html","webpack:///src/app/analisis/analisis-routing.module.ts","webpack:///src/app/analisis/analisis.module.ts","webpack:///src/app/analisis/analisis.page.scss","webpack:///src/app/analisis/analisis.page.ts"],"names":["routes","path","component","AnalisisPageRoutingModule","imports","forChild","exports","AnalisisPageModule","withComponents","declarations","AnalisisPage","changeDetectorRef","router","lista","detalle","profesor","localStorage","getItem","pruebas","JSON","parse","misPruebas","modalData","riesgos","columnDefs","headerName","field","sortable","filter","valueParser","numberParser","cellStyle","rowData","rowSelection","params","color","pruebascolor","mediaTiempo","id","data","mediaNota","tiempoEstimado","colDef","value","backgroundColor","media","Math","trunc","newValue","valueAsNumber","undefined","parseFloat","length","avisos","lentos","malasNotas","prueba","entregas","entrega","calificación","push","tiempoTotal","malo","alumno","notas","tiempo","lento","totalPruebas","obj","mensaje","floor","random","nota","refuerzos","deficitRefuerzos","suspensos","refuerzo","setItem","stringify","navigate","gridApi","api","sizeColumnsToFit","msg","arrayPruebas","concat","titulo","idPrueba","split","asignatura","existe","detectChanges","e","selector","template"],"mappings":"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","file":"analisis-analisis-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-row>\\n      <ion-col size=\\\"10\\\">\\n        <ion-title>ANALISIS DE RIESGOS</ion-title>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        <ion-button color=\\\"primary\\\" class=\\\"home\\\" (click)=\\\"salir()\\\">\\n          <ion-icon name=\\\"home-outline\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-button *ngIf=\\\"lista\\\" expand=\\\"full\\\" color=\\\"success\\\" (click)=\\\"analizar()\\\">ACTUALIZAR ESTUDIO</ion-button>\\n\\n  <ion-list *ngIf=\\\"lista\\\">\\n    <ion-list-header *ngIf=\\\"riesgos && riesgos.length\\\">\\n      Riesgos detectados\\n    </ion-list-header>\\n    <ion-list-header *ngIf=\\\"!riesgos.length\\\">\\n      No se ha detectado ningun riesgo\\n    </ion-list-header>\\n    <ion-item-sliding *ngFor=\\\"let item of riesgos\\\">\\n      <ion-item>\\n        <ion-label>\\n          <h2>Estudiante: {{item.alumno}}</h2>\\n          <h3>Asingatura: Matemáticas</h3>\\n          <p>{{item.mensaje}}</p>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item-options side=\\\"end\\\">\\n        <ion-item-option (click)=\\\"abrir(item)\\\">ABRIR</ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n\\n  <ion-card *ngIf=\\\"detalle\\\">\\n    <ion-card-header>\\n      <ion-card-title>Estudiante: {{modalData.alumno}}</ion-card-title>\\n      <ion-card-subtitle>Asingatura: Matemáticas</ion-card-subtitle>\\n    </ion-card-header>\\n    <ion-card-content>\\n      {{modalData.mensaje}}\\n    </ion-card-content>\\n  </ion-card>\\n\\n</ion-content>\\n  <ag-grid-angular *ngIf=\\\"detalle\\\" style=\\\"width: 100%; height: 30%;\\\" class=\\\"ag-theme-balham\\\" [rowData]=\\\"rowData\\\"\\n    [columnDefs]=\\\"columnDefs\\\" [rowSelection]=\\\"rowSelection\\\" (firstDataRendered)=\\\"onFirstDataRendered($event)\\\">\\n  </ag-grid-angular>\\n  <ion-button *ngIf=\\\"detalle\\\" expand=\\\"full\\\" (click)=\\\"cerrar()\\\">CERRAR</ion-button>\\n  <ion-button *ngIf=\\\"detalle\\\" expand=\\\"full\\\" color=\\\"success\\\" (click)=\\\"normalizar(modalData)\\\">IGNORAR RIESGO</ion-button>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AnalisisPage } from './analisis.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AnalisisPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AnalisisPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AnalisisPageRoutingModule } from './analisis-routing.module';\n\nimport { AnalisisPage } from './analisis.page';\nimport { AgGridModule } from 'ag-grid-angular';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AnalisisPageRoutingModule,\n    AgGridModule.withComponents([])\n  ],\n  declarations: [AnalisisPage]\n})\nexport class AnalisisPageModule {}\n","export default \".red {\\n  background-color: lightcoral;\\n}\\n\\n.green {\\n  background-color: lightgreen;\\n}\\n\\n.amber {\\n  background-color: lightsalmon;\\n}\\n\\n.yellow {\\n  background-color: yellow;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYW5hbGlzaXMvYW5hbGlzaXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksNEJBQUE7QUFDSjs7QUFDQTtFQUNBLDRCQUFBO0FBRUE7O0FBQUE7RUFDQSw2QkFBQTtBQUdBOztBQUFBO0VBQ0Usd0JBQUE7QUFHRiIsImZpbGUiOiJzcmMvYXBwL2FuYWxpc2lzL2FuYWxpc2lzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5yZWQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRjb3JhbDtcclxuICB9XHJcbi5ncmVlbiB7XHJcbmJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JlZW47XHJcbn1cclxuLmFtYmVyIHtcclxuYmFja2dyb3VuZC1jb2xvcjogbGlnaHRzYWxtb247XHJcbn1cclxuXHJcbi55ZWxsb3d7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93O1xyXG59Il19 */\";","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { Router } from '@angular/router';\nimport * as _ from 'lodash';\n\n@Component({\n  selector: 'app-analisis',\n  templateUrl: './analisis.page.html',\n  styleUrls: ['./analisis.page.scss'],\n})\nexport class AnalisisPage implements OnInit {\n\n  lista = true;\n  detalle = false;\n  profesor = localStorage.getItem(\"user\");\n  pruebas = JSON.parse(localStorage.getItem(\"pruebas\")) || [];\n  misPruebas = _.filter(this.pruebas, { profesor: this.profesor }) || [];\n  modalData: any = {};\n  riesgos = JSON.parse(localStorage.getItem(\"riesgos\")) || [];\n\n  columnDefs = [\n    { headerName: 'Nombre de la Prueba', field: 'titulo', sortable: true, filter: true },\n    { headerName: 'Asignatura', field: 'asignatura', sortable: true, filter: true },\n    { headerName: 'Calificación', field: 'nota', sortable: true, filter: true, valueParser: this.numberParser, cellStyle: this.cellStyle },\n    { headerName: 'Tiempo', field: 'tiempo', sortable: true, filter: true, valueParser: this.numberParser, cellStyle: this.cellStyle },\n  ];\n\n  rowData = [];\n  rowSelection = 'single';\n  gridApi;\n\n  constructor(public changeDetectorRef: ChangeDetectorRef, private router: Router) { }\n\n  cellStyle(params) {\n    let color = \"\";\n\n    let pruebascolor = JSON.parse(localStorage.getItem(\"pruebas\")) || [];\n\n    let mediaTiempo = _.find(pruebascolor, { id: params.data.id }) ? _.find(pruebascolor, { id: params.data.id }).mediaTiempo : null;\n    let mediaNota = _.find(pruebascolor, { id: params.data.id }) ? _.find(pruebascolor, { id: params.data.id }).mediaNota : null;\n\n    let tiempoEstimado = _.find(pruebascolor, { id: params.data.id }) ? _.find(pruebascolor, { id: params.data.id }).tiempoEstimado : null;\n\n    if (params.colDef.field == \"nota\") {\n      if (params.value < mediaNota) {\n        color = \"lightcoral\";\n      }\n      else if (params.value == mediaNota) {\n        color = \"\";\n      }\n      else if (params.value > mediaNota) {\n        color = \"lightgreen\";\n      }\n      return { backgroundColor: color };\n    }\n    else {\n      let media = (mediaTiempo + tiempoEstimado) / 2;\n      media = Math.trunc(media);\n      if (params.value > media) {\n        color = \"lightcoral\";\n      }\n      else if (params.value == media) {\n        color = \"\";\n      }\n      else if (params.value < media) {\n        color = \"lightgreen\";\n      }\n      return { backgroundColor: color };\n    }\n\n  }\n\n\n  numberParser(params) {\n    var newValue = params.newValue;\n    var valueAsNumber;\n    if (newValue === null || newValue === undefined || newValue === '') {\n      valueAsNumber = null;\n    } else {\n      valueAsNumber = parseFloat(params.newValue);\n    }\n    return valueAsNumber;\n  }\n\n\n  ngOnInit() {\n\n    if (!this.riesgos.length) {\n\n      let avisos = {};\n      let lentos = [];\n      let malasNotas = [];\n\n      for (let prueba of this.misPruebas) {\n        for (let entrega of prueba.entregas) {\n          if (entrega.calificación < 5 && entrega.calificación < prueba.mediaNota) {\n            malasNotas.push(entrega);\n          }\n          if (entrega.tiempoTotal > prueba.mediaTiempo && entrega.tiempoTotal > prueba.tiempoEstimado) {\n            lentos.push(entrega);\n          }\n        }\n      }\n\n      for (let malo of malasNotas) {\n        avisos[malo.alumno] ? avisos[malo.alumno] : avisos[malo.alumno] = { notas: [], tiempo: [] }\n        avisos[malo.alumno].notas.push(malo);\n      }\n      for (let lento of lentos) {\n        avisos[lento.alumno] ? avisos[lento.alumno] : avisos[lento.alumno] = { notas: [], tiempo: [] }\n        avisos[lento.alumno].tiempo.push(lento);\n\n      }\n      let totalPruebas = this.misPruebas.length;\n\n      for (let alumno in avisos) {\n        let obj = {\n          alumno: alumno,\n          mensaje: null,\n          id: Math.floor(Math.random() * 100000),\n          nota: avisos[alumno].notas,\n          tiempo: avisos[alumno].tiempo\n        }\n\n        let refuerzos = JSON.parse(localStorage.getItem(\"entregasRefuerzo_\"+ alumno)) || [];\n        let deficitRefuerzos = \"\";\n        if (refuerzos) {\n          let suspensos = 0;\n          for (let refuerzo of refuerzos) {\n            if (refuerzo < 5) {\n              suspensos++;\n            }\n          }\n          if (suspensos > (refuerzos.length / 3)) {\n            deficitRefuerzos = \" Por último, indicar que de las \" + refuerzos.length + \" tareas de refuerzo entregadas, no ha cumplido los requisitos mínimos en \" + suspensos + \" de ellas. \";\n          }\n        }\n        if (avisos[alumno][\"notas\"].length >= totalPruebas / 2 && avisos[alumno][\"tiempo\"].length < totalPruebas / 2) {\n          obj.mensaje = alumno + \",del grupo de 6ºA Primaria, está teniendo dificultades en la asigntara de Matemáticas. De las últimas \" + totalPruebas +\n            \" pruebas ha suspendido \" + avisos[alumno][\"notas\"].length + \". Además la nota media de la clase es superior a su nivel actual.\" + deficitRefuerzos + \"A continuación se mostrarán los datos de las pruebas en las que el estudiante no ha dado el nivel esperado:\"\n        }\n        if (avisos[alumno][\"tiempo\"].length >= totalPruebas / 2 && avisos[alumno][\"notas\"].length < totalPruebas / 2) {\n          obj.mensaje = alumno + \",del grupo de 6ºA Primaria, está teniendo dificultades en los tiempos de lectura / ejecución de los ejercicios de la asigntara de Matemáticas. De las últimas \" + totalPruebas +\n            \" ha tenido un tiempo de ejecución elevado en  \" + avisos[alumno][\"tiempo\"].length + \" ocasiones. Además la capacidad lectora / resolutiva de la clase es superior a su nivel actual. \" + deficitRefuerzos + \"A continuación se mostrarán los datos de las pruebas en las que el estudiante ha tenido una resolución con un tiempo demasiado elevado:\"\n        }\n        if (avisos[alumno][\"tiempo\"].length >= totalPruebas / 2 && avisos[alumno][\"notas\"].length >= totalPruebas / 2) {\n          obj.mensaje = alumno + \",del grupo de 6ºA Primaria, está teniendo dificultades, tanto a nivel de tiempos de resolución como de resultados, en la asigntara de Matemáticas. De las últimas \" + totalPruebas +\n            \" pruebas ha suspendido \" + avisos[alumno][\"notas\"].length + \", superando el tiempo de resolución esperado en \" + avisos[alumno][\"tiempo\"].length + \" ejercicios. El nivel general de la clase es superior a su nivel actual.\" + deficitRefuerzos + \"A continuación se mostrarán los datos de las pruebas en las que el estudiante ha tenido problemas:\"\n        }\n\n        if (obj.mensaje) {\n          this.riesgos.push(obj);\n        }\n\n        localStorage.setItem(\"riesgos\", JSON.stringify(this.riesgos));\n\n      }\n    }\n\n  }\n\n  analizar() {\n\n    this.riesgos = [];\n\n    let avisos = {};\n    let lentos = [];\n    let malasNotas = [];\n\n    for (let prueba of this.misPruebas) {\n      for (let entrega of prueba.entregas) {\n        if (entrega.calificación < 5 && entrega.calificación < prueba.mediaNota) {\n          malasNotas.push(entrega);\n        }\n        if (entrega.tiempoTotal > prueba.mediaTiempo && entrega.tiempoTotal > prueba.tiempoEstimado) {\n          lentos.push(entrega);\n        }\n      }\n    }\n\n    for (let malo of malasNotas) {\n      avisos[malo.alumno] ? avisos[malo.alumno] : avisos[malo.alumno] = { notas: [], tiempo: [] }\n      avisos[malo.alumno].notas.push(malo);\n    }\n    for (let lento of lentos) {\n      avisos[lento.alumno] ? avisos[lento.alumno] : avisos[lento.alumno] = { notas: [], tiempo: [] }\n      avisos[lento.alumno].tiempo.push(lento);\n\n    }\n    let totalPruebas = this.misPruebas.length;\n\n    for (let alumno in avisos) {\n      let obj = {\n        alumno: alumno,\n        mensaje: null,\n        id: Math.floor(Math.random() * 100000),\n        nota: avisos[alumno].notas,\n        tiempo: avisos[alumno].tiempo\n      }\n\n      let refuerzos = JSON.parse(localStorage.getItem(\"entregasRefuerzo_\"+ alumno)) || [];\n      let deficitRefuerzos = \"\";\n      if (refuerzos) {\n        let suspensos = 0;\n        for (let refuerzo of refuerzos) {\n          if (refuerzo < 5) {\n            suspensos++;\n          }\n        }\n        if (suspensos > (refuerzos.length / 3)) {\n          deficitRefuerzos = \" Por último, indicar que de las \" + refuerzos.length + \" tareas de refuerzo entregadas, no ha cumplido los requisitos mínimos en \" + suspensos + \" de ellas. \";\n        }\n      }\n      if (avisos[alumno][\"notas\"].length >= totalPruebas / 2 && avisos[alumno][\"tiempo\"].length < totalPruebas / 2) {\n        obj.mensaje = alumno + \",del grupo de 6ºA Primaria, está teniendo dificultades en la asigntara de Matemáticas. De las últimas \" + totalPruebas +\n          \" pruebas ha suspendido \" + avisos[alumno][\"notas\"].length + \". Además la nota media de la clase es superior a su nivel actual.\" + deficitRefuerzos + \"A continuación se mostrarán los datos de las pruebas en las que el estudiante no ha dado el nivel esperado:\"\n      }\n      if (avisos[alumno][\"tiempo\"].length >= totalPruebas / 2 && avisos[alumno][\"notas\"].length < totalPruebas / 2) {\n        obj.mensaje = alumno + \",del grupo de 6ºA Primaria, está teniendo dificultades en los tiempos de lectura / ejecución de los ejercicios de la asigntara de Matemáticas. De las últimas \" + totalPruebas +\n          \" ha tenido un tiempo de ejecución elevado en  \" + avisos[alumno][\"tiempo\"].length + \" ocasiones. Además la capacidad lectora / resolutiva de la clase es superior a su nivel actual. \" + deficitRefuerzos + \"A continuación se mostrarán los datos de las pruebas en las que el estudiante ha tenido una resolución con un tiempo demasiado elevado:\"\n      }\n      if (avisos[alumno][\"tiempo\"].length >= totalPruebas / 2 && avisos[alumno][\"notas\"].length >= totalPruebas / 2) {\n        obj.mensaje = alumno + \",del grupo de 6ºA Primaria, está teniendo dificultades, tanto a nivel de tiempos de resolución como de resultados, en la asigntara de Matemáticas. De las últimas \" + totalPruebas +\n          \" pruebas ha suspendido \" + avisos[alumno][\"notas\"].length + \", superando el tiempo de resolución esperado en \" + avisos[alumno][\"tiempo\"].length + \" ejercicios. El nivel general de la clase es superior a su nivel actual.\" + deficitRefuerzos + \"A continuación se mostrarán los datos de las pruebas en las que el estudiante ha tenido problemas:\"\n      }\n\n      if (obj.mensaje) {\n        this.riesgos.push(obj);\n      }\n\n      localStorage.setItem(\"riesgos\", JSON.stringify(this.riesgos));\n\n    }\n\n  }\n\n  salir() {\n    this.router.navigate(['/home']);\n  }\n\n\n  onFirstDataRendered(params) {\n    this.gridApi = params.api;\n    params.api.sizeColumnsToFit();\n  }\n\n  abrir(msg) {\n    this.modalData = msg;\n    this.lista = false;\n    this.detalle = true;\n\n    let arrayPruebas = msg.nota.concat(msg.tiempo);\n    this.rowData = [];\n\n    for (let prueba of arrayPruebas) {\n      let titulo = prueba.idPrueba.split(\"_X\")[0];\n\n      let obj = {\n        titulo: titulo,\n        id: prueba.idPrueba,\n        asignatura: \"Matemáticas\",\n        nota: prueba.calificación,\n        tiempo: prueba.tiempoTotal\n      }\n\n      let existe = _.find(this.rowData, { id: prueba.idPrueba });\n      if (!existe) {\n        this.rowData.push(obj);\n      }\n    }\n\n\n    this.changeDetectorRef.detectChanges();\n  }\n\n\n  cerrar() {\n    this.lista = true;\n    this.detalle = false;\n    this.changeDetectorRef.detectChanges();\n  }\n\n  normalizar(msg) {\n    this.lista = true;\n    this.detalle = false;\n\n    _.remove(this.riesgos, function (e) {\n      return e.id == msg.id\n    });\n    this.changeDetectorRef.detectChanges();\n    localStorage.setItem(\"riesgos\", JSON.stringify(this.riesgos));\n    this.changeDetectorRef.detectChanges();\n\n  }\n\n}\n"]}