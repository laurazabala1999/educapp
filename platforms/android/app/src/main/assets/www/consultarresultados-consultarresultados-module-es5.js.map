{"version":3,"sources":["webpack:///node_modules/ag-charts-angular/__ivy_ngcc__/fesm2015/ag-charts-angular.js","webpack:///node_modules/ag-charts-community/dist/es6/axis.js","webpack:///node_modules/ag-charts-community/dist/es6/canvas/hdpiCanvas.js","webpack:///node_modules/ag-charts-community/dist/es6/caption.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/agChart.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/agChartMappings.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/axis/categoryAxis.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/axis/groupedCategoryAxis.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/axis/numberAxis.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/axis/timeAxis.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/cartesianChart.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/chart.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/chartAxis.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/groupedCategoryChart.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/hierarchyChart.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/label.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/legend.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/marker/circle.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/marker/cross.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/marker/diamond.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/marker/heart.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/marker/marker.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/marker/plus.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/marker/square.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/marker/triangle.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/marker/util.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/markerLabel.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/navigator/navigator.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/navigator/navigatorHandle.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/navigator/navigatorMask.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/polarChart.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/series/cartesian/areaSeries.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/series/cartesian/barSeries.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/series/cartesian/cartesianSeries.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/series/cartesian/histogramSeries.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/series/cartesian/lineSeries.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/series/cartesian/scatterSeries.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/series/hierarchy/hierarchySeries.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/series/hierarchy/treemapSeries.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/series/polar/pieSeries.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/series/polar/polarSeries.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/series/series.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/series/seriesMarker.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/shapes/rangeHandle.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/shapes/rangeMask.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/shapes/rangeSelector.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/themes/chartTheme.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/themes/darkTheme.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/themes/materialDark.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/themes/materialLight.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/themes/pastelDark.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/themes/pastelLight.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/themes/solarDark.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/themes/solarLight.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/themes/vividDark.js","webpack:///node_modules/ag-charts-community/dist/es6/chart/themes/vividLight.js","webpack:///node_modules/ag-charts-community/dist/es6/interpolate/array.js","webpack:///node_modules/ag-charts-community/dist/es6/interpolate/color.js","webpack:///node_modules/ag-charts-community/dist/es6/interpolate/constant.js","webpack:///node_modules/ag-charts-community/dist/es6/interpolate/date.js","webpack:///node_modules/ag-charts-community/dist/es6/interpolate/number.js","webpack:///node_modules/ag-charts-community/dist/es6/interpolate/object.js","webpack:///node_modules/ag-charts-community/dist/es6/interpolate/value.js","webpack:///node_modules/ag-charts-community/dist/es6/layout/hierarchy.js","webpack:///node_modules/ag-charts-community/dist/es6/layout/tree.js","webpack:///node_modules/ag-charts-community/dist/es6/layout/treemap.js","webpack:///node_modules/ag-charts-community/dist/es6/main.js","webpack:///node_modules/ag-charts-community/dist/es6/scale/bandScale.js","webpack:///node_modules/ag-charts-community/dist/es6/scale/continuousScale.js","webpack:///node_modules/ag-charts-community/dist/es6/scale/linearScale.js","webpack:///node_modules/ag-charts-community/dist/es6/scale/timeScale.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/bbox.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/clipRect.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/dropShadow.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/gradient/gradient.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/gradient/linearGradient.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/group.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/intersection.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/matrix.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/node.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/path2D.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/polyRoots.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/scene.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/selection.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/shape/arc.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/shape/line.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/shape/path.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/shape/rect.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/shape/sector.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/shape/shape.js","webpack:///node_modules/ag-charts-community/dist/es6/scene/shape/text.js","webpack:///node_modules/ag-charts-community/dist/es6/util/angle.js","webpack:///node_modules/ag-charts-community/dist/es6/util/array.js","webpack:///node_modules/ag-charts-community/dist/es6/util/bisect.js","webpack:///node_modules/ag-charts-community/dist/es6/util/color.js","webpack:///node_modules/ag-charts-community/dist/es6/util/compare.js","webpack:///node_modules/ag-charts-community/dist/es6/util/equal.js","webpack:///node_modules/ag-charts-community/dist/es6/util/id.js","webpack:///node_modules/ag-charts-community/dist/es6/util/number.js","webpack:///node_modules/ag-charts-community/dist/es6/util/object.js","webpack:///node_modules/ag-charts-community/dist/es6/util/observable.js","webpack:///node_modules/ag-charts-community/dist/es6/util/padding.js","webpack:///node_modules/ag-charts-community/dist/es6/util/sizeMonitor.js","webpack:///node_modules/ag-charts-community/dist/es6/util/string.js","webpack:///node_modules/ag-charts-community/dist/es6/util/ticks.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/day.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/duration.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/format/defaultLocale.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/format/locale.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/hour.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/interval.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/millisecond.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/minute.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/month.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/second.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/utcDay.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/utcHour.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/utcMinute.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/utcMonth.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/utcWeek.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/utcYear.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/week.js","webpack:///node_modules/ag-charts-community/dist/es6/util/time/year.js","webpack:///src/app/consultarresultados/consultarresultados.page.html","webpack:///src/app/consultarresultados/consultarresultados-routing.module.ts","webpack:///src/app/consultarresultados/consultarresultados.module.ts","webpack:///src/app/consultarresultados/consultarresultados.page.scss","webpack:///src/app/consultarresultados/consultarresultados.page.ts"],"names":["AgChartsAngular","elementDef","_initialised","_destroyed","_nativeElement","nativeElement","options","applyContainerIfNotSet","_chart","create","changes","update","destroy","propsOptions","container","Object","assign","ɵfac","AgChartsAngular_Factory","t","ɵcmp","type","selectors","inputs","features","decls","vars","template","AgChartsAngular_Template","rf","ctx","encapsulation","ctorParameters","propDecorators","args","selector","None","AgChartsAngularModule","ɵmod","ɵinj","factory","AgChartsAngularModule_Factory","imports","ngJitMode","declarations","exports","Tags","AxisTick","width","size","color","count","AxisLabel","fontSize","fontFamily","padding","rotation","mirrored","parallel","defineProperty","prototype","get","_format","set","value","onFormatChange","enumerable","configurable","Axis","scale","id","lineNode","group","line","tick","label","translation","x","y","_visibleRange","_title","undefined","_gridLength","gridStyle","stroke","lineDash","_radialGrid","requestedRange","range","slice","groupSelection","select","selectAll","onTickFormatChange","bind","append","getMeta","updateRange","_a","rr","vr","visibleRange","span","shift","start","inRange","tolerance","inRangeEx","length","min","max","Math","domain","format","tickFormat","tickFormatter","oldTitle","removeChild","node","PI","appendChild","remove","setData","_this","requestedRangeMin","requestedRangeMax","parallelLabels","labelRotation","translationX","translationY","halfBandwidth","bandwidth","sideFlag","parallelFlipRotation","parallelFlipFlag","regularFlipRotation","regularFlipFlag","alignFlag","ticks","exit","enter","each","tag","Tick","gridLength","radialGrid","GridLine","merge","attrFn","_","datum","round","convert","selectByTag","strokeWidth","attr","styleCount_1","gridLines","angularGridLength_1","arc","radius","centerX","centerY","endAngle","radiusX","radiusY","x1","x2","y1","y2","visible","abs","parent","gridLine","index","style","fill","meta","fractionDigits","labelSelection","selectByClass","fontStyle","fontWeight","textBaseline","text","formatter","String","axis","toFixed","textAlign","labelX","autoRotation","rotationCenterX","title","titleVisible","enabled","bottom","titleNode","bbox","computeBBox","excludeTitle","titleRotationFlag","labels","left","Infinity","right","top","computeTransformMatrix","matrix","flyweight","preMultiplySelf","labelBBox","transformBBox","height","HdpiCanvas","document","window","_container","_pixelRatio","NaN","element","createElement","context","getContext","userSelect","display","setPixelRatio","resize","parentNode","_canvas","freeze","toImage","img","src","getDataURL","toDataURL","download","fileName","trim","dataUrl","navigator","msSaveOrOpenBlob","binary","atob","split","array","i","n","push","charCodeAt","blob","Blob","Uint8Array","a","href","body","click","ratio","pixelRatio","devicePixelRatio","overrideScale","imageRendering","_width","_height","resetTransform","_textMeasuringContext","canvas","_svgText","xmlns","svg","createElementNS","setAttribute","classList","add","position","visibility","svgText","_has","textMetrics","textMeasuringContext","measureText","actualBoundingBoxDescent","test","userAgent","getTransform","font","getTextSize","has","metrics","actualBoundingBoxAscent","measureSvgText","cache","textSizeCache","fontCache","size_1","textContent","getBBox","depth","overrides","save","$save","restore","$restore","setTransform","b","c","d","e","f","$setTransform","name_1","hasOwnProperty","__extends","extendStatics","setPrototypeOf","__proto__","Array","p","__","constructor","__decorate","decorators","target","key","desc","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","Caption","_super","call","pointerEvents","fireEvent","__assign","s","apply","__spreadArrays","il","k","j","jl","lightTheme","darkTheme","lightThemes","darkThemes","themes","getChartTheme","stockTheme","baseTheme","palette","firstColorIndex","AgChart","data","autoSize","theme","chart","component","createComponent","pathToSeriesTypeMap","actualSeriesTypeMap","map","actualSeries","forEach","series","mapping","defaults","keys","nonSerializable","indexOf","isArray","path","shape","provideDefaultType","provideDefaultOptions","constructorParams","skipKeys","concat","constructorParamValues","param","filter","setSeriesColors","_loop_1","setAsIs","subComponents","config","fakeTheme","getConfig","parts","modifiedPath","join","after","modifiedConfig","instance","subComponent","listeners","addEventListener","listener","keyPath","oldValue","updateSeries","updateAxes","layoutPending","configs","allSeries","prevSeries","newSeries","removeSeries","addSeriesAfter","addSeries","axes","axesToAdd","axesToUpdate","_loop_2","axisToUpdate","axisToAdd","_i","configs_1","provideDefaultChartType","outerLoop","chartType","seriesType","skipThemeKey","enabledKey","isChartConfig","themeDefaults","isExplicitlyDisabled","hasEnabledKey","_b","_c","_d","_e","chartPadding","commonChartMappings","background","tooltip","tracking","delay","defaultTooltipClass","subtitle","legend","Right","spacing","item","paddingX","paddingY","marker","chartDefaults","mask","minHandle","maxHandle","chartMeta","axisDefaults","seriesDefaults","showInLegend","columnSeriesDefaults","fillOpacity","strokeOpacity","xKey","xName","yKeys","yNames","grouped","normalizedTo","lineDashOffset","shadow","highlightStyle","shadowMapping","xOffset","yOffset","blur","labelDefaults","barLabelMapping","tooltipMapping","renderer","axisMappings","mappings","column","flipXY","yKey","yName","maxSize","sizeKey","labelKey","sizeName","labelName","areaPlot","binCount","bins","aggregation","gripLineGap","gripLineLength","angleKey","angleName","radiusKey","radiusName","callout","outerRadiusOffset","innerRadiusOffset","offset","minAngle","typeToAliases","cartesian","polar","hierarchy","alias","groupedCategoryChartMapping","groupedCategoryChartMeta","CategoryAxis","paddingInner","paddingOuter","className","GroupedCategoryAxisLabel","grid","GroupedCategoryAxis","tickScale","longestSeparatorLength","labelColor","gridLineSelection","axisLineSelection","separatorSelection","tickTree","tickTreeLayout","resizeTickTree","layout","lineHeight","rangeStart","rangeEnd","rangeLength","isHorizontal","cos","treeLabels","nodes","isLabelTree","updateGridLines","enterGridLines","updateLabels","enterLabels","labelFormatter","maxLeafLabelWidth","screenY","screenX","labelGrid","separatorData","children","leafCount","number","toString","minX","updateSeparators","enterSeparators","epsilon","lineCount","lines","updateAxisLines","enterAxisLines","styles_1","includeTitle","NumberAxis","_nice","_min","_max","clamp","nice","isNaN","TimeAxis","CartesianChart","_seriesRoot","scene","root","seriesRoot","performLayout","dataPending","shrinkRect","positionCaptions","positionLegend","legendAutoPadding","legendPadding","captionAutoPadding","margin","bottomAxesHeight","axisThickness","floor","Top","Bottom","Left","seriesRect","initSeries","freeSeries","removeEventListener","setupDomListeners","chartElement","_onTouchStart","onTouchStart","_onTouchMove","onTouchMove","_onTouchEnd","onTouchEnd","_onTouchCancel","onTouchCancel","cleanupDomListeners","getTouchOffset","event","rect","getBoundingClientRect","touch","touches","offsetX","clientX","offsetY","clientY","onDragStart","onDrag","onDragStop","onMouseDown","onMouseMove","onMouseUp","onMouseOut","clipSeries","direction","boundSeries","linkedTo","domains_1","getDomain","X","defaultTooltipCss","toTooltipHtml","input","content","backgroundColor","titleHtml","Chart","ChartTooltip","showTimeout","constrained","tooltipRoot","IntersectionObserver","target_1","observer","entries","entries_1","entry","intersectionRatio","toggle","observe","isVisible","contains","classes","getAttribute","updateClass","show","html","instantly","el","innerHTML","pageX","clientWidth","pageY","clientHeight","tooltipRect","minLeft","maxLeft","innerWidth","pageYOffset","setTimeout","clearTimeout","lastPick","dehighlightDatum","unobserve","_data","_autoSize","_tooltipClass","tooltipTracking","_axes","_series","_axesChanged","_seriesChanged","layoutCallbackId","_performLayout","dataCallbackId","_onMouseDown","_onMouseUp","_onMouseMove","_onMouseOut","_onClick","onClick","_element","onLayoutChange","addPropertyListener","onLegendPositionChange","tooltipDocuments","styleElement","head","insertBefore","querySelector","onCaptionChange","chart_1","clear","values","detachAxis","attachAxis","axesChanged","removeAllSeries","scheduleLayout","scheduleData","before","canAdd","beforeIndex","splice","seriesChanged","updateLegend","onSeriesNodeClick","afterIndex","unshift","assignSeriesToAxes","axisName","assignAxesToSeries","force","directionToAxesMap","directionAxes","directions","findMatchingAxis","getKeys","xAxis","console","warn","yAxis","directionKeys","axisKeys","requestAnimationFrame","cancelAnimationFrame","processData","legendData","listSeriesItems","subtitleVisible","paddingTop","titleBBox","subtitleBBox","legendGroup","legendSpacing","legendBBox","getSeriesRect","pickSeriesNode","containsPoint","pickNode","pickClosestSeriesNodeDatum","getDistance","p1","p2","sqrt","pow","minDistance","closestDatum","hitPoint","transformPoint","getNodeData","point","distance","handleTooltip","pick","nodeDatum","onSeriesDatumPick","hideTooltip","inverseTransformPoint","canvasRect","pageXOffset","checkSeriesNodeClick","checkLegendClick","event_1","fireNodeClickEvent","getDatumForPoint","id_1","itemId","toggleSeriesItem","highlightDatum","getTooltipHtml","highlightedDatum","onHighlightChange","ChartAxisDirection","flipChartAxisDirection","Y","ChartAxisPosition","ChartAxis","_position","GroupedCategoryChart","domains","isNumericX","domain_1","HierarchyChart","Label","LegendOrientation","LegendPosition","LegendLabel","LegendMarker","LegendItem","changeListener","layoutChangeListener","Legend","itemSelection","oldSize","orientation","Vertical","_size","onDataChange","onEnabledChange","onPositionChange","onMarkerShapeChange","Horizontal","updateSelection","MarkerShape","name","enterSelection","itemCount","bboxes","itemMarker","itemLabel","markerLabel","markerSize","itemHeight","rowCount","columnWidth","paddedItemsWidth","paddedItemsHeight","isFinite","columnCount","itemsWidth","itemsHeight","columnCount_1","startX","startY","markerFill","markerStroke","markerStrokeWidth","markerFillOpacity","markerStrokeOpacity","opacity","Circle","updatePath","cubicArc","closePath","Cross","moveTo","lineTo","Diamond","Heart","rad","degree","Marker","_x","_y","dirtyPath","half","Plus","hs","Square","alignment","al","align","Triangle","getMarker","MarkerLabel","_marker","_markerSize","_spacing","Navigator","rs","minHandleDragging","maxHandleDragging","panHandleOffset","_margin","onRangeChange","computeVisibleRangeBBox","maxX","getRatio","cursor","stopHandleDragging","NavigatorHandle","rangeHandle","rh","NavigatorMask","rangeMask","rm","PolarChart","AreaSeriesTooltip","AreaSeries","areaGroup","strokeGroup","markerGroup","areaSelection","strokeSelection","markerSelection","markerSelectionData","seriesItemEnabled","Map","xData","yData","yDomain","fills","strokes","_xKey","_yKeys","seriesItemEnabled_1","setColors","_normalizedTo","absValue","updateMarkerNodes","keysFound","yMinMax","yLargestMinMax","findLargestMinMax","yMin","yMax","stack","fixNumericExtent","totals","totals_1","total","selectionData","generateSelectionData","areaSelectionData","updateAreaSelection","updateStrokeSelection","updateMarkerSelection","xScale","yScale","last","xDatum","yDatum","seriesDatum","prevMin","prevMax","curr","prev","yValue","areaDatum","points","areaPoints","updateAreas","enterAreas","lineJoin","fillShadow","updateStrokes","enterStrokes","lineCap","updateMarkers","enterMarkers","markerFormatter","highlightFill","highlightStroke","highlighted","markerFormat","tooltipRenderer","tooltipFormat","xValue","yKeyIndex","xString","yString","params","BarSeriesNodeTag","BarSeriesLabel","BarSeriesTooltip","flat","arr","v","BarSeries","rectGroup","textGroup","rectSelection","textSelection","groupScale","_xName","cumYKeyCount","flatYKeys","hideInLegend","_grouped","_yNames","_strokeWidth","prevYKeyCount_1","visibleStacks_1","map_1","_shadow","updateRectNodes","groups","tallestStackMin","tallestStackMax","groups_1","group_1","generateNodeData","labelFontStyle","labelFontWeight","labelFontSize","labelFontFamily","barWidth","nodeData","groupIndex","groupYs","stackIndex","stackYs","prevMinY","prevMaxY","levelIndex","currY","barX","prevY","bottomY","yValueIsNumber","labelText","colorIndex","updateRectSelection","updateTextSelection","updateTextNodes","updateRects","enterRects","Bar","crisp","rectFill","rectStroke","updateTexts","enterTexts","labelEnabled","yKeys_1","visibleStacks","CartesianSeries","CartesianSeriesMarker","HistogramSeriesNodeTag","HistogramSeriesLabel","defaultBinCount","aggregationFunctions","bin","sum","reduce","acc","mean","HistogramBin","domainMin","domainMax","aggregatedValue","frequency","addDatum","domainWidth","calculateAggregatedValue","aggregationName","aggregationFunction","getY","relativeHeight","HistogramSeriesTooltip","HistogramSeries","binnedData","xDomain","_areaPlot","_bins","_aggregation","_binCount","_yKey","_yName","deriveBins","binStarts","binSize","firstBinEnd","expandStartToBin","placeDataInBins","derivedBins","sortedData","sort","currentBin","loop","ln","Number","NEGATIVE_INFINITY","firstBin","lastBin","xMin","xMax","defaultLabelFormatter","binOfData","xDomainMin","xDomainMax","xMinPx","xMaxPx","yZeroPx","yMaxPx","w","h","selectionDatumLabel","Bin","rangeMin","rangeMax","LineSeriesTooltip","LineSeries","nodeSelection","onMarkerEnabledChange","isContinuousX","isContinuousY","updateNodes","updateLinePath","updateNodeSelection","getXYDatums","noDatum","linePath","prevXInRange","nextXYDatums","xyDatums","xInRange","nextXInRange","ScatterSeriesTooltip","ScatterSeries","sizeData","sizeScale","_fill","_stroke","_fillOpacity","_strokeOpacity","HierarchySeries","TreemapSeriesTooltip","TreemapSeriesLabel","TextNodeTag","TreemapSeries","labelMap","large","medium","small","_nodePadding","colorKey","colorDomain","colorRange","colorParents","gradient","colorName","rootName","updateLayoutPadding","nodePadding","paddingRight","paddingBottom","paddingLeft","toUpperCase","textSize","innerNodeWidth","x0","hasTitle","dataRoot","colorScale","traverse","colorValue","child","getLabelCenterX","getLabelCenterY","y0","descendants","updateGroups","enterGroups","Name","Value","isLeaf","innerNodeHeight","textBBox","hasLabel","nameNode","PieNodeTag","PieSeriesLabel","PieSeriesCallout","colors","PieSeriesTooltip","PieSeries","radiusScale","groupSelectionData","angleScale","angle","_fills","_strokes","source","fromString","darker","toHexString","angleData","angleDataTotal","angleDataRatios","labelData","radiusData","radiusMin","radiusMax","radii","min_1","delta_1","halfPi","datumIndex","end","startAngle","midAngle","midCos","midSin","sin","labelMinAngle","labelVisible","midAngle180","quadrantStart","updateGroupSelection","Sector","Callout","centerOffset","centerOffsets","innerRadius","sector","outerRadius","sectorFill","sectorStroke","calloutColors","calloutLength","calloutStrokeWidth","offset_1","fontStyle_1","fontWeight_1","fontSize_1","fontFamily_1","color_1","labelRadius","angleValue","formattedAngleValue","radiusValue","fills_1","strokes_1","PolarSeries","PolarSeriesMarker","SeriesTooltip","Series","tooltipEnabled","extent","Date","getTime","SeriesMarker","RangeHandle","_lineCap","_centerX","_centerY","_gripLineGap","_gripLineLength","isPointInPath","ax","ay","axw","ayh","dx","dy","RangeMask","minRange","RangeSelector","isContainerNode","updateHandles","render","dirtyTransform","toContext","ChartTheme","createChartConfigPerSeries","getDefaults","mergeOptions_1","arrayMerge","overrides_1","common","seriesTypes","cartesianSeriesTypes","polarSeriesTypes","chartConfig","getPalette","getAxisDefaults","getSeriesDefaults","getBarSeriesDefaults","getCartesianSeriesMarkerDefaults","getChartDefaults","mergeWithParentDefaults","mergeOptions","proto","getPrototypeOf","parentDefaults","seriesOptions","colorCount","getSeriesColorCount","cartesianDefaults","category","groupedCategory","time","bar","scatter","area","histogram","pie","treemap","DarkTheme","fontColor","mutedFontColor","seriesLabelDefaults","MaterialDark","MaterialLight","PastelDark","PastelLight","SolarDark","SolarLight","VividDark","VividLight","nb","na","fromArray","red","green","g","blue","alpha","toRgbaString","date","msA","msB","setTime","valueOf","HierarchyNode","countFn","eachAfter","callback","scope","iterator","next","pop","eachBefore","find","result","compare","ancestor","leastCommonAncestor","ancestors","leaves","links","copy","current","doLoop","reverse","mapChildren","objectChildren","childs","from","computeHeight","aNodes","bNodes","TreeNode","subtreeLeft","subtreeRight","prelim","mod","change","getLeftSibling","getLeftmostSibling","nextLeft","thread","nextRight","getSiblings","ticksToTree","pad","insertTick","pathParts","lastPartIndex","pathPart","partIndex","existingNode","isNotLeaf","moveSubtree","wm","wp","subtrees","vim","defaultAncestor","executeShifts","apportion","vop","vip","vom","sip","sop","sim","som","firstWalk","defaultAncestor_1","midpoint","leftSibling","Dimensions","xy","secondWalk","m","thirdWalk","treeLayout","TreeLayout","dimensions","leafNodes","nonLeafNodes","shiftX","shiftY","flipX","xSteps","ySteps","scalingX","scalingY","existingSpacingX","desiredSpacingX","existingSpacingY","desiredSpacingY","screenDimensions","logTree","log","dice","roundNode","squarifyRatio","rows","i0","i1","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","beta","row","phi","squarify","custom","Treemap","paddingStack","tile","positionNode","millisecond","second","minute","hour","day","sunday","monday","tuesday","wednesday","thursday","friday","saturday","month","year","utcMinute","utcHour","utcDay","utcMonth","utcYear","BandScale","ordinalRange","_domain","_range","_bandwidth","_paddingInner","_paddingOuter","_round","_align","rescale","reversed","step","constant","identity","clamper","ContinuousScale","unknown","_clamp","transform","untransform","_interpolate","setDomain","piecewise","polymap","bimap","output","normalize","interpolate","xt","ty","dt","tr","invert","LinearScale","stop","ceil","TimeScale","week","tickIntervals","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","defaultTickFormat","tickInterval","interval","tickCount","every","t0","t1","specifier","BBox","isValid","dilate","noParams","strokeStyle","lineWidth","strokeRect","fillStyle","fillText","ClipRect","_enabled","_dirtyPath","dirty","appendPath","clip","DropShadow","Gradient","stops","LinearGradient","generateGradient","radians","cx","cy","l","atan","gradient_1","createLinearGradient","addColorStop","Group","parent_1","segmentIntersection","ax1","ay1","ax2","ay2","bx1","by1","bx2","by2","ua","ub","cubicSegmentIntersections","px1","py1","px2","py2","px3","py3","px4","py4","intersections","A","B","C","bx","bezierCoefficients","by","roots","tt","ttt","P1","P2","P3","P4","Matrix","elements","setElements","setIdentityElements","AxB","m11","m12","m21","m22","m31","m32","o11","o12","o21","o22","o31","o32","multiplySelf","other","multiply","inverse","rD","inverseTo","invertSelf","clone","xx","yx","yy","h_w","h_h","sx","sy","PointerEvents","Node","_children","childSet","inverseMatrix","_dirtyTransform","_scalingX","_scalingY","_scalingCenterX","_scalingCenterY","_rotationCenterX","_rotationCenterY","_rotation","_translationX","_translationY","_dirty","_visible","All","isNode","_setScene","_scene","_setParent","_parent","countChildren","MAX_SAFE_INTEGER","Error","nextNode","hit","computeBBoxCenter","bbcx","bbcy","scx","scy","scalingCenterX","scalingCenterY","rcx","rcy","rotationCenterY","tx","tx4","ty4","Path2D","commands","_closedPath","arcTo","rx","ry","fA","fS","hdx","hdy","sinPhi","cosPhi","xp","yp","ratX","ratY","lambda","cpx","cpy","theta1","atan2","deltaTheta","theta2","anticlockwise","temp","f90","sinTheta1","cosTheta1","rightAngle","lastX","tan","sinPhi2","cosPhi2","C2x","C2y","deCasteljau","newPoints","approximateCurve","xy_1","quadraticCurveTo","cubicCurveTo","cx1","cy1","cx2","cy2","cn","ox","oy","px","py","intersectionCount","ci","pi","setFromString","parseSvgPath","splitCommandsRe","part","strParams","match","matchParamsRe","command","substr","parseFloat","prettifySvgPath","lastCommand","checkQuadraticCP","quadraticCommandRe","checkCubicCP","cubicCommandRe","out","toPrettyString","toSvg","xmlDeclaration","toDebugSvg","toCubicPaths","paths","cubicPathToString","sign","linearRoot","quadraticRoots","D","t2","cubicRoots","Q","R","third","S","T","Im","t_1","theta","acos","thirdA","twoSqrtQ","t3","Scene","animationFrameId","_root","debug","renderFrameIndex","renderBoundingBoxes","_frameIndex","pendingSize","clearRect","fillRect","frameIndex","cancelRender","beginPath","bezierCurveTo","EnterNode","Selection","parents","Class","appendFn","creator","numGroups","subgroups","groupSize","subgroup","subnode","selectAllByClass","selectAllByTag","selectNone","selectorAll","groupCount","groupLength","cb","groups0","groups1","m0","m1","merges","group0","group1","exitGroups","setDatum","data_1","parent_2","dataSize","enterGroup","updateGroup","exitGroup","bindKey","bindIndex","previous","keyValues","nodeByKeyValue","keyValue","keyPrefix","ArcType","Arc","_radiusX","_radiusY","_startAngle","_endAngle","_counterClockwise","_type","Open","restoreOwnStyles","counterClockwise","Chord","Round","fullPie","defaultStyles","Line","_x1","_y1","_x2","_y2","isPointInStroke","fillStroke","Path","_svgPath","closedPath","RectSizing","Rect","_radius","_crisp","_gradient","effectiveStrokeWidth","_sizing","Content","updateGradientInstance","brighter","gradientInstance","sizing","Border","borderSizing","halfWidth","halfHeight","globalAlpha","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","setLineDash","strokeShadow","_centerOffset","_innerRadius","_outerRadius","_angleOffset","angleOffset","Shape","lastInstanceId","_lineDash","_lineDashOffset","_lineJoin","_opacity","onShadowChange","_fillShadow","_strokeShadow","createInstance","styles","getOwnPropertyNames","restoreAllStyles","property","restoreOverriddenStyles","protoStyles","identical","Text","lineBreakRegex","_text","_dirtyFont","_fontSize","_fontFamily","_textAlign","_textBaseline","_lineHeight","splitText","str","dirtyFont","_font","_fontStyle","_fontWeight","getPreciseBBox","getApproximateBBox","actualBoundingBoxLeft","strokeText","twoPi","normalizeAngle360","normalizeAngle360Inclusive","normalizeAngle180","toRadians","degrees","toDegrees","predicate","findIndex","finiteExtent","numericExtent","calculatedExtent","findMinMax","values_1","bisectLeft","list","comparator","lo","hi","mid","bisectRight","complexBisectLeft","ascendingComparator","complexBisectRight","Color","fromHexString","hex","nameToHex","fromRgbaString","hexRe","parseInt","shortHexRe","rgbRe","rgbaRe","fromHSB","rgb","HSBtoRGB","padHex","components","toHSB","RGBtoHSB","H","delta","rc","gc","bc","q","derive","hueShift","saturationFactor","brightnessFactor","opacityFactor","hsb","rgba","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","ascending","equal","length_1","RegExp","flags","createId","isEqual","fractionOrSignificantDigits","power","LN10","numberUnits","log10","LOG10E","toReadableNumber","prefix","thousands","chainObjects","obj","prop","getValue","object","emptyTarget","cloneUnlessOtherwiseSpecified","isMergeableObject","deepMerge","defaultArrayMerge","getMergeFunction","customMerge","getEnumerableOwnPropertySymbols","getOwnPropertySymbols","symbol","propertyIsEnumerable","propertyIsOnObject","propertyIsUnsafe","mergeObject","destination","defaultIsMergeableObject","isNonNullObject","isSpecial","stringValue","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","isObject","Observable","allPropertyListeners","allEventListeners","propertyListeners","scopes_1","Set","scopes","removePropertyListener","notifyPropertyListeners","eventListeners","scopes_2","notifyEventListeners","types","privateKeyPrefix","reactive","events","privateKey","privateKeyEvents","events_1","Padding","SizeMonitor","init","NativeResizeObserver","ResizeObserver","resizeObserver","contentRect","checkSize","setInterval","ready","requestAnimationFrameId","interpolatePattern","formats","replace","valueName","formatName","locales","toLocaleString","toDateString","tickStep","e10","e5","e2","rawStep","error","tickIncrement","NumericTicks","absStep","setHours","days","setDate","getDate","tzMinuteDelta","getTimezoneOffset","field","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","locale","setDefaultLocale","dateTime","periods","shortDays","months","shortMonths","definition","localDate","M","L","setFullYear","utcDate","UTC","setUTCFullYear","formatLookup","names","toLowerCase","newYear","percentCharCode","numberRe","percentRe","requoteRe","requote","formatRe","pads","string","formatLocale","timeLocale","lDateTime","lDate","lTime","lPeriods","lWeekdays","lShortWeekdays","lMonths","lShortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formatShortWeekday","formatWeekday","formatShortMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","newFormat","newParse","newDate","parseSpecifier","V","getUTCDay","getUTCFullYear","getUTCMonth","getUTCDate","getDay","getFullYear","getMonth","u","W","U","Z","charAt","pad_1","code","char","parse","getMilliseconds","getSeconds","getMinutes","getHours","dayOfWeek","yearStart","z","getUTCMilliseconds","getUTCSeconds","getUTCMinutes","getUTCHours","exec","utcFormat","utcParse","hours","TimeInterval","_floor","_offset","d0","d1","ms","CountableTimeInterval","_count","_field","field_1","milliseconds","minutes","setMonth","seconds","setUTCHours","setUTCDate","setUTCMinutes","setUTCSeconds","setUTCMonth","weekday","weeks","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","years","msDelta","routes","ConsultarresultadosPageRoutingModule","forChild","ConsultarresultadosPageModule","withComponents","ConsultarresultadosPage","changeDetectorRef","router","profesor","localStorage","getItem","pruebasFilter","disabled","rowSelection","rowData","rowDataFilter","idSelect","sTabla","sGrafico","mediaTiempo","mediaNota","miNota","miTiempo","mensajeShow","mensajeEnviar","columnDefs","headerName","sortable","valueParser","numberParser","cellStyle","opinion","sAlumno","sGrupo","sPrueba","alumnosG","JSON","pruebasG","gruposG","alumnoS","pruebaS","grupoS","bAlumno","bGrupo","bPrueba","lineaSeleccionada","pruebascolor","tiempoEstimado","colDef","media","trunc","detectChanges","prueba","entregas","entrega","alumno","titulo","puntuacion","calificación","tiempo","tiempoTotal","grupos","seleccionado","seleccion","pruebaStorageMsg","msgtest","alert","asignatura","msg","leido","setItem","stringify","newValue","valueAsNumber","pruebas","nota","grupo","gridApi","api","sizeColumnsToFit","navigate","selected","getSelectedRows"],"mappings":"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AAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;A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","file":"consultarresultados-consultarresultados-module-es5.js","sourcesContent":["import { Component, ViewEncapsulation, ElementRef, Input, NgModule } from '@angular/core';\nimport { AgChart } from 'ag-charts-community';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/ag-charts-angular.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n// noinspection AngularIncorrectTemplateDefinition\nimport * as ɵngcc0 from '@angular/core';\nclass AgChartsAngular {\n    /**\n     * @param {?} elementDef\n     */\n    constructor(elementDef) {\n        this._initialised = false;\n        this._destroyed = false;\n        this._nativeElement = elementDef.nativeElement;\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        /** @type {?} */\n        const options = this.applyContainerIfNotSet(this.options);\n        this._chart = AgChart.create(options);\n        this._initialised = true;\n    }\n    // noinspection JSUnusedGlobalSymbols,JSUnusedLocalSymbols\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (this._initialised) {\n            AgChart.update(this._chart, this.applyContainerIfNotSet(this.options));\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        if (this._initialised) {\n            if (this._chart) {\n                this._chart.destroy();\n            }\n            this._destroyed = true;\n        }\n    }\n    /**\n     * @private\n     * @param {?} propsOptions\n     * @return {?}\n     */\n    applyContainerIfNotSet(propsOptions) {\n        if (propsOptions.container) {\n            return propsOptions;\n        }\n        return Object.assign({}, propsOptions, { container: this._nativeElement });\n    }\n}\nAgChartsAngular.ɵfac = function AgChartsAngular_Factory(t) { return new (t || AgChartsAngular)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nAgChartsAngular.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: AgChartsAngular, selectors: [[\"ag-charts-angular\"]], inputs: { options: \"options\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function AgChartsAngular_Template(rf, ctx) { }, encapsulation: 2 });\n/** @nocollapse */\nAgChartsAngular.ctorParameters = () => [\n    { type: ElementRef }\n];\nAgChartsAngular.propDecorators = {\n    options: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AgChartsAngular, [{\n        type: Component,\n        args: [{\n                selector: 'ag-charts-angular',\n                template: '',\n                encapsulation: ViewEncapsulation.None\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { options: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    AgChartsAngular.prototype._nativeElement;\n    /**\n     * @type {?}\n     * @private\n     */\n    AgChartsAngular.prototype._initialised;\n    /**\n     * @type {?}\n     * @private\n     */\n    AgChartsAngular.prototype._destroyed;\n    /**\n     * @type {?}\n     * @private\n     */\n    AgChartsAngular.prototype._chart;\n    /** @type {?} */\n    AgChartsAngular.prototype.options;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/ag-charts-angular.module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass AgChartsAngularModule {\n}\nAgChartsAngularModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: AgChartsAngularModule });\nAgChartsAngularModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function AgChartsAngularModule_Factory(t) { return new (t || AgChartsAngularModule)(); }, imports: [[]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(AgChartsAngularModule, { declarations: [AgChartsAngular], exports: [AgChartsAngular] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AgChartsAngularModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [AgChartsAngular],\n                imports: [],\n                exports: [AgChartsAngular]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: ag-charts-angular.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { AgChartsAngular, AgChartsAngularModule };\n\n//# sourceMappingURL=ag-charts-angular.js.map","import { Group } from \"./scene/group\";\nimport { Selection } from \"./scene/selection\";\nimport { Line } from \"./scene/shape/line\";\nimport { normalizeAngle360, normalizeAngle360Inclusive, toRadians } from \"./util/angle\";\nimport { Text } from \"./scene/shape/text\";\nimport { Arc } from \"./scene/shape/arc\";\nimport { BBox } from \"./scene/bbox\";\nimport { Matrix } from \"./scene/matrix\";\nimport { createId } from \"./util/id\";\n// import { Rect } from \"./scene/shape/rect\"; // debug (bbox)\nvar Tags;\n(function (Tags) {\n    Tags[Tags[\"Tick\"] = 0] = \"Tick\";\n    Tags[Tags[\"GridLine\"] = 1] = \"GridLine\";\n})(Tags || (Tags = {}));\nvar AxisTick = /** @class */ (function () {\n    function AxisTick() {\n        /**\n         * The line width to be used by axis ticks.\n         */\n        this.width = 1;\n        /**\n         * The line length to be used by axis ticks.\n         */\n        this.size = 6;\n        /**\n         * The color of the axis ticks.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make the ticks invisible.\n         */\n        this.color = 'rgba(195, 195, 195, 1)';\n        /**\n         * A hint of how many ticks to use (the exact number of ticks might differ),\n         * a `TimeInterval` or a `CountableTimeInterval`.\n         * For example:\n         *\n         *     axis.tick.count = 5;\n         *     axis.tick.count = year;\n         *     axis.tick.count = month.every(6);\n         */\n        this.count = 10;\n    }\n    return AxisTick;\n}());\nexport { AxisTick };\nvar AxisLabel = /** @class */ (function () {\n    function AxisLabel() {\n        this.fontSize = 12;\n        this.fontFamily = 'Verdana, sans-serif';\n        /**\n         * The padding between the labels and the ticks.\n         */\n        this.padding = 5;\n        /**\n         * The color of the labels.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make labels invisible.\n         */\n        this.color = 'rgba(87, 87, 87, 1)';\n        /**\n         * Custom label rotation in degrees.\n         * Labels are rendered perpendicular to the axis line by default.\n         * Or parallel to the axis line, if the {@link parallel} is set to `true`.\n         * The value of this config is used as the angular offset/deflection\n         * from the default rotation.\n         */\n        this.rotation = 0;\n        /**\n         * By default labels and ticks are positioned to the left of the axis line.\n         * `true` positions the labels to the right of the axis line.\n         * However, if the axis is rotated, its easier to think in terms\n         * of this side or the opposite side, rather than left and right.\n         * We use the term `mirror` for conciseness, although it's not\n         * true mirroring - for example, when a label is rotated, so that\n         * it is inclined at the 45 degree angle, text flowing from north-west\n         * to south-east, ending at the tick to the left of the axis line,\n         * and then we set this config to `true`, the text will still be flowing\n         * from north-west to south-east, _starting_ at the tick to the right\n         * of the axis line.\n         */\n        this.mirrored = false;\n        /**\n         * Labels are rendered perpendicular to the axis line by default.\n         * Setting this config to `true` makes labels render parallel to the axis line\n         * and center aligns labels' text at the ticks.\n         */\n        this.parallel = false;\n    }\n    Object.defineProperty(AxisLabel.prototype, \"format\", {\n        get: function () {\n            return this._format;\n        },\n        set: function (value) {\n            // See `TimeLocaleObject` docs for the list of supported format directives.\n            if (this._format !== value) {\n                this._format = value;\n                if (this.onFormatChange) {\n                    this.onFormatChange(value);\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AxisLabel;\n}());\nexport { AxisLabel };\n/**\n * A general purpose linear axis with no notion of orientation.\n * The axis is always rendered vertically, with horizontal labels positioned to the left\n * of the axis line by default. The axis can be {@link rotation | rotated} by an arbitrary angle,\n * so that it can be used as a top, right, bottom, left, radial or any other kind\n * of linear axis.\n * The generic `D` parameter is the type of the domain of the axis' scale.\n * The output range of the axis' scale is always numeric (screen coordinates).\n */\nvar Axis = /** @class */ (function () {\n    function Axis(scale) {\n        // debug (bbox)\n        // private bboxRect = (() => {\n        //     const rect = new Rect();\n        //     rect.fill = undefined;\n        //     rect.stroke = 'red';\n        //     rect.strokeWidth = 1;\n        //     rect.strokeOpacity = 0.2;\n        //     return rect;\n        // })();\n        this.id = createId(this);\n        this.lineNode = new Line();\n        this.group = new Group();\n        this.line = {\n            width: 1,\n            color: 'rgba(195, 195, 195, 1)'\n        };\n        this.tick = new AxisTick();\n        this.label = new AxisLabel();\n        this.translation = { x: 0, y: 0 };\n        this.rotation = 0; // axis rotation angle in degrees\n        this._visibleRange = [0, 1];\n        this._title = undefined;\n        /**\n         * The length of the grid. The grid is only visible in case of a non-zero value.\n         * In case {@link radialGrid} is `true`, the value is interpreted as an angle\n         * (in degrees).\n         */\n        this._gridLength = 0;\n        /**\n         * The array of styles to cycle through when rendering grid lines.\n         * For example, use two {@link GridStyle} objects for alternating styles.\n         * Contains only one {@link GridStyle} object by default, meaning all grid lines\n         * have the same style.\n         */\n        this.gridStyle = [{\n                stroke: 'rgba(219, 219, 219, 1)',\n                lineDash: [4, 2]\n            }];\n        /**\n         * `false` - render grid as lines of {@link gridLength} that extend the ticks\n         *           on the opposite side of the axis\n         * `true` - render grid as concentric circles that go through the ticks\n         */\n        this._radialGrid = false;\n        this.scale = scale;\n        this.requestedRange = scale.range.slice();\n        this.groupSelection = Selection.select(this.group).selectAll();\n        this.label.onFormatChange = this.onTickFormatChange.bind(this);\n        this.group.append(this.lineNode);\n        this.onTickFormatChange();\n        // this.group.append(this.bboxRect); // debug (bbox)\n    }\n    Axis.prototype.getMeta = function () { };\n    Axis.prototype.updateRange = function () {\n        var _a = this, rr = _a.requestedRange, vr = _a.visibleRange, scale = _a.scale;\n        var span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n        var shift = span * vr[0];\n        var start = rr[0] - shift;\n        scale.range = [start, start + span];\n    };\n    /**\n     * Checks if a point or an object is in range.\n     * @param x A point (or object's starting point).\n     * @param width Object's width.\n     * @param tolerance Expands the range on both ends by this amount.\n     */\n    Axis.prototype.inRange = function (x, width, tolerance) {\n        if (width === void 0) { width = 0; }\n        if (tolerance === void 0) { tolerance = 0; }\n        return this.inRangeEx(x, width, tolerance) === 0;\n    };\n    Axis.prototype.inRangeEx = function (x, width, tolerance) {\n        if (width === void 0) { width = 0; }\n        if (tolerance === void 0) { tolerance = 0; }\n        var range = this.range;\n        if ((x + width) < (range[0] - tolerance)) {\n            return -1; // left or range\n        }\n        if (x > (range[1] + tolerance)) {\n            return 1; // right of range\n        }\n        return 0; // in range\n    };\n    Object.defineProperty(Axis.prototype, \"range\", {\n        get: function () {\n            return this.requestedRange.slice();\n        },\n        set: function (value) {\n            this.requestedRange = value.slice();\n            this.updateRange();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"visibleRange\", {\n        get: function () {\n            return this._visibleRange.slice();\n        },\n        set: function (value) {\n            if (value && value.length === 2) {\n                var min = value[0], max = value[1];\n                min = Math.max(0, min);\n                max = Math.min(1, max);\n                min = Math.min(min, max);\n                max = Math.max(min, max);\n                this._visibleRange = [min, max];\n                this.updateRange();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"domain\", {\n        get: function () {\n            return this.scale.domain.slice();\n        },\n        set: function (value) {\n            this.scale.domain = value.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Axis.prototype.onTickFormatChange = function (format) {\n        if (format) {\n            if (this.scale.tickFormat) {\n                this.tickFormatter = this.scale.tickFormat(10, format);\n            }\n        }\n        else {\n            if (this.scale.tickFormat) {\n                this.tickFormatter = this.scale.tickFormat(10, undefined);\n            }\n            else {\n                this.tickFormatter = undefined;\n            }\n        }\n    };\n    Object.defineProperty(Axis.prototype, \"title\", {\n        get: function () {\n            return this._title;\n        },\n        set: function (value) {\n            var oldTitle = this._title;\n            if (oldTitle !== value) {\n                if (oldTitle) {\n                    this.group.removeChild(oldTitle.node);\n                }\n                if (value) {\n                    value.node.rotation = -Math.PI / 2;\n                    this.group.appendChild(value.node);\n                }\n                this._title = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"gridLength\", {\n        get: function () {\n            return this._gridLength;\n        },\n        set: function (value) {\n            // Was visible and now invisible, or was invisible and now visible.\n            if (this._gridLength && !value || !this._gridLength && value) {\n                this.groupSelection = this.groupSelection.remove().setData([]);\n            }\n            this._gridLength = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"radialGrid\", {\n        get: function () {\n            return this._radialGrid;\n        },\n        set: function (value) {\n            if (this._radialGrid !== value) {\n                this._radialGrid = value;\n                this.groupSelection = this.groupSelection.remove().setData([]);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Creates/removes/updates the scene graph nodes that constitute the axis.\n     * Supposed to be called _manually_ after changing _any_ of the axis properties.\n     * This allows to bulk set axis properties before updating the nodes.\n     * The node changes made by this method are rendered on the next animation frame.\n     * We could schedule this method call automatically on the next animation frame\n     * when any of the axis properties change (the way we do when properties of scene graph's\n     * nodes change), but this will mean that we first wait for the next animation\n     * frame to make changes to the nodes of the axis, then wait for another animation\n     * frame to render those changes. It's nice to have everything update automatically,\n     * but this extra level of async indirection will not just introduce an unwanted delay,\n     * it will also make it harder to reason about the program.\n     */\n    Axis.prototype.update = function () {\n        var _this = this;\n        var _a = this, group = _a.group, scale = _a.scale, tick = _a.tick, label = _a.label, gridStyle = _a.gridStyle, requestedRange = _a.requestedRange;\n        var requestedRangeMin = Math.min(requestedRange[0], requestedRange[1]);\n        var requestedRangeMax = Math.max(requestedRange[0], requestedRange[1]);\n        var rotation = toRadians(this.rotation);\n        var parallelLabels = label.parallel;\n        var labelRotation = normalizeAngle360(toRadians(label.rotation));\n        group.translationX = this.translation.x;\n        group.translationY = this.translation.y;\n        group.rotation = rotation;\n        var halfBandwidth = (scale.bandwidth || 0) / 2;\n        // The side of the axis line to position the labels on.\n        // -1 = left (default)\n        //  1 = right\n        var sideFlag = label.mirrored ? 1 : -1;\n        // When labels are parallel to the axis line, the `parallelFlipFlag` is used to\n        // flip the labels to avoid upside-down text, when the axis is rotated\n        // such that it is in the right hemisphere, i.e. the angle of rotation\n        // is in the [0, π] interval.\n        // The rotation angle is normalized, so that we have an easier time checking\n        // if it's in the said interval. Since the axis is always rendered vertically\n        // and then rotated, zero rotation means 12 (not 3) o-clock.\n        // -1 = flip\n        //  1 = don't flip (default)\n        var parallelFlipRotation = normalizeAngle360(rotation);\n        var parallelFlipFlag = !labelRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI ? -1 : 1;\n        var regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n        // Flip if the axis rotation angle is in the top hemisphere.\n        var regularFlipFlag = !labelRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI ? -1 : 1;\n        var alignFlag = labelRotation >= 0 && labelRotation <= Math.PI ? -1 : 1;\n        var ticks = scale.ticks(this.tick.count);\n        var update = this.groupSelection.setData(ticks);\n        update.exit.remove();\n        var enter = update.enter.append(Group);\n        // Line auto-snaps to pixel grid if vertical or horizontal.\n        enter.append(Line).each(function (node) { return node.tag = Tags.Tick; });\n        if (this.gridLength) {\n            if (this.radialGrid) {\n                enter.append(Arc).each(function (node) { return node.tag = Tags.GridLine; });\n            }\n            else {\n                enter.append(Line).each(function (node) { return node.tag = Tags.GridLine; });\n            }\n        }\n        enter.append(Text);\n        var groupSelection = update.merge(enter);\n        groupSelection\n            .attrFn('translationY', function (_, datum) {\n            return Math.round(scale.convert(datum) + halfBandwidth);\n        })\n            .attrFn('visible', function (node) {\n            return node.translationY >= requestedRangeMin && node.translationY <= requestedRangeMax;\n        });\n        groupSelection.selectByTag(Tags.Tick)\n            .each(function (line) {\n            line.strokeWidth = tick.width;\n            line.stroke = tick.color;\n        })\n            .attr('x1', sideFlag * tick.size)\n            .attr('x2', 0)\n            .attr('y1', 0)\n            .attr('y2', 0);\n        if (this.gridLength && gridStyle.length) {\n            var styleCount_1 = gridStyle.length;\n            var gridLines = void 0;\n            if (this.radialGrid) {\n                var angularGridLength_1 = normalizeAngle360Inclusive(toRadians(this.gridLength));\n                gridLines = groupSelection.selectByTag(Tags.GridLine)\n                    .each(function (arc, datum) {\n                    var radius = Math.round(scale.convert(datum) + halfBandwidth);\n                    arc.centerX = 0;\n                    arc.centerY = scale.range[0] - radius;\n                    arc.endAngle = angularGridLength_1;\n                    arc.radiusX = radius;\n                    arc.radiusY = radius;\n                });\n            }\n            else {\n                gridLines = groupSelection.selectByTag(Tags.GridLine)\n                    .each(function (line) {\n                    line.x1 = 0;\n                    line.x2 = -sideFlag * _this.gridLength;\n                    line.y1 = 0;\n                    line.y2 = 0;\n                    line.visible = Math.abs(line.parent.translationY - scale.range[0]) > 1;\n                });\n            }\n            gridLines.each(function (gridLine, _, index) {\n                var style = gridStyle[index % styleCount_1];\n                gridLine.stroke = style.stroke;\n                gridLine.strokeWidth = tick.width;\n                gridLine.lineDash = style.lineDash;\n                gridLine.fill = undefined;\n            });\n        }\n        var tickFormatter = this.tickFormatter;\n        var meta = this.getMeta();\n        // `ticks instanceof NumericTicks` doesn't work here, so we feature detect.\n        var fractionDigits = ticks.fractionDigits >= 0 ? ticks.fractionDigits : 0;\n        var labelSelection = groupSelection.selectByClass(Text)\n            .each(function (node, datum, index) {\n            node.fontStyle = label.fontStyle;\n            node.fontWeight = label.fontWeight;\n            node.fontSize = label.fontSize;\n            node.fontFamily = label.fontFamily;\n            node.fill = label.color;\n            node.textBaseline = parallelLabels && !labelRotation\n                ? (sideFlag * parallelFlipFlag === -1 ? 'hanging' : 'bottom')\n                : 'middle';\n            node.text = label.formatter\n                ? label.formatter({\n                    value: fractionDigits >= 0 ? datum : String(datum),\n                    index: index,\n                    fractionDigits: fractionDigits,\n                    formatter: tickFormatter,\n                    axis: meta\n                })\n                : fractionDigits\n                    // the `datum` is a floating point number\n                    ? datum.toFixed(fractionDigits)\n                    // the `datum` is an integer, a string or an object\n                    : tickFormatter\n                        ? tickFormatter(datum)\n                        : String(datum);\n            node.textAlign = parallelLabels\n                ? labelRotation ? (sideFlag * alignFlag === -1 ? 'end' : 'start') : 'center'\n                : sideFlag * regularFlipFlag === -1 ? 'end' : 'start';\n        });\n        var labelX = sideFlag * (tick.size + label.padding);\n        var autoRotation = parallelLabels\n            ? parallelFlipFlag * Math.PI / 2\n            : (regularFlipFlag === -1 ? Math.PI : 0);\n        labelSelection.each(function (label) {\n            label.x = labelX;\n            label.rotationCenterX = labelX;\n            label.rotation = autoRotation + labelRotation;\n        });\n        this.groupSelection = groupSelection;\n        // Render axis line.\n        var lineNode = this.lineNode;\n        lineNode.x1 = 0;\n        lineNode.x2 = 0;\n        lineNode.y1 = requestedRange[0];\n        lineNode.y2 = requestedRange[1];\n        lineNode.strokeWidth = this.line.width;\n        lineNode.stroke = this.line.color;\n        lineNode.visible = ticks.length > 0;\n        var title = this.title;\n        var titleVisible = false;\n        if (title && title.enabled) {\n            titleVisible = true;\n            var padding = title.padding.bottom;\n            var titleNode = title.node;\n            var bbox = this.computeBBox({ excludeTitle: true });\n            var titleRotationFlag = sideFlag === -1 && parallelFlipRotation > Math.PI && parallelFlipRotation < Math.PI * 2 ? -1 : 1;\n            titleNode.rotation = titleRotationFlag * sideFlag * Math.PI / 2;\n            titleNode.x = titleRotationFlag * sideFlag * (lineNode.y1 + lineNode.y2) / 2;\n            titleNode.x = titleRotationFlag * sideFlag * (requestedRange[0] + requestedRange[1]) / 2;\n            if (sideFlag === -1) {\n                titleNode.y = titleRotationFlag * (-padding - bbox.width + Math.max(bbox.x + bbox.width, 0));\n            }\n            else {\n                titleNode.y = -padding - bbox.width - Math.min(bbox.x, 0);\n            }\n            titleNode.textBaseline = titleRotationFlag === 1 ? 'bottom' : 'top';\n        }\n        if (title) {\n            title.node.visible = titleVisible;\n        }\n        // debug (bbox)\n        // const bbox = this.computeBBox();\n        // const bboxRect = this.bboxRect;\n        // bboxRect.x = bbox.x;\n        // bboxRect.y = bbox.y;\n        // bboxRect.width = bbox.width;\n        // bboxRect.height = bbox.height;\n    };\n    Axis.prototype.computeBBox = function (options) {\n        var _a = this, title = _a.title, lineNode = _a.lineNode;\n        var labels = this.groupSelection.selectByClass(Text);\n        var left = Infinity;\n        var right = -Infinity;\n        var top = Infinity;\n        var bottom = -Infinity;\n        labels.each(function (label) {\n            // The label itself is rotated, but not translated, the group that\n            // contains it is. So to capture the group transform in the label bbox\n            // calculation we combine the transform matrices of the label and the group.\n            // Depending on the timing of the `axis.computeBBox()` method call, we may\n            // not have the group's and the label's transform matrices updated yet (because\n            // the transform matrix is not recalculated whenever a node's transform attributes\n            // change, instead it's marked for recalculation on the next frame by setting\n            // the node's `dirtyTransform` flag to `true`), so we force them to update\n            // right here by calling `computeTransformMatrix`.\n            label.computeTransformMatrix();\n            var matrix = Matrix.flyweight(label.matrix);\n            var group = label.parent;\n            group.computeTransformMatrix();\n            matrix.preMultiplySelf(group.matrix);\n            var labelBBox = label.computeBBox();\n            if (labelBBox) {\n                var bbox = matrix.transformBBox(labelBBox);\n                left = Math.min(left, bbox.x);\n                right = Math.max(right, bbox.x + bbox.width);\n                top = Math.min(top, bbox.y);\n                bottom = Math.max(bottom, bbox.y + bbox.height);\n            }\n        });\n        if (title && title.enabled && (!options || !options.excludeTitle)) {\n            var label = title.node;\n            label.computeTransformMatrix();\n            var matrix = Matrix.flyweight(label.matrix);\n            var labelBBox = label.computeBBox();\n            if (labelBBox) {\n                var bbox = matrix.transformBBox(labelBBox);\n                left = Math.min(left, bbox.x);\n                right = Math.max(right, bbox.x + bbox.width);\n                top = Math.min(top, bbox.y);\n                bottom = Math.max(bottom, bbox.y + bbox.height);\n            }\n        }\n        left = Math.min(left, 0);\n        right = Math.max(right, 0);\n        top = Math.min(top, lineNode.y1, lineNode.y2);\n        bottom = Math.max(bottom, lineNode.y1, lineNode.y2);\n        return new BBox(left, top, right - left, bottom - top);\n    };\n    return Axis;\n}());\nexport { Axis };\n","/**\n * Wraps the native Canvas element and overrides its CanvasRenderingContext2D to\n * provide resolution independent rendering based on `window.devicePixelRatio`.\n */\nvar HdpiCanvas = /** @class */ (function () {\n    // The width/height attributes of the Canvas element default to\n    // 300/150 according to w3.org.\n    function HdpiCanvas(document, width, height) {\n        if (document === void 0) { document = window.document; }\n        if (width === void 0) { width = 600; }\n        if (height === void 0) { height = 300; }\n        this._container = undefined;\n        // `NaN` is deliberate here, so that overrides are always applied\n        // and the `resetTransform` inside the `resize` method works in IE11.\n        this._pixelRatio = NaN;\n        this.document = document;\n        this.element = document.createElement('canvas');\n        this.context = this.element.getContext('2d');\n        this.element.style.userSelect = 'none';\n        this.element.style.display = 'block';\n        this.setPixelRatio();\n        this.resize(width, height);\n    }\n    Object.defineProperty(HdpiCanvas.prototype, \"container\", {\n        get: function () {\n            return this._container;\n        },\n        set: function (value) {\n            if (this._container !== value) {\n                this.remove();\n                if (value) {\n                    value.appendChild(this.element);\n                }\n                this._container = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HdpiCanvas.prototype.remove = function () {\n        var parentNode = this.element.parentNode;\n        if (parentNode != null) {\n            parentNode.removeChild(this.element);\n        }\n    };\n    HdpiCanvas.prototype.destroy = function () {\n        this.element.remove();\n        this._canvas = undefined;\n        Object.freeze(this);\n    };\n    HdpiCanvas.prototype.toImage = function () {\n        var img = this.document.createElement('img');\n        img.src = this.getDataURL();\n        return img;\n    };\n    HdpiCanvas.prototype.getDataURL = function (type) {\n        return this.element.toDataURL(type);\n    };\n    /**\n     * @param options.fileName The `.png` extension is going to be added automatically.\n     * @param [options.background] Defaults to `white`.\n     */\n    HdpiCanvas.prototype.download = function (fileName) {\n        fileName = ((fileName || '').trim() || 'image') + '.png';\n        // Chart images saved as JPEG are a few times larger at 50% quality than PNG images,\n        // so we don't support saving to JPEG.\n        var type = 'image/png';\n        var dataUrl = this.getDataURL(type);\n        var document = this.document;\n        if (navigator.msSaveOrOpenBlob) { // IE11\n            var binary = atob(dataUrl.split(',')[1]); // strip the `data:image/png;base64,` part\n            var array = [];\n            for (var i = 0, n = binary.length; i < n; i++) {\n                array.push(binary.charCodeAt(i));\n            }\n            var blob = new Blob([new Uint8Array(array)], { type: type });\n            navigator.msSaveOrOpenBlob(blob, fileName);\n        }\n        else {\n            var a = document.createElement('a');\n            a.href = dataUrl;\n            a.download = fileName;\n            a.style.display = 'none';\n            document.body.appendChild(a); // required for the `click` to work in Firefox\n            a.click();\n            document.body.removeChild(a);\n        }\n    };\n    Object.defineProperty(HdpiCanvas.prototype, \"pixelRatio\", {\n        get: function () {\n            return this._pixelRatio;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Changes the pixel ratio of the Canvas element to the given value,\n     * or uses the window.devicePixelRatio (default), then resizes the Canvas\n     * element accordingly (default).\n     */\n    HdpiCanvas.prototype.setPixelRatio = function (ratio) {\n        var pixelRatio = ratio || window.devicePixelRatio;\n        if (pixelRatio === this.pixelRatio) {\n            return;\n        }\n        HdpiCanvas.overrideScale(this.context, pixelRatio);\n        this._pixelRatio = pixelRatio;\n        this.resize(this.width, this.height);\n    };\n    Object.defineProperty(HdpiCanvas.prototype, \"pixelated\", {\n        get: function () {\n            return this.element.style.imageRendering === 'pixelated';\n        },\n        set: function (value) {\n            this.element.style.imageRendering = value ? 'pixelated' : 'auto';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HdpiCanvas.prototype.resize = function (width, height) {\n        var _a = this, element = _a.element, context = _a.context, pixelRatio = _a.pixelRatio;\n        element.width = Math.round(width * pixelRatio);\n        element.height = Math.round(height * pixelRatio);\n        element.style.width = width + 'px';\n        element.style.height = height + 'px';\n        context.resetTransform();\n        this._width = width;\n        this._height = height;\n    };\n    Object.defineProperty(HdpiCanvas, \"textMeasuringContext\", {\n        get: function () {\n            if (this._textMeasuringContext) {\n                return this._textMeasuringContext;\n            }\n            var canvas = document.createElement('canvas');\n            return this._textMeasuringContext = canvas.getContext('2d');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas, \"svgText\", {\n        get: function () {\n            if (this._svgText) {\n                return this._svgText;\n            }\n            var xmlns = 'http://www.w3.org/2000/svg';\n            var svg = document.createElementNS(xmlns, 'svg');\n            svg.setAttribute('width', '100');\n            svg.setAttribute('height', '100');\n            // Add a descriptive class name in case someone sees this SVG element\n            // in devtools and wonders about its purpose:\n            if (svg.classList) {\n                svg.classList.add('text-measuring-svg');\n            }\n            else {\n                svg.setAttribute('class', 'text-measuring-svg');\n            }\n            svg.style.position = 'absolute';\n            svg.style.top = '-1000px';\n            svg.style.visibility = 'hidden';\n            var svgText = document.createElementNS(xmlns, 'text');\n            svgText.setAttribute('x', '0');\n            svgText.setAttribute('y', '30');\n            svgText.setAttribute('text', 'black');\n            svg.appendChild(svgText);\n            document.body.appendChild(svg);\n            this._svgText = svgText;\n            return svgText;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas, \"has\", {\n        get: function () {\n            if (this._has) {\n                return this._has;\n            }\n            return this._has = Object.freeze({\n                textMetrics: this.textMeasuringContext.measureText('test').actualBoundingBoxDescent !== undefined\n                    // Firefox implemented advanced TextMetrics object in v74:\n                    // https://bugzilla.mozilla.org/show_bug.cgi?id=1102584\n                    // but it's buggy, so we'll keed using the SVG for text measurement in Firefox for now.\n                    && !/Firefox\\/\\d+(.\\d)+/.test(window.navigator.userAgent),\n                getTransform: this.textMeasuringContext.getTransform !== undefined\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HdpiCanvas.measureText = function (text, font, textBaseline, textAlign) {\n        var ctx = this.textMeasuringContext;\n        ctx.font = font;\n        ctx.textBaseline = textBaseline;\n        ctx.textAlign = textAlign;\n        return ctx.measureText(text);\n    };\n    /**\n     * Returns the width and height of the measured text.\n     * @param text The single-line text to measure.\n     * @param font The font shorthand string.\n     */\n    HdpiCanvas.getTextSize = function (text, font) {\n        if (this.has.textMetrics) {\n            var ctx = this.textMeasuringContext;\n            ctx.font = font;\n            var metrics = ctx.measureText(text);\n            return {\n                width: metrics.width,\n                height: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent\n            };\n        }\n        else {\n            return this.measureSvgText(text, font);\n        }\n    };\n    HdpiCanvas.measureSvgText = function (text, font) {\n        var cache = this.textSizeCache;\n        var fontCache = cache[font];\n        // Note: consider not caching the size of numeric strings.\n        // For example: if (isNaN(+text)) { // skip\n        if (fontCache) {\n            var size_1 = fontCache[text];\n            if (size_1) {\n                return size_1;\n            }\n        }\n        else {\n            cache[font] = {};\n        }\n        var svgText = this.svgText;\n        svgText.style.font = font;\n        svgText.textContent = text;\n        // `getBBox` returns an instance of `SVGRect` with the same `width` and `height`\n        // measurements as `DOMRect` instance returned by the `getBoundingClientRect`.\n        // But the `SVGRect` instance has half the properties of the `DOMRect`,\n        // so we use the `getBBox` method.\n        var bbox = svgText.getBBox();\n        var size = {\n            width: bbox.width,\n            height: bbox.height\n        };\n        cache[font][text] = size;\n        return size;\n    };\n    HdpiCanvas.overrideScale = function (ctx, scale) {\n        var depth = 0;\n        var overrides = {\n            save: function () {\n                this.$save();\n                depth++;\n            },\n            restore: function () {\n                if (depth > 0) {\n                    this.$restore();\n                    depth--;\n                }\n            },\n            setTransform: function (a, b, c, d, e, f) {\n                this.$setTransform(a * scale, b * scale, c * scale, d * scale, e * scale, f * scale);\n            },\n            resetTransform: function () {\n                // As of Jan 8, 2019, `resetTransform` is still an \"experimental technology\",\n                // and doesn't work in IE11 and Edge 44.\n                this.$setTransform(scale, 0, 0, scale, 0, 0);\n                this.save();\n                depth = 0;\n                // The scale above will be impossible to restore,\n                // because we override the `ctx.restore` above and\n                // check `depth` there.\n            }\n        };\n        for (var name_1 in overrides) {\n            if (overrides.hasOwnProperty(name_1)) {\n                // Save native methods under prefixed names,\n                // if this hasn't been done by the previous overrides already.\n                if (!ctx['$' + name_1]) {\n                    ctx['$' + name_1] = ctx[name_1];\n                }\n                // Replace native methods with overrides,\n                // or previous overrides with the new ones.\n                ctx[name_1] = overrides[name_1];\n            }\n        }\n    };\n    HdpiCanvas.textSizeCache = {};\n    return HdpiCanvas;\n}());\nexport { HdpiCanvas };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Padding } from \"./util/padding\";\nimport { Text } from \"./scene/shape/text\";\nimport { PointerEvents } from \"./scene/node\";\nimport { Observable, reactive } from \"./util/observable\";\nvar Caption = /** @class */ (function (_super) {\n    __extends(Caption, _super);\n    function Caption() {\n        var _this = _super.call(this) || this;\n        _this.node = new Text();\n        _this.enabled = false;\n        _this.padding = new Padding(10);\n        var node = _this.node;\n        node.textAlign = 'center';\n        node.textBaseline = 'top';\n        node.pointerEvents = PointerEvents.None;\n        return _this;\n    }\n    Object.defineProperty(Caption.prototype, \"text\", {\n        get: function () {\n            return this.node.text;\n        },\n        set: function (value) {\n            if (this.node.text !== value) {\n                this.node.text = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"fontStyle\", {\n        get: function () {\n            return this.node.fontStyle;\n        },\n        set: function (value) {\n            if (this.node.fontStyle !== value) {\n                this.node.fontStyle = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"fontWeight\", {\n        get: function () {\n            return this.node.fontWeight;\n        },\n        set: function (value) {\n            if (this.node.fontWeight !== value) {\n                this.node.fontWeight = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"fontSize\", {\n        get: function () {\n            return this.node.fontSize;\n        },\n        set: function (value) {\n            if (this.node.fontSize !== value) {\n                this.node.fontSize = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"fontFamily\", {\n        get: function () {\n            return this.node.fontFamily;\n        },\n        set: function (value) {\n            if (this.node.fontFamily !== value) {\n                this.node.fontFamily = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Caption.prototype, \"color\", {\n        get: function () {\n            return this.node.fill;\n        },\n        set: function (value) {\n            if (this.node.fill !== value) {\n                this.node.fill = value;\n                this.fireEvent({ type: 'change' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    __decorate([\n        reactive('change')\n    ], Caption.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('change')\n    ], Caption.prototype, \"padding\", void 0);\n    return Caption;\n}(Observable));\nexport { Caption };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { Series } from \"./series/series\";\nimport { LegendMarker } from \"./legend\";\nimport { ChartTheme } from \"./themes/chartTheme\";\nimport { DarkTheme } from './themes/darkTheme';\nimport { MaterialLight } from \"./themes/materialLight\";\nimport { MaterialDark } from \"./themes/materialDark\";\nimport { PastelLight } from \"./themes/pastelLight\";\nimport { PastelDark } from \"./themes/pastelDark\";\nimport { SolarLight } from \"./themes/solarLight\";\nimport { SolarDark } from \"./themes/solarDark\";\nimport { VividLight } from \"./themes/vividLight\";\nimport { VividDark } from \"./themes/vividDark\";\nimport { find } from \"../util/array\";\nimport { deepMerge, getValue, isObject } from \"../util/object\";\nimport mappings from './agChartMappings';\nvar lightTheme = new ChartTheme();\nvar darkTheme = new DarkTheme();\nexport var lightThemes = {\n    'undefined': lightTheme,\n    'null': lightTheme,\n    'ag-default': lightTheme,\n    'ag-material': new MaterialLight(),\n    'ag-pastel': new PastelLight(),\n    'ag-solar': new SolarLight(),\n    'ag-vivid': new VividLight(),\n};\nexport var darkThemes = {\n    'undefined': darkTheme,\n    'null': darkTheme,\n    'ag-default-dark': darkTheme,\n    'ag-material-dark': new MaterialDark(),\n    'ag-pastel-dark': new PastelDark(),\n    'ag-solar-dark': new SolarDark(),\n    'ag-vivid-dark': new VividDark(),\n};\nexport var themes = __assign(__assign({}, darkThemes), lightThemes);\nexport function getChartTheme(value) {\n    if (value instanceof ChartTheme) {\n        return value;\n    }\n    var stockTheme = themes[value];\n    if (stockTheme) {\n        return stockTheme;\n    }\n    value = value;\n    if (value.baseTheme || value.overrides || value.palette) {\n        var baseTheme = getChartTheme(value.baseTheme);\n        return new baseTheme.constructor(value);\n    }\n    return lightTheme;\n}\nvar firstColorIndex = 0;\nvar AgChart = /** @class */ (function () {\n    function AgChart() {\n    }\n    AgChart.create = function (options, container, data) {\n        options = Object.create(options); // avoid mutating user provided options\n        if (container) {\n            options.container = container;\n        }\n        if (data) {\n            options.data = data;\n        }\n        // special handling when both `autoSize` and `width` / `height` are present in the options\n        var autoSize = options && options.autoSize !== false;\n        var theme = getChartTheme(options.theme);\n        firstColorIndex = 0;\n        var chart = create(options, undefined, undefined, theme);\n        if (chart) {\n            if (autoSize) { // `autoSize` takes precedence over `width` / `height`\n                chart.autoSize = true;\n            }\n        }\n        return chart;\n    };\n    AgChart.update = function (chart, options, container, data) {\n        if (!(chart && options)) {\n            return;\n        }\n        options = Object.create(options);\n        if (container) {\n            options.container = container;\n        }\n        if (data) {\n            options.data = data;\n        }\n        var autoSize = options && options.autoSize !== false;\n        var theme = getChartTheme(options.theme);\n        firstColorIndex = 0;\n        update(chart, options, undefined, theme);\n        if (autoSize) {\n            chart.autoSize = true;\n        }\n    };\n    AgChart.save = function (component) {\n        var target = {};\n        save(component, target);\n        return target;\n    };\n    AgChart.createComponent = create;\n    return AgChart;\n}());\nexport { AgChart };\nvar pathToSeriesTypeMap = {\n    'cartesian.series': 'line',\n    'line.series': 'line',\n    'area.series': 'area',\n    'bar.series': 'bar',\n    'column.series': 'column',\n    'histogram.series': 'histogram',\n    'scatter.series': 'scatter',\n    'polar.series': 'pie',\n    'pie.series': 'pie'\n};\nvar actualSeriesTypeMap = (function () {\n    var map = {};\n    var actualSeries = ['area', 'bar', 'histogram', 'line', 'pie', 'scatter'];\n    actualSeries.forEach(function (series) { return map[series] = series; });\n    // Aliases:\n    map['column'] = 'bar';\n    return map;\n})();\nfunction save(component, target, mapping) {\n    if (target === void 0) { target = {}; }\n    if (mapping === void 0) { mapping = mappings; }\n    if (component.constructor && component.constructor.type && !mapping.meta) {\n        mapping = mapping[component.constructor.type];\n    }\n    var defaults = mapping && mapping.meta && mapping.meta.defaults;\n    var keys = Object.keys(defaults);\n    keys.forEach(function (key) {\n        var value = component[key];\n        if (isObject(value) && (!mapping.meta.nonSerializable || mapping.meta.nonSerializable.indexOf(key) < 0)) {\n            target[key] = {};\n            // save(value, target[key], mapping[key]);\n        }\n        else if (Array.isArray(value)) {\n            // target[key] = [];\n            // save(value, target[key], map[key]);\n        }\n        else {\n            target[key] = component[key];\n        }\n    });\n}\nfunction create(options, path, component, theme) {\n    var _a;\n    // Deprecate `chart.legend.item.marker.type` in integrated chart options.\n    options = Object.create(options);\n    if (component instanceof LegendMarker) {\n        if (options.type) {\n            options.shape = options.type;\n        }\n    }\n    else {\n        options = provideDefaultType(options, path);\n        if (path) {\n            if (options.type) {\n                path = path + '.' + options.type;\n            }\n        }\n        else {\n            path = options.type;\n        }\n    }\n    if (!path) {\n        return;\n    }\n    var mapping = getValue(mappings, path);\n    if (mapping) {\n        options = provideDefaultOptions(path, options, mapping, theme);\n        var meta = mapping.meta || {};\n        var constructorParams = meta.constructorParams || [];\n        var skipKeys = ['type', 'listeners'].concat(constructorParams);\n        // TODO: Constructor params processing could be improved, but it's good enough for current params.\n        var constructorParamValues = constructorParams\n            .map(function (param) { return options[param]; })\n            .filter(function (value) { return value !== undefined; });\n        if (!component) {\n            component = new ((_a = meta.constructor).bind.apply(_a, __spreadArrays([void 0], constructorParamValues)))();\n            if (theme && component instanceof Series) {\n                firstColorIndex = theme.setSeriesColors(component, options, firstColorIndex);\n            }\n        }\n        var _loop_1 = function (key) {\n            // Process every non-special key in the config object.\n            if (skipKeys.indexOf(key) < 0) {\n                var value = options[key];\n                if (value && key in mapping && !(meta.setAsIs && meta.setAsIs.indexOf(key) >= 0)) {\n                    if (Array.isArray(value)) {\n                        var subComponents = value\n                            .map(function (config) {\n                            var axis = create(config, path + '.' + key, undefined, theme);\n                            if (theme && key === 'axes') {\n                                var fakeTheme = {\n                                    getConfig: function (path) {\n                                        var parts = path.split('.');\n                                        var modifiedPath = parts.slice(0, 3).join('.') + '.' + axis.position;\n                                        var after = parts.slice(3);\n                                        if (after.length) {\n                                            modifiedPath += '.' + after.join('.');\n                                        }\n                                        var config = theme.getConfig(path);\n                                        var modifiedConfig = theme.getConfig(modifiedPath);\n                                        isObject(theme.getConfig(modifiedPath));\n                                        if (isObject(config) && isObject(modifiedConfig)) {\n                                            return deepMerge(config, modifiedConfig);\n                                        }\n                                        return modifiedConfig;\n                                    }\n                                };\n                                update(axis, config, path + '.' + key, fakeTheme);\n                            }\n                            return axis;\n                        })\n                            .filter(function (instance) { return !!instance; });\n                        component[key] = subComponents;\n                    }\n                    else {\n                        if (mapping[key] && component[key]) {\n                            // The instance property already exists on the component (e.g. chart.legend).\n                            // Simply configure the existing instance, without creating a new one.\n                            create(value, path + '.' + key, component[key], theme);\n                        }\n                        else {\n                            var subComponent = create(value, value.type ? path : path + '.' + key, undefined, theme);\n                            if (subComponent) {\n                                component[key] = subComponent;\n                            }\n                        }\n                    }\n                }\n                else { // if (key in meta.constructor.defaults) { // prevent users from creating custom properties\n                    component[key] = value;\n                }\n            }\n        };\n        for (var key in options) {\n            _loop_1(key);\n        }\n        var listeners = options.listeners;\n        if (component && component.addEventListener && listeners) {\n            for (var key in listeners) {\n                if (listeners.hasOwnProperty(key)) {\n                    var listener = listeners[key];\n                    if (typeof listener === 'function') {\n                        component.addEventListener(key, listener);\n                    }\n                }\n            }\n        }\n        return component;\n    }\n}\nfunction update(component, options, path, theme) {\n    if (!(options && isObject(options))) {\n        return;\n    }\n    // Deprecate `chart.legend.item.marker.type` in integrated chart options.\n    if (component instanceof LegendMarker) {\n        if (options.type) {\n            options.shape = options.type;\n        }\n    }\n    else {\n        options = provideDefaultType(options, path);\n        if (path) {\n            if (options.type) {\n                path = path + '.' + options.type;\n            }\n        }\n        else {\n            path = options.type;\n        }\n    }\n    if (!path) {\n        return;\n    }\n    var chart = path in mappings ? component : undefined;\n    var mapping = getValue(mappings, path);\n    if (mapping) {\n        options = provideDefaultOptions(path, options, mapping, theme);\n        var meta = mapping.meta || {};\n        var constructorParams = meta && meta.constructorParams || [];\n        var skipKeys = ['type'].concat(constructorParams);\n        for (var key in options) {\n            if (skipKeys.indexOf(key) < 0) {\n                var value = options[key];\n                var keyPath = path + '.' + key;\n                if (meta.setAsIs && meta.setAsIs.indexOf(key) >= 0) {\n                    component[key] = value;\n                }\n                else {\n                    var oldValue = component[key];\n                    if (Array.isArray(oldValue) && Array.isArray(value)) {\n                        if (chart) {\n                            if (key === 'series') {\n                                updateSeries(component, value, keyPath, theme);\n                            }\n                            else if (key === 'axes') {\n                                updateAxes(component, value, keyPath, theme);\n                            }\n                        }\n                        else {\n                            component[key] = value;\n                        }\n                    }\n                    else if (isObject(oldValue)) {\n                        if (value) {\n                            update(oldValue, value, value.type ? path : keyPath, theme);\n                        }\n                        else if (key in options) {\n                            component[key] = value;\n                        }\n                    }\n                    else {\n                        var subComponent = isObject(value) && create(value, value.type ? path : keyPath, undefined, theme);\n                        if (subComponent) {\n                            component[key] = subComponent;\n                        }\n                        else {\n                            if (chart && options.autoSize && (key === 'width' || key === 'height')) {\n                                continue;\n                            }\n                            component[key] = value;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    if (chart) {\n        chart.layoutPending = true;\n    }\n}\nfunction updateSeries(chart, configs, keyPath, theme) {\n    var allSeries = chart.series.slice();\n    var prevSeries;\n    var i = 0;\n    for (; i < configs.length; i++) {\n        var config = configs[i];\n        var series = allSeries[i];\n        if (series) {\n            config = provideDefaultType(config, keyPath);\n            var type = actualSeriesTypeMap[config.type];\n            if (series.type === type) {\n                if (theme) {\n                    firstColorIndex = theme.setSeriesColors(series, config, firstColorIndex);\n                }\n                update(series, config, keyPath, theme);\n            }\n            else {\n                var newSeries = create(config, keyPath, undefined, theme);\n                chart.removeSeries(series);\n                chart.addSeriesAfter(newSeries, prevSeries);\n                series = newSeries;\n            }\n        }\n        else { // more new configs than existing series\n            var newSeries = create(config, keyPath, undefined, theme);\n            chart.addSeries(newSeries);\n        }\n        prevSeries = series;\n    }\n    // more existing series than new configs\n    for (; i < allSeries.length; i++) {\n        var series = allSeries[i];\n        if (series) {\n            chart.removeSeries(series);\n        }\n    }\n}\nfunction updateAxes(chart, configs, keyPath, theme) {\n    var axes = chart.axes;\n    var axesToAdd = [];\n    var axesToUpdate = [];\n    var _loop_2 = function (config) {\n        var axisToUpdate = find(axes, function (axis) {\n            return axis.type === config.type && axis.position === config.position;\n        });\n        if (axisToUpdate) {\n            axesToUpdate.push(axisToUpdate);\n            update(axisToUpdate, config, keyPath, theme);\n        }\n        else {\n            var axisToAdd = create(config, keyPath, undefined, theme);\n            if (axisToAdd) {\n                axesToAdd.push(axisToAdd);\n            }\n        }\n    };\n    for (var _i = 0, configs_1 = configs; _i < configs_1.length; _i++) {\n        var config = configs_1[_i];\n        _loop_2(config);\n    }\n    chart.axes = axesToUpdate.concat(axesToAdd);\n}\nfunction provideDefaultChartType(options) {\n    if (options.type) {\n        return options;\n    }\n    // If chart type is not specified, try to infer it from the type of first series.\n    var series = options.series && options.series[0];\n    if (series && series.type) {\n        outerLoop: for (var chartType in mappings) {\n            for (var seriesType in mappings[chartType].series) {\n                if (series.type === seriesType) {\n                    options = Object.create(options);\n                    options.type = chartType;\n                    break outerLoop;\n                }\n            }\n        }\n    }\n    if (!options.type) {\n        options = Object.create(options);\n        options.type = 'cartesian';\n    }\n    return options;\n}\nfunction provideDefaultType(options, path) {\n    if (!path) { // if `path` is undefined, `options` is a top-level (chart) config\n        path = '';\n        options = provideDefaultChartType(options);\n    }\n    if (!options.type) {\n        var seriesType = pathToSeriesTypeMap[path];\n        if (seriesType) {\n            options = Object.create(options);\n            options.type = seriesType;\n        }\n    }\n    return options;\n}\nfunction skipThemeKey(key) {\n    return ['axes', 'series'].indexOf(key) >= 0;\n}\nvar enabledKey = 'enabled';\n/**\n * If certain options were not provided by the user, use the defaults from the theme and the mapping.\n * All three objects are provided for the current path in the config tree, not necessarily top-level.\n */\nfunction provideDefaultOptions(path, options, mapping, theme) {\n    var isChartConfig = path.indexOf('.') < 0;\n    var themeDefaults = theme && theme.getConfig(path);\n    var defaults = mapping && mapping.meta && mapping.meta.defaults;\n    var isExplicitlyDisabled = options.enabled === false; // by the user\n    if (defaults || themeDefaults) {\n        options = Object.create(options);\n    }\n    // Fill in the gaps for properties not configured by the user using theme provided values.\n    for (var key in themeDefaults) {\n        // The default values for these special chart configs always come from the mappings, not theme.\n        if (isChartConfig && skipThemeKey(key)) {\n            continue;\n        }\n        if (!(key in options)) {\n            options[key] = themeDefaults[key];\n        }\n    }\n    // Fill in the gaps for properties not configured by the user, nor theme using chart mappings.\n    for (var key in defaults) {\n        if ((!themeDefaults || !(key in themeDefaults) || skipThemeKey(key)) && !(key in options)) {\n            options[key] = defaults[key];\n        }\n    }\n    // Special handling for the 'enabled' property. For example:\n    // title: { text: 'Quarterly Revenue' } // means title is enabled\n    // legend: {} // means legend is enabled\n    var hasEnabledKey = (themeDefaults && enabledKey in themeDefaults) ||\n        (defaults && enabledKey in defaults);\n    if (hasEnabledKey && !isExplicitlyDisabled) {\n        options[enabledKey] = true;\n    }\n    return options;\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar _a, _b, _c, _d, _e;\nimport { Padding } from \"../util/padding\";\nimport { CartesianChart } from \"./cartesianChart\";\nimport { GroupedCategoryChart } from \"./groupedCategoryChart\";\nimport { NumberAxis } from \"./axis/numberAxis\";\nimport { CategoryAxis } from \"./axis/categoryAxis\";\nimport { GroupedCategoryAxis } from \"./axis/groupedCategoryAxis\";\nimport { LineSeries } from \"./series/cartesian/lineSeries\";\nimport { BarSeries } from \"./series/cartesian/barSeries\";\nimport { HistogramSeries } from \"./series/cartesian/histogramSeries\";\nimport { ScatterSeries } from \"./series/cartesian/scatterSeries\";\nimport { AreaSeries } from \"./series/cartesian/areaSeries\";\nimport { PolarChart } from \"./polarChart\";\nimport { PieSeries } from \"./series/polar/pieSeries\";\nimport { AxisLabel, AxisTick } from \"../axis\";\nimport { TimeAxis } from \"./axis/timeAxis\";\nimport { Caption } from \"../caption\";\nimport { DropShadow } from \"../scene/dropShadow\";\nimport { Legend, LegendPosition, LegendItem, LegendMarker, LegendLabel } from \"./legend\";\nimport { Navigator } from \"./navigator/navigator\";\nimport { NavigatorMask } from \"./navigator/navigatorMask\";\nimport { NavigatorHandle } from \"./navigator/navigatorHandle\";\nimport { CartesianSeriesMarker } from \"./series/cartesian/cartesianSeries\";\nimport { Chart } from \"./chart\";\nimport { HierarchyChart } from \"./hierarchyChart\";\nimport { TreemapSeries } from \"./series/hierarchy/treemapSeries\";\n/*\n    This file defines the specs for creating different kinds of charts, but\n    contains no code that uses the specs to actually create charts\n*/\nvar chartPadding = 20;\nvar commonChartMappings = {\n    background: {\n        meta: {\n            defaults: {\n                visible: true,\n                fill: 'white'\n            }\n        }\n    },\n    padding: {\n        meta: {\n            constructor: Padding,\n            defaults: {\n                top: chartPadding,\n                right: chartPadding,\n                bottom: chartPadding,\n                left: chartPadding\n            }\n        }\n    },\n    tooltip: {\n        meta: {\n            defaults: {\n                enabled: true,\n                tracking: true,\n                delay: 0,\n                class: Chart.defaultTooltipClass\n            }\n        }\n    },\n    title: {\n        meta: {\n            constructor: Caption,\n            defaults: {\n                enabled: false,\n                padding: {\n                    meta: {\n                        constructor: Padding,\n                        defaults: {\n                            top: 10,\n                            right: 10,\n                            bottom: 10,\n                            left: 10\n                        }\n                    }\n                },\n                text: 'Title',\n                fontStyle: undefined,\n                fontWeight: 'bold',\n                fontSize: 14,\n                fontFamily: 'Verdana, sans-serif',\n                color: 'rgb(70, 70, 70)'\n            }\n        }\n    },\n    subtitle: {\n        meta: {\n            constructor: Caption,\n            defaults: {\n                enabled: false,\n                padding: {\n                    meta: {\n                        constructor: Padding,\n                        defaults: {\n                            top: 10,\n                            right: 10,\n                            bottom: 10,\n                            left: 10\n                        }\n                    }\n                },\n                text: 'Subtitle',\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: 'Verdana, sans-serif',\n                color: 'rgb(140, 140, 140)'\n            }\n        }\n    },\n    legend: {\n        meta: {\n            constructor: Legend,\n            defaults: {\n                enabled: true,\n                position: LegendPosition.Right,\n                spacing: 20\n            }\n        },\n        item: {\n            meta: {\n                constructor: LegendItem,\n                defaults: {\n                    paddingX: 16,\n                    paddingY: 8\n                }\n            },\n            marker: {\n                meta: {\n                    constructor: LegendMarker,\n                    defaults: {\n                        shape: undefined,\n                        size: 15,\n                        strokeWidth: 1,\n                        padding: 8\n                    }\n                }\n            },\n            label: {\n                meta: {\n                    constructor: LegendLabel,\n                    defaults: {\n                        color: 'black',\n                        fontStyle: undefined,\n                        fontWeight: undefined,\n                        fontSize: 12,\n                        fontFamily: 'Verdana, sans-serif'\n                    }\n                }\n            }\n        }\n    }\n};\nvar chartDefaults = {\n    container: undefined,\n    autoSize: true,\n    width: 600,\n    height: 300,\n    data: [],\n    title: undefined,\n    subtitle: undefined,\n    padding: {},\n    background: {},\n    legend: {\n        item: {\n            marker: {},\n            label: {}\n        }\n    },\n    navigator: {\n        mask: {},\n        minHandle: {},\n        maxHandle: {}\n    },\n    listeners: undefined\n};\nvar chartMeta = {\n    // Charts components' constructors normally don't take any parameters (which makes things consistent -- everything\n    // is configured the same way, via the properties, and makes the factory pattern work well) but the charts\n    // themselves are the exceptions.\n    // If a chart config has the (optional) `document` property, it will be passed to the constructor.\n    // There is no actual `document` property on the chart, it can only be supplied during instantiation.\n    constructorParams: ['document'],\n    setAsIs: ['container', 'data', 'tooltipOffset'],\n    nonSerializable: ['container', 'data']\n};\nvar axisDefaults = {\n    defaults: {\n        visibleRange: [0, 1],\n        label: {},\n        tick: {},\n        title: {},\n        line: {},\n        gridStyle: [{\n                stroke: 'rgb(219, 219, 219)',\n                lineDash: [4, 2]\n            }]\n    }\n};\nvar seriesDefaults = {\n    visible: true,\n    showInLegend: true,\n    listeners: undefined\n};\nvar columnSeriesDefaults = {\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    xKey: '',\n    xName: '',\n    yKeys: [],\n    yNames: [],\n    grouped: false,\n    normalizedTo: undefined,\n    strokeWidth: 1,\n    lineDash: undefined,\n    lineDashOffset: 0,\n    shadow: undefined,\n    highlightStyle: {\n        fill: 'yellow'\n    }\n};\nvar shadowMapping = {\n    shadow: {\n        meta: {\n            constructor: DropShadow,\n            defaults: {\n                enabled: true,\n                color: 'rgba(0, 0, 0, 0.5)',\n                xOffset: 0,\n                yOffset: 0,\n                blur: 5\n            }\n        }\n    }\n};\nvar labelDefaults = {\n    enabled: true,\n    fontStyle: undefined,\n    fontWeight: undefined,\n    fontSize: 12,\n    fontFamily: 'Verdana, sans-serif',\n    color: 'rgb(70, 70, 70)'\n};\nvar barLabelMapping = {\n    label: {\n        meta: {\n            defaults: __assign(__assign({}, labelDefaults), { formatter: undefined })\n        }\n    }\n};\nvar tooltipMapping = {\n    tooltip: {\n        meta: {\n            defaults: {\n                enabled: true,\n                renderer: undefined,\n                format: undefined\n            }\n        }\n    }\n};\nvar axisMappings = {\n    line: {\n        meta: {\n            defaults: {\n                width: 1,\n                color: 'rgb(195, 195, 195)'\n            }\n        }\n    },\n    title: {\n        meta: {\n            constructor: Caption,\n            defaults: {\n                padding: {\n                    meta: {\n                        constructor: Padding,\n                        defaults: {\n                            top: 10,\n                            right: 10,\n                            bottom: 10,\n                            left: 10\n                        }\n                    }\n                },\n                text: 'Axis Title',\n                fontStyle: undefined,\n                fontWeight: 'bold',\n                fontSize: 12,\n                fontFamily: 'Verdana, sans-serif',\n                color: 'rgb(70, 70, 70)'\n            }\n        }\n    },\n    label: {\n        meta: {\n            constructor: AxisLabel,\n            defaults: {\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: 'Verdana, sans-serif',\n                padding: 5,\n                rotation: 0,\n                color: 'rgb(87, 87, 87)',\n                formatter: undefined\n            }\n        }\n    },\n    tick: {\n        meta: {\n            constructor: AxisTick,\n            defaults: {\n                width: 1,\n                size: 6,\n                color: 'rgb(195, 195, 195)',\n                count: 10\n            }\n        }\n    }\n};\nvar mappings = (_a = {},\n    _a[CartesianChart.type] = __assign(__assign({ meta: __assign(__assign({ constructor: CartesianChart }, chartMeta), { defaults: __assign(__assign({}, chartDefaults), { axes: [{\n                        type: NumberAxis.type,\n                        position: 'left'\n                    }, {\n                        type: CategoryAxis.type,\n                        position: 'bottom'\n                    }] }) }) }, commonChartMappings), { axes: (_b = {},\n            _b[NumberAxis.type] = __assign({ meta: __assign({ constructor: NumberAxis, setAsIs: ['gridStyle', 'visibleRange'] }, axisDefaults) }, axisMappings),\n            _b[CategoryAxis.type] = __assign({ meta: __assign({ constructor: CategoryAxis, setAsIs: ['gridStyle', 'visibleRange'] }, axisDefaults) }, axisMappings),\n            _b[GroupedCategoryAxis.type] = __assign({ meta: __assign({ constructor: GroupedCategoryAxis, setAsIs: ['gridStyle', 'visibleRange'] }, axisDefaults) }, axisMappings),\n            _b[TimeAxis.type] = __assign({ meta: __assign({ constructor: TimeAxis, setAsIs: ['gridStyle', 'visibleRange'] }, axisDefaults) }, axisMappings),\n            _b), series: (_c = {\n                column: __assign(__assign(__assign({ meta: {\n                        constructor: BarSeries,\n                        setAsIs: ['lineDash'],\n                        defaults: __assign(__assign({ flipXY: false }, seriesDefaults), columnSeriesDefaults)\n                    }, highlightStyle: {} }, tooltipMapping), barLabelMapping), shadowMapping)\n            },\n            _c[BarSeries.type] = __assign(__assign(__assign({ meta: {\n                    constructor: BarSeries,\n                    setAsIs: ['lineDash'],\n                    defaults: __assign(__assign({ flipXY: true }, seriesDefaults), columnSeriesDefaults)\n                }, highlightStyle: {} }, tooltipMapping), barLabelMapping), shadowMapping),\n            _c[LineSeries.type] = __assign(__assign({ meta: {\n                    constructor: LineSeries,\n                    setAsIs: ['lineDash'],\n                    defaults: __assign(__assign({}, seriesDefaults), { title: undefined, xKey: '', xName: '', yKey: '', yName: '', strokeWidth: 2, strokeOpacity: 1, lineDash: undefined, lineDashOffset: 0, highlightStyle: {\n                            fill: 'yellow'\n                        } })\n                } }, tooltipMapping), { highlightStyle: {}, marker: {\n                    meta: {\n                        constructor: CartesianSeriesMarker,\n                        defaults: {\n                            enabled: true,\n                            shape: 'circle',\n                            size: 6,\n                            maxSize: 30,\n                            strokeWidth: 1,\n                            formatter: undefined\n                        }\n                    }\n                } }),\n            _c[ScatterSeries.type] = __assign(__assign({ meta: {\n                    constructor: ScatterSeries,\n                    defaults: __assign(__assign({}, seriesDefaults), { title: undefined, xKey: '', yKey: '', sizeKey: undefined, labelKey: undefined, xName: '', yName: '', sizeName: 'Size', labelName: 'Label', strokeWidth: 2, fillOpacity: 1, strokeOpacity: 1, highlightStyle: {\n                            fill: 'yellow'\n                        } })\n                } }, tooltipMapping), { highlightStyle: {}, marker: {\n                    meta: {\n                        constructor: CartesianSeriesMarker,\n                        defaults: {\n                            enabled: true,\n                            shape: 'circle',\n                            size: 6,\n                            maxSize: 30,\n                            strokeWidth: 1,\n                            formatter: undefined\n                        }\n                    }\n                } }),\n            _c[AreaSeries.type] = __assign(__assign(__assign({ meta: {\n                    constructor: AreaSeries,\n                    setAsIs: ['lineDash'],\n                    defaults: __assign(__assign({}, seriesDefaults), { xKey: '', xName: '', yKeys: [], yNames: [], normalizedTo: undefined, fillOpacity: 1, strokeOpacity: 1, strokeWidth: 2, lineDash: undefined, lineDashOffset: 0, shadow: undefined, highlightStyle: {\n                            fill: 'yellow'\n                        } })\n                } }, tooltipMapping), { highlightStyle: {}, marker: {\n                    meta: {\n                        constructor: CartesianSeriesMarker,\n                        defaults: {\n                            enabled: true,\n                            shape: 'circle',\n                            size: 6,\n                            maxSize: 30,\n                            strokeWidth: 1,\n                            formatter: undefined\n                        }\n                    }\n                } }), shadowMapping),\n            _c[HistogramSeries.type] = __assign(__assign(__assign({ meta: {\n                    constructor: HistogramSeries,\n                    setAsIs: ['lineDash'],\n                    defaults: __assign(__assign({}, seriesDefaults), { title: undefined, xKey: '', yKey: '', xName: '', yName: '', strokeWidth: 1, fillOpacity: 1, strokeOpacity: 1, lineDash: undefined, lineDashOffset: 0, areaPlot: false, binCount: undefined, bins: undefined, aggregation: 'sum', highlightStyle: {\n                            fill: 'yellow'\n                        } })\n                } }, tooltipMapping), { highlightStyle: {}, label: {\n                    meta: {\n                        defaults: __assign(__assign({}, labelDefaults), { formatter: undefined })\n                    }\n                } }), shadowMapping),\n            _c), navigator: {\n            meta: {\n                constructor: Navigator,\n                defaults: {\n                    enabled: false,\n                    height: 30,\n                    min: 0,\n                    max: 1\n                }\n            },\n            mask: {\n                meta: {\n                    constructor: NavigatorMask,\n                    defaults: {\n                        fill: '#999999',\n                        stroke: '#999999',\n                        strokeWidth: 1,\n                        fillOpacity: 0.2\n                    }\n                }\n            },\n            minHandle: {\n                meta: {\n                    constructor: NavigatorHandle,\n                    defaults: {\n                        fill: '#f2f2f2',\n                        stroke: '#999999',\n                        strokeWidth: 1,\n                        width: 8,\n                        height: 16,\n                        gripLineGap: 2,\n                        gripLineLength: 8\n                    }\n                }\n            },\n            maxHandle: {\n                meta: {\n                    constructor: NavigatorHandle,\n                    defaults: {\n                        fill: '#f2f2f2',\n                        stroke: '#999999',\n                        strokeWidth: 1,\n                        width: 8,\n                        height: 16,\n                        gripLineGap: 2,\n                        gripLineLength: 8\n                    }\n                }\n            }\n        } }),\n    _a[PolarChart.type] = __assign(__assign({ meta: __assign(__assign({ constructor: PolarChart }, chartMeta), { defaults: __assign(__assign({}, chartDefaults), { padding: {\n                    meta: {\n                        constructor: Padding,\n                        defaults: {\n                            top: 40,\n                            right: 40,\n                            bottom: 40,\n                            left: 40\n                        }\n                    }\n                } }) }) }, commonChartMappings), { series: (_d = {},\n            _d[PieSeries.type] = __assign(__assign(__assign({ meta: {\n                    constructor: PieSeries,\n                    setAsIs: ['lineDash'],\n                    defaults: __assign(__assign({}, seriesDefaults), { title: undefined, angleKey: '', angleName: '', radiusKey: undefined, radiusName: undefined, labelKey: undefined, labelName: undefined, callout: {}, fillOpacity: 1, strokeOpacity: 1, rotation: 0, outerRadiusOffset: 0, innerRadiusOffset: 0, strokeWidth: 1, lineDash: undefined, lineDashOffset: 0, shadow: undefined })\n                } }, tooltipMapping), { highlightStyle: {}, title: {\n                    meta: {\n                        constructor: Caption,\n                        defaults: {\n                            enabled: true,\n                            padding: {\n                                meta: {\n                                    constructor: Padding,\n                                    defaults: {\n                                        top: 10,\n                                        right: 10,\n                                        bottom: 10,\n                                        left: 10\n                                    }\n                                }\n                            },\n                            text: 'Series Title',\n                            fontStyle: undefined,\n                            fontWeight: 'bold',\n                            fontSize: 14,\n                            fontFamily: 'Verdana, sans-serif',\n                            color: 'black'\n                        }\n                    }\n                }, label: {\n                    meta: {\n                        defaults: __assign(__assign({}, labelDefaults), { offset: 3, minAngle: 20 })\n                    }\n                }, callout: {\n                    meta: {\n                        defaults: {\n                            length: 10,\n                            strokeWidth: 1\n                        }\n                    }\n                } }), shadowMapping),\n            _d) }),\n    _a[HierarchyChart.type] = __assign(__assign({ meta: __assign(__assign({ constructor: HierarchyChart }, chartMeta), { defaults: __assign({}, chartDefaults) }) }, commonChartMappings), { series: (_e = {},\n            _e[TreemapSeries.type] = __assign({ meta: {\n                    constructor: TreemapSeries,\n                    defaults: __assign(__assign({}, seriesDefaults), { showInLegend: false })\n                } }, tooltipMapping),\n            _e) }),\n    _a);\n// Amend the `mappings` object with aliases for different chart types.\n{\n    var typeToAliases = {\n        cartesian: ['line', 'area', 'bar', 'column'],\n        polar: ['pie'],\n        hierarchy: ['treemap']\n    };\n    var _loop_1 = function (type) {\n        typeToAliases[type].forEach(function (alias) {\n            mappings[alias] = mappings[type];\n        });\n    };\n    for (var type in typeToAliases) {\n        _loop_1(type);\n    }\n}\n// Special handling for scatter and histogram charts, for which both axes should default to type `number`.\nmappings['scatter'] =\n    mappings['histogram'] = __assign(__assign({}, mappings.cartesian), { meta: __assign(__assign({}, mappings.cartesian.meta), { defaults: __assign(__assign({}, chartDefaults), { axes: [{\n                        type: 'number',\n                        position: 'bottom'\n                    }, {\n                        type: 'number',\n                        position: 'left'\n                    }] }) }) });\nvar groupedCategoryChartMapping = Object.create(mappings[CartesianChart.type]);\nvar groupedCategoryChartMeta = Object.create(groupedCategoryChartMapping.meta);\ngroupedCategoryChartMeta.constructor = GroupedCategoryChart;\ngroupedCategoryChartMapping.meta = groupedCategoryChartMeta;\nmappings[GroupedCategoryChart.type] = groupedCategoryChartMapping;\nexport default mappings;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { BandScale } from \"../../scale/bandScale\";\nimport { ChartAxis } from \"../chartAxis\";\nvar CategoryAxis = /** @class */ (function (_super) {\n    __extends(CategoryAxis, _super);\n    function CategoryAxis() {\n        var _this = this;\n        var scale = new BandScale();\n        scale.paddingInner = 0.2;\n        scale.paddingOuter = 0.3;\n        _this = _super.call(this, scale) || this;\n        return _this;\n    }\n    Object.defineProperty(CategoryAxis.prototype, \"paddingInner\", {\n        get: function () {\n            return this.scale.paddingInner;\n        },\n        set: function (value) {\n            this.scale.paddingInner = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CategoryAxis.prototype, \"paddingOuter\", {\n        get: function () {\n            return this.scale.paddingOuter;\n        },\n        set: function (value) {\n            this.scale.paddingOuter = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CategoryAxis.className = 'CategoryAxis';\n    CategoryAxis.type = 'category';\n    return CategoryAxis;\n}(ChartAxis));\nexport { CategoryAxis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Group } from \"../../scene/group\";\nimport { Selection } from \"../../scene/selection\";\nimport { Line } from \"../../scene/shape/line\";\nimport { normalizeAngle360, toRadians } from \"../../util/angle\";\nimport { Text } from \"../../scene/shape/text\";\nimport { BBox } from \"../../scene/bbox\";\nimport { Matrix } from \"../../scene/matrix\";\n// import { Rect } from \"../../scene/shape/rect\"; debug (bbox)\nimport { BandScale } from \"../../scale/bandScale\";\nimport { ticksToTree, treeLayout } from \"../../layout/tree\";\nimport { AxisLabel } from \"../../axis\";\nimport { ChartAxis } from \"../chartAxis\";\nimport { createId } from \"../../util/id\";\nvar GroupedCategoryAxisLabel = /** @class */ (function (_super) {\n    __extends(GroupedCategoryAxisLabel, _super);\n    function GroupedCategoryAxisLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.grid = false;\n        return _this;\n    }\n    return GroupedCategoryAxisLabel;\n}(AxisLabel));\n/**\n * A general purpose linear axis with no notion of orientation.\n * The axis is always rendered vertically, with horizontal labels positioned to the left\n * of the axis line by default. The axis can be {@link rotation | rotated} by an arbitrary angle,\n * so that it can be used as a top, right, bottom, left, radial or any other kind\n * of linear axis.\n * The generic `D` parameter is the type of the domain of the axis' scale.\n * The output range of the axis' scale is always numeric (screen coordinates).\n */\nvar GroupedCategoryAxis = /** @class */ (function (_super) {\n    __extends(GroupedCategoryAxis, _super);\n    function GroupedCategoryAxis() {\n        var _this = _super.call(this, new BandScale()) || this;\n        _this.id = createId(_this);\n        _this.tickScale = new BandScale();\n        _this.group = new Group();\n        _this.longestSeparatorLength = 0;\n        _this.translation = {\n            x: 0,\n            y: 0\n        };\n        /**\n         * Axis rotation angle in degrees.\n         */\n        _this.rotation = 0;\n        _this.line = {\n            width: 1,\n            color: 'rgba(195, 195, 195, 1)'\n        };\n        // readonly tick = new AxisTick();\n        _this.label = new GroupedCategoryAxisLabel();\n        /**\n         * The color of the labels.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make labels invisible.\n         */\n        _this.labelColor = 'rgba(87, 87, 87, 1)';\n        var _a = _this, group = _a.group, scale = _a.scale, tickScale = _a.tickScale;\n        scale.paddingOuter = 0.1;\n        scale.paddingInner = scale.paddingOuter * 2;\n        _this.requestedRange = scale.range.slice();\n        tickScale.paddingInner = 1;\n        tickScale.paddingOuter = 0;\n        _this.gridLineSelection = Selection.select(group).selectAll();\n        _this.axisLineSelection = Selection.select(group).selectAll();\n        _this.separatorSelection = Selection.select(group).selectAll();\n        _this.labelSelection = Selection.select(group).selectAll();\n        return _this;\n        // this.group.append(this.bboxRect); // debug (bbox)\n    }\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"domain\", {\n        get: function () {\n            return this.scale.domain;\n        },\n        set: function (value) {\n            this.scale.domain = value;\n            var tickTree = ticksToTree(value);\n            this.tickTreeLayout = treeLayout(tickTree);\n            var domain = value.slice();\n            domain.push('');\n            this.tickScale.domain = domain;\n            this.resizeTickTree();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"range\", {\n        get: function () {\n            return this.requestedRange.slice();\n        },\n        set: function (value) {\n            this.requestedRange = value.slice();\n            this.updateRange();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GroupedCategoryAxis.prototype.updateRange = function () {\n        var _a = this, rr = _a.requestedRange, vr = _a.visibleRange, scale = _a.scale;\n        var span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n        var shift = span * vr[0];\n        var start = rr[0] - shift;\n        this.tickScale.range = scale.range = [start, start + span];\n        this.resizeTickTree();\n    };\n    GroupedCategoryAxis.prototype.resizeTickTree = function () {\n        var s = this.scale;\n        var range = s.domain.length ? [s.convert(s.domain[0]), s.convert(s.domain[s.domain.length - 1])] : s.range;\n        var layout = this.tickTreeLayout;\n        var lineHeight = this.lineHeight;\n        if (layout) {\n            layout.resize(Math.abs(range[1] - range[0]), layout.depth * lineHeight, (Math.min(range[0], range[1]) || 0) + (s.bandwidth || 0) / 2, -layout.depth * lineHeight, (range[1] - range[0]) < 0);\n        }\n    };\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"lineHeight\", {\n        get: function () {\n            return this.label.fontSize * 1.5;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"gridLength\", {\n        get: function () {\n            return this._gridLength;\n        },\n        /**\n         * The length of the grid. The grid is only visible in case of a non-zero value.\n         */\n        set: function (value) {\n            // Was visible and now invisible, or was invisible and now visible.\n            if (this._gridLength && !value || !this._gridLength && value) {\n                this.gridLineSelection = this.gridLineSelection.remove().setData([]);\n                this.labelSelection = this.labelSelection.remove().setData([]);\n            }\n            this._gridLength = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Creates/removes/updates the scene graph nodes that constitute the axis.\n     * Supposed to be called _manually_ after changing _any_ of the axis properties.\n     * This allows to bulk set axis properties before updating the nodes.\n     * The node changes made by this method are rendered on the next animation frame.\n     * We could schedule this method call automatically on the next animation frame\n     * when any of the axis properties change (the way we do when properties of scene graph's\n     * nodes change), but this will mean that we first wait for the next animation\n     * frame to make changes to the nodes of the axis, then wait for another animation\n     * frame to render those changes. It's nice to have everything update automatically,\n     * but this extra level of async indirection will not just introduce an unwanted delay,\n     * it will also make it harder to reason about the program.\n     */\n    GroupedCategoryAxis.prototype.update = function () {\n        var _this = this;\n        var _a = this, group = _a.group, scale = _a.scale, label = _a.label, tickScale = _a.tickScale, requestedRange = _a.requestedRange;\n        var rangeStart = scale.range[0];\n        var rangeEnd = scale.range[1];\n        var rangeLength = Math.abs(rangeEnd - rangeStart);\n        var bandwidth = (rangeLength / scale.domain.length) || 0;\n        var parallelLabels = label.parallel;\n        var rotation = toRadians(this.rotation);\n        var isHorizontal = Math.abs(Math.cos(rotation)) < 1e-8;\n        var labelRotation = normalizeAngle360(toRadians(this.label.rotation));\n        group.translationX = this.translation.x;\n        group.translationY = this.translation.y;\n        group.rotation = rotation;\n        var title = this.title;\n        // The Text `node` of the Caption is not used to render the title of the grouped category axis.\n        // The phantom root of the tree layout is used instead.\n        if (title) {\n            title.node.visible = false;\n        }\n        var lineHeight = this.lineHeight;\n        // Render ticks and labels.\n        var tickTreeLayout = this.tickTreeLayout;\n        var labels = scale.ticks();\n        var treeLabels = tickTreeLayout ? tickTreeLayout.nodes : [];\n        var isLabelTree = tickTreeLayout ? tickTreeLayout.depth > 1 : false;\n        var ticks = tickScale.ticks();\n        // The side of the axis line to position the labels on.\n        // -1 = left (default)\n        //  1 = right\n        var sideFlag = label.mirrored ? 1 : -1;\n        // When labels are parallel to the axis line, the `parallelFlipFlag` is used to\n        // flip the labels to avoid upside-down text, when the axis is rotated\n        // such that it is in the right hemisphere, i.e. the angle of rotation\n        // is in the [0, π] interval.\n        // The rotation angle is normalized, so that we have an easier time checking\n        // if it's in the said interval. Since the axis is always rendered vertically\n        // and then rotated, zero rotation means 12 (not 3) o-clock.\n        // -1 = flip\n        //  1 = don't flip (default)\n        var parallelFlipRotation = normalizeAngle360(rotation);\n        var parallelFlipFlag = (!labelRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI) ? -1 : 1;\n        var regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n        // Flip if the axis rotation angle is in the top hemisphere.\n        var regularFlipFlag = (!labelRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI) ? -1 : 1;\n        var updateGridLines = this.gridLineSelection.setData(this.gridLength ? ticks : []);\n        updateGridLines.exit.remove();\n        var enterGridLines = updateGridLines.enter.append(Line);\n        var gridLineSelection = updateGridLines.merge(enterGridLines);\n        var updateLabels = this.labelSelection.setData(treeLabels);\n        updateLabels.exit.remove();\n        var enterLabels = updateLabels.enter.append(Text);\n        var labelSelection = updateLabels.merge(enterLabels);\n        var labelFormatter = label.formatter;\n        var maxLeafLabelWidth = 0;\n        labelSelection\n            .each(function (node, datum, index) {\n            node.fontStyle = label.fontStyle;\n            node.fontWeight = label.fontWeight;\n            node.fontSize = label.fontSize;\n            node.fontFamily = label.fontFamily;\n            node.fill = label.color;\n            node.textBaseline = parallelFlipFlag === -1 ? 'bottom' : 'hanging';\n            // label.textBaseline = parallelLabels && !labelRotation\n            //     ? (sideFlag * parallelFlipFlag === -1 ? 'hanging' : 'bottom')\n            //     : 'middle';\n            node.textAlign = 'center';\n            node.translationX = datum.screenY - label.fontSize * 0.25;\n            node.translationY = datum.screenX;\n            if (index === 0) { // use the phantom root as the axis title\n                if (title && title.enabled && labels.length > 0) {\n                    node.visible = true;\n                    node.text = title.text;\n                    node.fontSize = title.fontSize;\n                    node.fontStyle = title.fontStyle;\n                    node.fontWeight = title.fontWeight;\n                    node.fontFamily = title.fontFamily;\n                    node.textBaseline = 'hanging';\n                }\n                else {\n                    node.visible = false;\n                }\n            }\n            else {\n                node.text = labelFormatter\n                    ? labelFormatter({\n                        value: String(datum.label),\n                        index: index\n                    })\n                    : String(datum.label);\n                node.visible =\n                    datum.screenX >= requestedRange[0] &&\n                        datum.screenX <= requestedRange[1];\n            }\n            var bbox = node.computeBBox();\n            if (bbox && bbox.width > maxLeafLabelWidth) {\n                maxLeafLabelWidth = bbox.width;\n            }\n        });\n        var labelX = sideFlag * label.padding;\n        var autoRotation = parallelLabels\n            ? parallelFlipFlag * Math.PI / 2\n            : (regularFlipFlag === -1 ? Math.PI : 0);\n        var labelGrid = this.label.grid;\n        var separatorData = [];\n        labelSelection.each(function (label, datum, index) {\n            label.x = labelX;\n            label.rotationCenterX = labelX;\n            if (!datum.children.length) {\n                label.rotation = labelRotation;\n                label.textAlign = 'end';\n                label.textBaseline = 'middle';\n            }\n            else {\n                label.translationX -= maxLeafLabelWidth - lineHeight + _this.label.padding;\n                if (isHorizontal) {\n                    label.rotation = autoRotation;\n                }\n                else {\n                    label.rotation = -Math.PI / 2;\n                }\n            }\n            // Calculate positions of label separators for all nodes except the root.\n            // Each separator is placed to the top of the current label.\n            if (datum.parent && isLabelTree) {\n                var y = !datum.children.length\n                    ? datum.screenX - bandwidth / 2\n                    : datum.screenX - datum.leafCount * bandwidth / 2;\n                if (!datum.children.length) {\n                    if ((datum.number !== datum.children.length - 1) || labelGrid) {\n                        separatorData.push({\n                            y: y,\n                            x1: 0,\n                            x2: -maxLeafLabelWidth - _this.label.padding * 2,\n                            toString: function () { return String(index); }\n                        });\n                    }\n                }\n                else {\n                    var x = -maxLeafLabelWidth - _this.label.padding * 2 + datum.screenY;\n                    separatorData.push({\n                        y: y,\n                        x1: x + lineHeight,\n                        x2: x,\n                        toString: function () { return String(index); }\n                    });\n                }\n            }\n        });\n        // Calculate the position of the long separator on the far bottom of the axis.\n        var minX = 0;\n        separatorData.forEach(function (d) { return minX = Math.min(minX, d.x2); });\n        this.longestSeparatorLength = Math.abs(minX);\n        separatorData.push({\n            y: Math.max(rangeStart, rangeEnd),\n            x1: 0,\n            x2: minX,\n            toString: function () { return String(separatorData.length); }\n        });\n        var updateSeparators = this.separatorSelection.setData(separatorData);\n        updateSeparators.exit.remove();\n        var enterSeparators = updateSeparators.enter.append(Line);\n        var separatorSelection = updateSeparators.merge(enterSeparators);\n        this.separatorSelection = separatorSelection;\n        var epsilon = 0.0000001;\n        separatorSelection.each(function (line, datum, i) {\n            line.x1 = datum.x1;\n            line.x2 = datum.x2;\n            line.y1 = datum.y;\n            line.y2 = datum.y;\n            line.visible = datum.y >= requestedRange[0] - epsilon && datum.y <= requestedRange[1] + epsilon;\n            line.stroke = _this.tick.color;\n            line.fill = undefined;\n            line.strokeWidth = 1;\n        });\n        this.gridLineSelection = gridLineSelection;\n        this.labelSelection = labelSelection;\n        // Render axis lines.\n        var lineCount = tickTreeLayout ? tickTreeLayout.depth + 1 : 1;\n        var lines = [];\n        for (var i = 0; i < lineCount; i++) {\n            lines.push(i);\n        }\n        var updateAxisLines = this.axisLineSelection.setData(lines);\n        updateAxisLines.exit.remove();\n        var enterAxisLines = updateAxisLines.enter.append(Line);\n        var axisLineSelection = updateAxisLines.merge(enterAxisLines);\n        this.axisLineSelection = axisLineSelection;\n        axisLineSelection.each(function (line, _, index) {\n            var x = index > 0 ? -maxLeafLabelWidth - _this.label.padding * 2 - (index - 1) * lineHeight : 0;\n            line.x1 = x;\n            line.x2 = x;\n            line.y1 = requestedRange[0];\n            line.y2 = requestedRange[1];\n            line.strokeWidth = _this.line.width;\n            line.stroke = _this.line.color;\n            line.visible = labels.length > 0 && (index === 0 || (labelGrid && isLabelTree));\n        });\n        if (this.gridLength) {\n            var styles_1 = this.gridStyle;\n            var styleCount_1 = styles_1.length;\n            gridLineSelection\n                .each(function (line, datum, index) {\n                var y = Math.round(tickScale.convert(datum));\n                line.x1 = 0;\n                line.x2 = -sideFlag * _this.gridLength;\n                line.y1 = y;\n                line.y2 = y;\n                line.visible = y >= requestedRange[0] && y <= requestedRange[1] &&\n                    Math.abs(line.parent.translationY - rangeStart) > 1;\n                var style = styles_1[index % styleCount_1];\n                line.stroke = style.stroke;\n                line.strokeWidth = _this.tick.width;\n                line.lineDash = style.lineDash;\n                line.fill = undefined;\n            });\n        }\n        // debug (bbox)\n        // const bbox = this.computeBBox();\n        // const bboxRect = this.bboxRect;\n        // bboxRect.x = bbox.x;\n        // bboxRect.y = bbox.y;\n        // bboxRect.width = bbox.width;\n        // bboxRect.height = bbox.height;\n    };\n    GroupedCategoryAxis.prototype.computeBBox = function (options) {\n        var includeTitle = !options || !options.excludeTitle;\n        var left = Infinity;\n        var right = -Infinity;\n        var top = Infinity;\n        var bottom = -Infinity;\n        this.labelSelection.each(function (label, _, index) {\n            // The label itself is rotated, but not translated, the group that\n            // contains it is. So to capture the group transform in the label bbox\n            // calculation we combine the transform matrices of the label and the group.\n            // Depending on the timing of the `axis.computeBBox()` method call, we may\n            // not have the group's and the label's transform matrices updated yet (because\n            // the transform matrix is not recalculated whenever a node's transform attributes\n            // change, instead it's marked for recalculation on the next frame by setting\n            // the node's `dirtyTransform` flag to `true`), so we force them to update\n            // right here by calling `computeTransformMatrix`.\n            if (index > 0 || includeTitle) { // first node is the root (title)\n                label.computeTransformMatrix();\n                var matrix = Matrix.flyweight(label.matrix);\n                var labelBBox = label.computeBBox();\n                if (labelBBox) {\n                    var bbox = matrix.transformBBox(labelBBox);\n                    left = Math.min(left, bbox.x);\n                    right = Math.max(right, bbox.x + bbox.width);\n                    top = Math.min(top, bbox.y);\n                    bottom = Math.max(bottom, bbox.y + bbox.height);\n                }\n            }\n        });\n        return new BBox(left, top, Math.max(right - left, this.longestSeparatorLength), bottom - top);\n    };\n    // debug (bbox)\n    // private bboxRect = (() => {\n    //     const rect = new Rect();\n    //     rect.fill = undefined;\n    //     rect.stroke = 'red';\n    //     rect.strokeWidth = 1;\n    //     rect.strokeOpacity = 0.7;\n    //     return rect;\n    // })();\n    GroupedCategoryAxis.className = 'GroupedCategoryAxis';\n    GroupedCategoryAxis.type = 'groupedCategory';\n    return GroupedCategoryAxis;\n}(ChartAxis));\nexport { GroupedCategoryAxis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { LinearScale } from \"../../scale/linearScale\";\nimport { ChartAxis } from \"../chartAxis\";\nvar NumberAxis = /** @class */ (function (_super) {\n    __extends(NumberAxis, _super);\n    function NumberAxis() {\n        var _this = _super.call(this, new LinearScale()) || this;\n        _this._nice = true;\n        _this._min = NaN;\n        _this._max = NaN;\n        _this.scale.clamp = true;\n        return _this;\n    }\n    Object.defineProperty(NumberAxis.prototype, \"nice\", {\n        get: function () {\n            return this._nice;\n        },\n        set: function (value) {\n            if (this._nice !== value) {\n                this._nice = value;\n                if (value && this.scale.nice) {\n                    this.scale.nice(10);\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NumberAxis.prototype, \"domain\", {\n        get: function () {\n            return this.scale.domain;\n        },\n        set: function (value) {\n            var _a = this, min = _a.min, max = _a.max;\n            value = [\n                isNaN(min) ? value[0] : min,\n                isNaN(max) ? value[1] : max\n            ];\n            this.scale.domain = value;\n            if (this.nice && this.scale.nice) {\n                this.scale.nice(10);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NumberAxis.prototype, \"min\", {\n        get: function () {\n            return this._min;\n        },\n        set: function (value) {\n            if (this._min !== value) {\n                this._min = value;\n                if (!isNaN(value)) {\n                    this.scale.domain = [value, this.scale.domain[1]];\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NumberAxis.prototype, \"max\", {\n        get: function () {\n            return this._max;\n        },\n        set: function (value) {\n            if (this._max !== value) {\n                this._max = value;\n                if (!isNaN(value)) {\n                    this.scale.domain = [this.scale.domain[0], value];\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NumberAxis.className = 'NumberAxis';\n    NumberAxis.type = 'number';\n    return NumberAxis;\n}(ChartAxis));\nexport { NumberAxis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TimeScale } from \"../../scale/timeScale\";\nimport { ChartAxis } from \"../chartAxis\";\nvar TimeAxis = /** @class */ (function (_super) {\n    __extends(TimeAxis, _super);\n    function TimeAxis() {\n        var _this = _super.call(this, new TimeScale()) || this;\n        _this._nice = true;\n        _this.scale.clamp = true;\n        return _this;\n    }\n    Object.defineProperty(TimeAxis.prototype, \"nice\", {\n        get: function () {\n            return this._nice;\n        },\n        set: function (value) {\n            if (this._nice !== value) {\n                this._nice = value;\n                if (value && this.scale.nice) {\n                    this.scale.nice(10);\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TimeAxis.prototype, \"domain\", {\n        get: function () {\n            return this.scale.domain;\n        },\n        set: function (value) {\n            this.scale.domain = value;\n            if (this.nice && this.scale.nice) {\n                this.scale.nice(10);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TimeAxis.className = 'TimeAxis';\n    TimeAxis.type = 'time';\n    return TimeAxis;\n}(ChartAxis));\nexport { TimeAxis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Chart } from \"./chart\";\nimport { numericExtent } from \"../util/array\";\nimport { CategoryAxis } from \"./axis/categoryAxis\";\nimport { GroupedCategoryAxis } from \"./axis/groupedCategoryAxis\";\nimport { ChartAxisPosition, ChartAxisDirection } from \"./chartAxis\";\nimport { BBox } from \"../scene/bbox\";\nimport { ClipRect } from \"../scene/clipRect\";\nimport { Navigator } from \"./navigator/navigator\";\nvar CartesianChart = /** @class */ (function (_super) {\n    __extends(CartesianChart, _super);\n    function CartesianChart(document) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this, document) || this;\n        _this._seriesRoot = new ClipRect();\n        _this.navigator = new Navigator(_this);\n        // Prevent the scene from rendering chart components in an invalid state\n        // (before first layout is performed).\n        _this.scene.root.visible = false;\n        var root = _this.scene.root;\n        root.append(_this.seriesRoot);\n        root.append(_this.legend.group);\n        _this.navigator.enabled = false;\n        return _this;\n    }\n    Object.defineProperty(CartesianChart.prototype, \"seriesRoot\", {\n        get: function () {\n            return this._seriesRoot;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CartesianChart.prototype.performLayout = function () {\n        if (this.dataPending) {\n            return;\n        }\n        this.scene.root.visible = true;\n        var _a = this, width = _a.width, height = _a.height, axes = _a.axes, legend = _a.legend, navigator = _a.navigator;\n        var shrinkRect = new BBox(0, 0, width, height);\n        this.positionCaptions();\n        this.positionLegend();\n        if (legend.enabled && legend.data.length) {\n            var legendAutoPadding = this.legendAutoPadding;\n            var legendPadding = this.legend.spacing;\n            shrinkRect.x += legendAutoPadding.left;\n            shrinkRect.y += legendAutoPadding.top;\n            shrinkRect.width -= legendAutoPadding.left + legendAutoPadding.right;\n            shrinkRect.height -= legendAutoPadding.top + legendAutoPadding.bottom;\n            switch (this.legend.position) {\n                case 'right':\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'bottom':\n                    shrinkRect.height -= legendPadding;\n                    break;\n                case 'left':\n                    shrinkRect.x += legendPadding;\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'top':\n                    shrinkRect.y += legendPadding;\n                    shrinkRect.height -= legendPadding;\n                    break;\n            }\n        }\n        var _b = this, captionAutoPadding = _b.captionAutoPadding, padding = _b.padding;\n        this.updateAxes();\n        shrinkRect.x += padding.left;\n        shrinkRect.width -= padding.left + padding.right;\n        shrinkRect.y += padding.top + captionAutoPadding;\n        shrinkRect.height -= padding.top + captionAutoPadding + padding.bottom;\n        if (navigator.enabled) {\n            shrinkRect.height -= navigator.height + navigator.margin;\n        }\n        var bottomAxesHeight = 0;\n        axes.forEach(function (axis) {\n            axis.group.visible = true;\n            var axisThickness = Math.floor(axis.computeBBox().width);\n            switch (axis.position) {\n                case ChartAxisPosition.Top:\n                    shrinkRect.y += axisThickness;\n                    shrinkRect.height -= axisThickness;\n                    axis.translation.y = Math.floor(shrinkRect.y + 1);\n                    axis.label.mirrored = true;\n                    break;\n                case ChartAxisPosition.Right:\n                    shrinkRect.width -= axisThickness;\n                    axis.translation.x = Math.floor(shrinkRect.x + shrinkRect.width);\n                    axis.label.mirrored = true;\n                    break;\n                case ChartAxisPosition.Bottom:\n                    shrinkRect.height -= axisThickness;\n                    bottomAxesHeight += axisThickness;\n                    axis.translation.y = Math.floor(shrinkRect.y + shrinkRect.height + 1);\n                    break;\n                case ChartAxisPosition.Left:\n                    shrinkRect.x += axisThickness;\n                    shrinkRect.width -= axisThickness;\n                    axis.translation.x = Math.floor(shrinkRect.x);\n                    break;\n            }\n        });\n        axes.forEach(function (axis) {\n            switch (axis.position) {\n                case ChartAxisPosition.Top:\n                case ChartAxisPosition.Bottom:\n                    axis.translation.x = Math.floor(shrinkRect.x);\n                    axis.range = [0, shrinkRect.width];\n                    axis.gridLength = shrinkRect.height;\n                    break;\n                case ChartAxisPosition.Left:\n                case ChartAxisPosition.Right:\n                    axis.translation.y = Math.floor(shrinkRect.y);\n                    if (axis instanceof CategoryAxis || axis instanceof GroupedCategoryAxis) {\n                        axis.range = [0, shrinkRect.height];\n                    }\n                    else {\n                        axis.range = [shrinkRect.height, 0];\n                    }\n                    axis.gridLength = shrinkRect.width;\n                    break;\n            }\n        });\n        this.seriesRect = shrinkRect;\n        this.series.forEach(function (series) {\n            series.group.translationX = Math.floor(shrinkRect.x);\n            series.group.translationY = Math.floor(shrinkRect.y);\n            series.update(); // this has to happen after the `updateAxes` call\n        });\n        var seriesRoot = this.seriesRoot;\n        seriesRoot.x = shrinkRect.x;\n        seriesRoot.y = shrinkRect.y;\n        seriesRoot.width = shrinkRect.width;\n        seriesRoot.height = shrinkRect.height;\n        if (navigator.enabled) {\n            navigator.x = shrinkRect.x;\n            navigator.y = shrinkRect.y + shrinkRect.height + bottomAxesHeight + navigator.margin;\n            navigator.width = shrinkRect.width;\n        }\n        this.axes.forEach(function (axis) { return axis.update(); });\n    };\n    CartesianChart.prototype.initSeries = function (series) {\n        _super.prototype.initSeries.call(this, series);\n        series.addEventListener('dataProcessed', this.updateAxes, this);\n    };\n    CartesianChart.prototype.freeSeries = function (series) {\n        _super.prototype.freeSeries.call(this, series);\n        series.removeEventListener('dataProcessed', this.updateAxes, this);\n    };\n    CartesianChart.prototype.setupDomListeners = function (chartElement) {\n        _super.prototype.setupDomListeners.call(this, chartElement);\n        this._onTouchStart = this.onTouchStart.bind(this);\n        this._onTouchMove = this.onTouchMove.bind(this);\n        this._onTouchEnd = this.onTouchEnd.bind(this);\n        this._onTouchCancel = this.onTouchCancel.bind(this);\n        chartElement.addEventListener('touchstart', this._onTouchStart);\n        chartElement.addEventListener('touchmove', this._onTouchMove);\n        chartElement.addEventListener('touchend', this._onTouchEnd);\n        chartElement.addEventListener('touchcancel', this._onTouchCancel);\n    };\n    CartesianChart.prototype.cleanupDomListeners = function (chartElement) {\n        _super.prototype.cleanupDomListeners.call(this, chartElement);\n        chartElement.removeEventListener('touchstart', this._onTouchStart);\n        chartElement.removeEventListener('touchmove', this._onTouchMove);\n        chartElement.removeEventListener('touchend', this._onTouchEnd);\n        chartElement.removeEventListener('touchcancel', this._onTouchCancel);\n    };\n    CartesianChart.prototype.getTouchOffset = function (event) {\n        var rect = this.scene.canvas.element.getBoundingClientRect();\n        var touch = event.touches[0];\n        return touch ? {\n            offsetX: touch.clientX - rect.left,\n            offsetY: touch.clientY - rect.top\n        } : undefined;\n    };\n    CartesianChart.prototype.onTouchStart = function (event) {\n        var offset = this.getTouchOffset(event);\n        if (offset) {\n            this.navigator.onDragStart(offset);\n        }\n    };\n    CartesianChart.prototype.onTouchMove = function (event) {\n        var offset = this.getTouchOffset(event);\n        if (offset) {\n            this.navigator.onDrag(offset);\n        }\n    };\n    CartesianChart.prototype.onTouchEnd = function (event) {\n        this.navigator.onDragStop();\n    };\n    CartesianChart.prototype.onTouchCancel = function (event) {\n        this.navigator.onDragStop();\n    };\n    CartesianChart.prototype.onMouseDown = function (event) {\n        _super.prototype.onMouseDown.call(this, event);\n        this.navigator.onDragStart(event);\n    };\n    CartesianChart.prototype.onMouseMove = function (event) {\n        _super.prototype.onMouseMove.call(this, event);\n        this.navigator.onDrag(event);\n    };\n    CartesianChart.prototype.onMouseUp = function (event) {\n        _super.prototype.onMouseUp.call(this, event);\n        this.navigator.onDragStop();\n    };\n    CartesianChart.prototype.onMouseOut = function (event) {\n        _super.prototype.onMouseOut.call(this, event);\n        this.navigator.onDragStop();\n    };\n    CartesianChart.prototype.updateAxes = function () {\n        var navigator = this.navigator;\n        var clipSeries = false;\n        this.axes.forEach(function (axis) {\n            var _a;\n            var direction = axis.direction, boundSeries = axis.boundSeries;\n            if (axis.linkedTo) {\n                axis.domain = axis.linkedTo.domain;\n            }\n            else {\n                var domains_1 = [];\n                boundSeries.filter(function (s) { return s.visible; }).forEach(function (series) {\n                    domains_1.push(series.getDomain(direction));\n                });\n                var domain = (_a = new Array()).concat.apply(_a, domains_1);\n                axis.domain = numericExtent(domain) || domain; // if numeric extent can't be found, it's categories\n            }\n            if (axis.direction === ChartAxisDirection.X) {\n                axis.visibleRange = [navigator.min, navigator.max];\n            }\n            if (!clipSeries && (axis.visibleRange[0] > 0 || axis.visibleRange[1] < 1)) {\n                clipSeries = true;\n            }\n            axis.update();\n        });\n        this.seriesRoot.enabled = clipSeries;\n    };\n    CartesianChart.className = 'CartesianChart';\n    CartesianChart.type = 'cartesian';\n    return CartesianChart;\n}(Chart));\nexport { CartesianChart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Scene } from \"../scene/scene\";\nimport { Group } from \"../scene/group\";\nimport { Padding } from \"../util/padding\";\nimport { Shape } from \"../scene/shape/shape\";\nimport { Rect } from \"../scene/shape/rect\";\nimport { Legend } from \"./legend\";\nimport { find } from \"../util/array\";\nimport { SizeMonitor } from \"../util/sizeMonitor\";\nimport { Observable, reactive } from \"../util/observable\";\nimport { CartesianSeries } from \"./series/cartesian/cartesianSeries\";\nimport { createId } from \"../util/id\";\nvar defaultTooltipCss = \"\\n.ag-chart-tooltip {\\n    display: table;\\n    position: absolute;\\n    user-select: none;\\n    pointer-events: none;\\n    white-space: nowrap;\\n    z-index: 99999;\\n    font: 12px Verdana, sans-serif;\\n    color: black;\\n    background: rgb(244, 244, 244);\\n    border-radius: 5px;\\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\\n}\\n\\n.ag-chart-tooltip-hidden {\\n    top: -10000px !important;\\n}\\n\\n.ag-chart-tooltip-title {\\n    font-weight: bold;\\n    padding: 7px;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n    color: white;\\n    background-color: #888888;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n}\\n\\n.ag-chart-tooltip-content {\\n    padding: 7px;\\n    line-height: 1.7em;\\n    border-bottom-left-radius: 5px;\\n    border-bottom-right-radius: 5px;\\n    overflow: hidden;\\n}\\n\\n.ag-chart-tooltip-content:empty {\\n    padding: 0;\\n    height: 7px;\\n}\\n\\n.ag-chart-tooltip-arrow::before {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 6px solid #989898;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: #989898;\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\\n.ag-chart-tooltip-arrow::after {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 5px solid black;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: rgb(244, 244, 244);\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\\n.ag-chart-wrapper {\\n    box-sizing: border-box;\\n    overflow: hidden;\\n}\\n\";\nexport function toTooltipHtml(input, defaults) {\n    if (typeof input === 'string') {\n        return input;\n    }\n    defaults = defaults || {};\n    var _a = input.content, content = _a === void 0 ? defaults.content || '' : _a, _b = input.title, title = _b === void 0 ? defaults.title || undefined : _b, _c = input.color, color = _c === void 0 ? defaults.color || 'white' : _c, _d = input.backgroundColor, backgroundColor = _d === void 0 ? defaults.backgroundColor || '#888' : _d;\n    var titleHtml = title ? \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-title\\\"\\n        style=\\\"color: \" + color + \"; background-color: \" + backgroundColor + \"\\\">\" + title + \"</div>\" : '';\n    return titleHtml + \"<div class=\\\"\" + Chart.defaultTooltipClass + \"-content\\\">\" + content + \"</div>\";\n}\nvar ChartTooltip = /** @class */ (function (_super) {\n    __extends(ChartTooltip, _super);\n    function ChartTooltip(chart) {\n        var _this = _super.call(this) || this;\n        _this.element = document.createElement('div');\n        _this.enabled = true;\n        _this.class = Chart.defaultTooltipClass;\n        _this.delay = 0;\n        /**\n         * If `true`, the tooltip will be shown for the marker closest to the mouse cursor.\n         * Only has effect on series with markers.\n         */\n        _this.tracking = true;\n        _this.showTimeout = 0;\n        _this.constrained = false;\n        _this.chart = chart;\n        _this.class = '';\n        var tooltipRoot = document.body;\n        tooltipRoot.appendChild(_this.element);\n        // Detect when the chart becomes invisible and hide the tooltip as well.\n        if (window.IntersectionObserver) {\n            var target_1 = _this.chart.scene.canvas.element;\n            var observer = new IntersectionObserver(function (entries) {\n                for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                    var entry = entries_1[_i];\n                    if (entry.target === target_1 && entry.intersectionRatio === 0) {\n                        _this.toggle(false);\n                    }\n                }\n            }, { root: tooltipRoot });\n            observer.observe(target_1);\n            _this.observer = observer;\n        }\n        return _this;\n    }\n    ChartTooltip.prototype.isVisible = function () {\n        var element = this.element;\n        if (element.classList) { // if not IE11\n            return !element.classList.contains(Chart.defaultTooltipClass + '-hidden');\n        }\n        // IE11 part.\n        var classes = element.getAttribute('class');\n        if (classes) {\n            return classes.split(' ').indexOf(Chart.defaultTooltipClass + '-hidden') < 0;\n        }\n        return false;\n    };\n    ChartTooltip.prototype.updateClass = function (visible, constrained) {\n        var classList = [Chart.defaultTooltipClass, this.class];\n        if (visible !== true) {\n            classList.push(Chart.defaultTooltipClass + \"-hidden\");\n        }\n        if (constrained !== true) {\n            classList.push(Chart.defaultTooltipClass + \"-arrow\");\n        }\n        this.element.setAttribute('class', classList.join(' '));\n    };\n    /**\n     * Shows tooltip at the given event's coordinates.\n     * If the `html` parameter is missing, moves the existing tooltip to the new position.\n     */\n    ChartTooltip.prototype.show = function (meta, html, instantly) {\n        var _this = this;\n        if (instantly === void 0) { instantly = false; }\n        var el = this.element;\n        if (html !== undefined) {\n            el.innerHTML = html;\n        }\n        else if (!el.innerHTML) {\n            return;\n        }\n        var left = meta.pageX - el.clientWidth / 2;\n        var top = meta.pageY - el.clientHeight - 8;\n        this.constrained = false;\n        if (this.chart.container) {\n            var tooltipRect = el.getBoundingClientRect();\n            var minLeft = 0;\n            var maxLeft = window.innerWidth - tooltipRect.width;\n            if (left < minLeft) {\n                left = minLeft;\n                this.updateClass(true, this.constrained = true);\n            }\n            else if (left > maxLeft) {\n                left = maxLeft;\n                this.updateClass(true, this.constrained = true);\n            }\n            if (top < window.pageYOffset) {\n                top = meta.pageY + 20;\n                this.updateClass(true, this.constrained = true);\n            }\n        }\n        el.style.left = left + \"px\";\n        el.style.top = top + \"px\";\n        if (this.delay > 0 && !instantly) {\n            this.toggle(false);\n            this.showTimeout = window.setTimeout(function () {\n                _this.toggle(true);\n            }, this.delay);\n            return;\n        }\n        this.toggle(true);\n    };\n    ChartTooltip.prototype.toggle = function (visible) {\n        if (!visible) {\n            window.clearTimeout(this.showTimeout);\n            if (this.chart.lastPick && !this.delay) {\n                this.chart.dehighlightDatum();\n                this.chart.lastPick = undefined;\n            }\n        }\n        this.updateClass(visible, this.constrained);\n    };\n    ChartTooltip.prototype.destroy = function () {\n        var parentNode = this.element.parentNode;\n        if (parentNode) {\n            parentNode.removeChild(this.element);\n        }\n        if (this.observer) {\n            this.observer.unobserve(this.chart.scene.canvas.element);\n        }\n    };\n    __decorate([\n        reactive()\n    ], ChartTooltip.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive()\n    ], ChartTooltip.prototype, \"class\", void 0);\n    __decorate([\n        reactive()\n    ], ChartTooltip.prototype, \"delay\", void 0);\n    __decorate([\n        reactive()\n    ], ChartTooltip.prototype, \"tracking\", void 0);\n    return ChartTooltip;\n}(Observable));\nexport { ChartTooltip };\nvar Chart = /** @class */ (function (_super) {\n    __extends(Chart, _super);\n    function Chart(document) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this) || this;\n        _this.id = createId(_this);\n        _this.background = new Rect();\n        _this.legend = new Legend();\n        _this.legendAutoPadding = new Padding();\n        _this.captionAutoPadding = 0; // top padding only\n        _this._container = undefined;\n        _this._data = [];\n        _this._autoSize = false;\n        _this._tooltipClass = Chart.defaultTooltipClass;\n        /**\n         * @deprecated Please use {@link tooltip.tracking} instead.\n         */\n        _this.tooltipTracking = true;\n        _this.padding = new Padding(20);\n        _this._axes = [];\n        _this._series = [];\n        _this._axesChanged = false;\n        _this._seriesChanged = false;\n        _this.layoutCallbackId = 0;\n        _this._performLayout = function () {\n            _this.layoutCallbackId = 0;\n            _this.background.width = _this.width;\n            _this.background.height = _this.height;\n            _this.performLayout();\n            if (!_this.layoutPending) {\n                _this.fireEvent({ type: 'layoutDone' });\n            }\n        };\n        _this.dataCallbackId = 0;\n        _this._onMouseDown = _this.onMouseDown.bind(_this);\n        _this._onMouseUp = _this.onMouseUp.bind(_this);\n        _this._onMouseMove = _this.onMouseMove.bind(_this);\n        _this._onMouseOut = _this.onMouseOut.bind(_this);\n        _this._onClick = _this.onClick.bind(_this);\n        var root = new Group();\n        var background = _this.background;\n        background.fill = 'white';\n        root.appendChild(background);\n        var element = _this._element = document.createElement('div');\n        element.setAttribute('class', 'ag-chart-wrapper');\n        var scene = new Scene(document);\n        _this.scene = scene;\n        scene.root = root;\n        scene.container = element;\n        _this.autoSize = true;\n        var legend = _this.legend;\n        legend.addEventListener('layoutChange', _this.onLayoutChange, _this);\n        legend.addPropertyListener('position', _this.onLegendPositionChange, _this);\n        _this.tooltip = new ChartTooltip(_this);\n        _this.tooltip.addPropertyListener('class', function () { return _this.tooltip.toggle(); });\n        if (Chart.tooltipDocuments.indexOf(document) < 0) {\n            var styleElement = document.createElement('style');\n            styleElement.innerHTML = defaultTooltipCss;\n            // Make sure the default tooltip style goes before other styles so it can be overridden.\n            document.head.insertBefore(styleElement, document.head.querySelector('style'));\n            Chart.tooltipDocuments.push(document);\n        }\n        _this.setupDomListeners(scene.canvas.element);\n        _this.addPropertyListener('title', _this.onCaptionChange);\n        _this.addPropertyListener('subtitle', _this.onCaptionChange);\n        _this.addEventListener('layoutChange', function () { return _this.layoutPending = true; });\n        return _this;\n    }\n    Object.defineProperty(Chart.prototype, \"container\", {\n        get: function () {\n            return this._container;\n        },\n        set: function (value) {\n            if (this._container !== value) {\n                var parentNode = this.element.parentNode;\n                if (parentNode != null) {\n                    parentNode.removeChild(this.element);\n                }\n                if (value) {\n                    value.appendChild(this.element);\n                }\n                this._container = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"data\", {\n        get: function () {\n            return this._data;\n        },\n        set: function (data) {\n            this._data = data;\n            this.series.forEach(function (series) { return series.data = data; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"width\", {\n        get: function () {\n            return this.scene.width;\n        },\n        set: function (value) {\n            this.autoSize = false;\n            if (this.width !== value) {\n                this.scene.resize(value, this.height);\n                this.fireEvent({ type: 'layoutChange' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"height\", {\n        get: function () {\n            return this.scene.height;\n        },\n        set: function (value) {\n            this.autoSize = false;\n            if (this.height !== value) {\n                this.scene.resize(this.width, value);\n                this.fireEvent({ type: 'layoutChange' });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"autoSize\", {\n        get: function () {\n            return this._autoSize;\n        },\n        set: function (value) {\n            if (this._autoSize !== value) {\n                this._autoSize = value;\n                var style = this.element.style;\n                if (value) {\n                    var chart_1 = this; // capture `this` for IE11\n                    SizeMonitor.observe(this.element, function (size) {\n                        if (size.width !== chart_1.width || size.height !== chart_1.height) {\n                            chart_1.scene.resize(size.width, size.height);\n                            chart_1.fireEvent({ type: 'layoutChange' });\n                        }\n                    });\n                    style.display = 'block';\n                    style.width = '100%';\n                    style.height = '100%';\n                }\n                else {\n                    SizeMonitor.unobserve(this.element);\n                    style.display = 'inline-block';\n                    style.width = 'auto';\n                    style.height = 'auto';\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"tooltipClass\", {\n        get: function () {\n            return this.tooltip.class;\n        },\n        /**\n         * @deprecated Please use {@link tooltip.class} instead.\n         */\n        set: function (value) {\n            this.tooltip.class = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.download = function (fileName) {\n        this.scene.download(fileName);\n    };\n    Chart.prototype.destroy = function () {\n        this.tooltip.destroy();\n        SizeMonitor.unobserve(this.element);\n        this.container = undefined;\n        this.cleanupDomListeners(this.scene.canvas.element);\n        this.scene.container = undefined;\n    };\n    Chart.prototype.onLayoutChange = function () {\n        this.layoutPending = true;\n    };\n    Chart.prototype.onLegendPositionChange = function () {\n        this.legendAutoPadding.clear();\n        this.layoutPending = true;\n    };\n    Chart.prototype.onCaptionChange = function (event) {\n        var value = event.value, oldValue = event.oldValue;\n        if (oldValue) {\n            oldValue.removeEventListener('change', this.onLayoutChange, this);\n            this.scene.root.removeChild(oldValue.node);\n        }\n        if (value) {\n            value.addEventListener('change', this.onLayoutChange, this);\n            this.scene.root.appendChild(value.node);\n        }\n    };\n    Object.defineProperty(Chart.prototype, \"element\", {\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"axes\", {\n        get: function () {\n            return this._axes;\n        },\n        set: function (values) {\n            var _this = this;\n            this._axes.forEach(function (axis) { return _this.detachAxis(axis); });\n            // make linked axes go after the regular ones (simulates stable sort by `linkedTo` property)\n            this._axes = values.filter(function (a) { return !a.linkedTo; }).concat(values.filter(function (a) { return a.linkedTo; }));\n            this._axes.forEach(function (axis) { return _this.attachAxis(axis); });\n            this.axesChanged = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.attachAxis = function (axis) {\n        this.scene.root.insertBefore(axis.group, this.seriesRoot);\n    };\n    Chart.prototype.detachAxis = function (axis) {\n        this.scene.root.removeChild(axis.group);\n    };\n    Object.defineProperty(Chart.prototype, \"series\", {\n        get: function () {\n            return this._series;\n        },\n        set: function (values) {\n            var _this = this;\n            this.removeAllSeries();\n            values.forEach(function (series) { return _this.addSeries(series); });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.scheduleLayout = function () {\n        this.layoutPending = true;\n    };\n    Chart.prototype.scheduleData = function () {\n        // To prevent the chart from thinking the cursor is over the same node\n        // after a change to data (the nodes are reused on data changes).\n        this.dehighlightDatum();\n        this.dataPending = true;\n    };\n    Chart.prototype.addSeries = function (series, before) {\n        var _a = this, allSeries = _a.series, seriesRoot = _a.seriesRoot;\n        var canAdd = allSeries.indexOf(series) < 0;\n        if (canAdd) {\n            var beforeIndex = before ? allSeries.indexOf(before) : -1;\n            if (beforeIndex >= 0) {\n                allSeries.splice(beforeIndex, 0, series);\n                seriesRoot.insertBefore(series.group, before.group);\n            }\n            else {\n                allSeries.push(series);\n                seriesRoot.append(series.group);\n            }\n            this.initSeries(series);\n            this.seriesChanged = true;\n            this.axesChanged = true;\n            return true;\n        }\n        return false;\n    };\n    Chart.prototype.initSeries = function (series) {\n        series.chart = this;\n        if (!series.data) {\n            series.data = this.data;\n        }\n        series.addEventListener('layoutChange', this.scheduleLayout, this);\n        series.addEventListener('dataChange', this.scheduleData, this);\n        series.addEventListener('legendChange', this.updateLegend, this);\n        series.addEventListener('nodeClick', this.onSeriesNodeClick, this);\n    };\n    Chart.prototype.freeSeries = function (series) {\n        series.chart = undefined;\n        series.removeEventListener('layoutChange', this.scheduleLayout, this);\n        series.removeEventListener('dataChange', this.scheduleData, this);\n        series.removeEventListener('legendChange', this.updateLegend, this);\n        series.removeEventListener('nodeClick', this.onSeriesNodeClick, this);\n    };\n    Chart.prototype.addSeriesAfter = function (series, after) {\n        var _a = this, allSeries = _a.series, seriesRoot = _a.seriesRoot;\n        var canAdd = allSeries.indexOf(series) < 0;\n        if (canAdd) {\n            var afterIndex = after ? this.series.indexOf(after) : -1;\n            if (afterIndex >= 0) {\n                if (afterIndex + 1 < allSeries.length) {\n                    seriesRoot.insertBefore(series.group, allSeries[afterIndex + 1].group);\n                }\n                else {\n                    seriesRoot.append(series.group);\n                }\n                this.initSeries(series);\n                allSeries.splice(afterIndex + 1, 0, series);\n            }\n            else {\n                if (allSeries.length > 0) {\n                    seriesRoot.insertBefore(series.group, allSeries[0].group);\n                }\n                else {\n                    seriesRoot.append(series.group);\n                }\n                this.initSeries(series);\n                allSeries.unshift(series);\n            }\n            this.seriesChanged = true;\n            this.axesChanged = true;\n        }\n        return false;\n    };\n    Chart.prototype.removeSeries = function (series) {\n        var index = this.series.indexOf(series);\n        if (index >= 0) {\n            this.series.splice(index, 1);\n            this.freeSeries(series);\n            this.seriesRoot.removeChild(series.group);\n            this.seriesChanged = true;\n            return true;\n        }\n        return false;\n    };\n    Chart.prototype.removeAllSeries = function () {\n        var _this = this;\n        this.series.forEach(function (series) {\n            _this.freeSeries(series);\n            _this.seriesRoot.removeChild(series.group);\n        });\n        this._series = []; // using `_series` instead of `series` to prevent infinite recursion\n        this.seriesChanged = true;\n    };\n    Chart.prototype.assignSeriesToAxes = function () {\n        var _this = this;\n        this.axes.forEach(function (axis) {\n            var axisName = axis.direction + 'Axis';\n            var boundSeries = [];\n            _this.series.forEach(function (series) {\n                if (series[axisName] === axis) {\n                    boundSeries.push(series);\n                }\n            });\n            axis.boundSeries = boundSeries;\n        });\n        this.seriesChanged = false;\n    };\n    Chart.prototype.assignAxesToSeries = function (force) {\n        var _this = this;\n        if (force === void 0) { force = false; }\n        // This method has to run before `assignSeriesToAxes`.\n        var directionToAxesMap = {};\n        this.axes.forEach(function (axis) {\n            var direction = axis.direction;\n            var directionAxes = directionToAxesMap[direction] || (directionToAxesMap[direction] = []);\n            directionAxes.push(axis);\n        });\n        this.series.forEach(function (series) {\n            series.directions.forEach(function (direction) {\n                var axisName = direction + 'Axis';\n                if (!series[axisName] || force) {\n                    var directionAxes = directionToAxesMap[direction];\n                    if (directionAxes) {\n                        var axis = _this.findMatchingAxis(directionAxes, series.getKeys(direction));\n                        if (axis) {\n                            series[axisName] = axis;\n                        }\n                    }\n                }\n            });\n            if (series instanceof CartesianSeries) {\n                if (!series.xAxis) {\n                    console.warn(\"Could not find a matching xAxis for the \" + series.id + \" series.\");\n                    return;\n                }\n                if (!series.yAxis) {\n                    console.warn(\"Could not find a matching yAxis for the \" + series.id + \" series.\");\n                    return;\n                }\n            }\n        });\n        this.axesChanged = false;\n    };\n    Chart.prototype.findMatchingAxis = function (directionAxes, directionKeys) {\n        for (var i = 0; i < directionAxes.length; i++) {\n            var axis = directionAxes[i];\n            var axisKeys = axis.keys;\n            if (!axisKeys.length) {\n                return axis;\n            }\n            else if (directionKeys) {\n                for (var j = 0; j < directionKeys.length; j++) {\n                    if (axisKeys.indexOf(directionKeys[j]) >= 0) {\n                        return axis;\n                    }\n                }\n            }\n        }\n    };\n    Object.defineProperty(Chart.prototype, \"axesChanged\", {\n        get: function () {\n            return this._axesChanged;\n        },\n        set: function (value) {\n            this._axesChanged = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"seriesChanged\", {\n        get: function () {\n            return this._seriesChanged;\n        },\n        set: function (value) {\n            this._seriesChanged = value;\n            if (value) {\n                this.dataPending = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"layoutPending\", {\n        /**\n         * Only `true` while we are waiting for the layout to start.\n         * This will be `false` if the layout has already started and is ongoing.\n         */\n        get: function () {\n            return !!this.layoutCallbackId;\n        },\n        set: function (value) {\n            if (value) {\n                if (!(this.layoutCallbackId || this.dataPending)) {\n                    this.layoutCallbackId = requestAnimationFrame(this._performLayout);\n                }\n            }\n            else if (this.layoutCallbackId) {\n                cancelAnimationFrame(this.layoutCallbackId);\n                this.layoutCallbackId = 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"dataPending\", {\n        get: function () {\n            return !!this.dataCallbackId;\n        },\n        set: function (value) {\n            var _this = this;\n            if (this.dataCallbackId) {\n                clearTimeout(this.dataCallbackId);\n                this.dataCallbackId = 0;\n            }\n            if (value) {\n                this.dataCallbackId = window.setTimeout(function () {\n                    _this.dataPending = false;\n                    _this.processData();\n                }, 0);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Chart.prototype.processData = function () {\n        this.layoutPending = false;\n        if (this.axesChanged) {\n            this.assignAxesToSeries(true);\n            this.assignSeriesToAxes();\n        }\n        if (this.seriesChanged) {\n            this.assignSeriesToAxes();\n        }\n        this.series.filter(function (s) { return s.visible; }).forEach(function (series) { return series.processData(); });\n        this.updateLegend();\n        this.layoutPending = true;\n    };\n    Chart.prototype.updateLegend = function () {\n        var legendData = [];\n        this.series.filter(function (s) { return s.showInLegend; }).forEach(function (series) { return series.listSeriesItems(legendData); });\n        this.legend.data = legendData;\n    };\n    Chart.prototype.positionCaptions = function () {\n        var _a = this, title = _a.title, subtitle = _a.subtitle;\n        var titleVisible = false;\n        var subtitleVisible = false;\n        var spacing = 10;\n        var paddingTop = spacing;\n        if (title && title.enabled) {\n            title.node.x = this.width / 2;\n            title.node.y = paddingTop;\n            titleVisible = true;\n            var titleBBox = title.node.computeBBox(); // make sure to set node's x/y, then computeBBox\n            if (titleBBox) {\n                paddingTop = titleBBox.y + titleBBox.height;\n            }\n            if (subtitle && subtitle.enabled) {\n                subtitle.node.x = this.width / 2;\n                subtitle.node.y = paddingTop + spacing;\n                subtitleVisible = true;\n                var subtitleBBox = subtitle.node.computeBBox();\n                if (subtitleBBox) {\n                    paddingTop = subtitleBBox.y + subtitleBBox.height;\n                }\n            }\n        }\n        if (title) {\n            title.node.visible = titleVisible;\n        }\n        if (subtitle) {\n            subtitle.node.visible = subtitleVisible;\n        }\n        this.captionAutoPadding = Math.floor(paddingTop);\n    };\n    Chart.prototype.positionLegend = function () {\n        if (!this.legend.enabled || !this.legend.data.length) {\n            return;\n        }\n        var _a = this, legend = _a.legend, captionAutoPadding = _a.captionAutoPadding, legendAutoPadding = _a.legendAutoPadding;\n        var width = this.width;\n        var height = this.height - captionAutoPadding;\n        var legendGroup = legend.group;\n        var legendSpacing = legend.spacing;\n        var translationX = 0;\n        var translationY = 0;\n        var legendBBox;\n        switch (legend.position) {\n            case 'bottom':\n                legend.performLayout(width - legendSpacing * 2, 0);\n                legendBBox = legendGroup.computeBBox();\n                translationX = (width - legendBBox.width) / 2 - legendBBox.x;\n                translationY = captionAutoPadding + height - legendBBox.height - legendBBox.y - legendSpacing;\n                legendAutoPadding.bottom = legendBBox.height;\n                break;\n            case 'top':\n                legend.performLayout(width - legendSpacing * 2, 0);\n                legendBBox = legendGroup.computeBBox();\n                translationX = (width - legendBBox.width) / 2 - legendBBox.x;\n                translationY = captionAutoPadding + legendSpacing - legendBBox.y;\n                legendAutoPadding.top = legendBBox.height;\n                break;\n            case 'left':\n                legend.performLayout(0, height - legendSpacing * 2);\n                legendBBox = legendGroup.computeBBox();\n                translationX = legendSpacing - legendBBox.x;\n                translationY = captionAutoPadding + (height - legendBBox.height) / 2 - legendBBox.y;\n                legendAutoPadding.left = legendBBox.width;\n                break;\n            default: // case 'right':\n                legend.performLayout(0, height - legendSpacing * 2);\n                legendBBox = legendGroup.computeBBox();\n                translationX = width - legendBBox.width - legendBBox.x - legendSpacing;\n                translationY = captionAutoPadding + (height - legendBBox.height) / 2 - legendBBox.y;\n                legendAutoPadding.right = legendBBox.width;\n                break;\n        }\n        // Round off for pixel grid alignment to work properly.\n        legendGroup.translationX = Math.floor(translationX + legendGroup.translationX);\n        legendGroup.translationY = Math.floor(translationY + legendGroup.translationY);\n    };\n    Chart.prototype.setupDomListeners = function (chartElement) {\n        chartElement.addEventListener('mousedown', this._onMouseDown);\n        chartElement.addEventListener('mousemove', this._onMouseMove);\n        chartElement.addEventListener('mouseup', this._onMouseUp);\n        chartElement.addEventListener('mouseout', this._onMouseOut);\n        chartElement.addEventListener('click', this._onClick);\n    };\n    Chart.prototype.cleanupDomListeners = function (chartElement) {\n        chartElement.removeEventListener('mousedown', this._onMouseDown);\n        chartElement.removeEventListener('mousemove', this._onMouseMove);\n        chartElement.removeEventListener('mouseup', this._onMouseUp);\n        chartElement.removeEventListener('mouseout', this._onMouseOut);\n        chartElement.removeEventListener('click', this._onClick);\n    };\n    Chart.prototype.getSeriesRect = function () {\n        return this.seriesRect;\n    };\n    // x/y are local canvas coordinates in CSS pixels, not actual pixels\n    Chart.prototype.pickSeriesNode = function (x, y) {\n        if (!this.seriesRect || !this.seriesRect.containsPoint(x, y)) {\n            return undefined;\n        }\n        var allSeries = this.series;\n        var node = undefined;\n        for (var i = allSeries.length - 1; i >= 0; i--) {\n            var series = allSeries[i];\n            node = series.group.pickNode(x, y);\n            if (node) {\n                return {\n                    series: series,\n                    node: node\n                };\n            }\n        }\n    };\n    // Provided x/y are in canvas coordinates.\n    Chart.prototype.pickClosestSeriesNodeDatum = function (x, y) {\n        if (!this.seriesRect || !this.seriesRect.containsPoint(x, y)) {\n            return undefined;\n        }\n        var allSeries = this.series;\n        function getDistance(p1, p2) {\n            return Math.sqrt(Math.pow((p1.x - p2.x), 2) + Math.pow((p1.y - p2.y), 2));\n        }\n        var minDistance = Infinity;\n        var closestDatum;\n        var _loop_1 = function (i) {\n            var series = allSeries[i];\n            if (!series.visible) {\n                return \"continue\";\n            }\n            var hitPoint = series.group.transformPoint(x, y);\n            series.getNodeData().forEach(function (datum) {\n                if (!datum.point) {\n                    return;\n                }\n                var distance = getDistance(hitPoint, datum.point);\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    closestDatum = datum;\n                }\n            });\n        };\n        for (var i = allSeries.length - 1; i >= 0; i--) {\n            _loop_1(i);\n        }\n        if (closestDatum) {\n            return closestDatum;\n        }\n    };\n    Chart.prototype.onMouseMove = function (event) {\n        if (this.tooltip.enabled) {\n            if (this.tooltip.delay > 0) {\n                this.tooltip.toggle(false);\n            }\n            this.handleTooltip(event);\n        }\n    };\n    Chart.prototype.handleTooltip = function (event) {\n        var _a = this, lastPick = _a.lastPick, tooltipTracking = _a.tooltip.tracking;\n        var offsetX = event.offsetX, offsetY = event.offsetY;\n        var pick = this.pickSeriesNode(offsetX, offsetY);\n        var nodeDatum;\n        if (pick && pick.node instanceof Shape) {\n            var node = pick.node;\n            nodeDatum = node.datum;\n            if (lastPick && lastPick.datum === nodeDatum) {\n                lastPick.node = node;\n                lastPick.event = event;\n            }\n            // Marker nodes will have the `point` info in their datums.\n            // Highlight if not a marker node or, if not in the tracking mode, highlight markers too.\n            if ((!node.datum.point || !tooltipTracking)) {\n                if (!lastPick // cursor moved from empty space to a node\n                    || lastPick.node !== node) { // cursor moved from one node to another\n                    this.onSeriesDatumPick(event, node.datum, node, event);\n                }\n                else if (pick.series.tooltip.enabled) { // cursor moved within the same node\n                    this.tooltip.show(event);\n                }\n                // A non-marker node (takes precedence over marker nodes) was highlighted.\n                // Or we are not in the tracking mode.\n                // Either way, we are done at this point.\n                return;\n            }\n        }\n        var hideTooltip = false;\n        // In tracking mode a tooltip is shown for the closest rendered datum.\n        // This makes it easier to show tooltips when markers are small and/or plentiful\n        // and also gives the ability to show tooltips even when the series were configured\n        // to not render markers.\n        if (tooltipTracking) {\n            var closestDatum = this.pickClosestSeriesNodeDatum(offsetX, offsetY);\n            if (closestDatum && closestDatum.point) {\n                var _b = closestDatum.point, x = _b.x, y = _b.y;\n                var canvas = this.scene.canvas;\n                var point = closestDatum.series.group.inverseTransformPoint(x, y);\n                var canvasRect = canvas.element.getBoundingClientRect();\n                this.onSeriesDatumPick({\n                    pageX: Math.round(canvasRect.left + window.pageXOffset + point.x),\n                    pageY: Math.round(canvasRect.top + window.pageYOffset + point.y)\n                }, closestDatum, nodeDatum === closestDatum && pick ? pick.node : undefined, event);\n            }\n            else {\n                hideTooltip = true;\n            }\n        }\n        if (lastPick && (hideTooltip || !tooltipTracking)) {\n            // Cursor moved from a non-marker node to empty space.\n            this.dehighlightDatum();\n            this.tooltip.toggle(false);\n            this.lastPick = undefined;\n        }\n    };\n    Chart.prototype.onMouseDown = function (event) { };\n    Chart.prototype.onMouseUp = function (event) { };\n    Chart.prototype.onMouseOut = function (event) {\n        this.tooltip.toggle(false);\n    };\n    Chart.prototype.onClick = function (event) {\n        if (this.checkSeriesNodeClick()) {\n            return;\n        }\n        if (this.checkLegendClick(event)) {\n            return;\n        }\n        this.fireEvent({\n            type: 'click',\n            event: event\n        });\n    };\n    Chart.prototype.checkSeriesNodeClick = function () {\n        var lastPick = this.lastPick;\n        if (lastPick && lastPick.event && lastPick.node) {\n            var event_1 = lastPick.event, datum = lastPick.datum;\n            datum.series.fireNodeClickEvent(event_1, datum);\n            return true;\n        }\n        return false;\n    };\n    Chart.prototype.onSeriesNodeClick = function (event) {\n        this.fireEvent(__assign(__assign({}, event), { type: 'seriesNodeClick' }));\n    };\n    Chart.prototype.checkLegendClick = function (event) {\n        var datum = this.legend.getDatumForPoint(event.offsetX, event.offsetY);\n        if (datum) {\n            var id_1 = datum.id, itemId = datum.itemId, enabled = datum.enabled;\n            var series = find(this.series, function (series) { return series.id === id_1; });\n            if (series) {\n                series.toggleSeriesItem(itemId, !enabled);\n                if (enabled) {\n                    this.tooltip.toggle(false);\n                }\n                this.legend.fireEvent({\n                    type: 'click',\n                    event: event,\n                    itemId: itemId,\n                    enabled: !enabled\n                });\n                return true;\n            }\n        }\n        return false;\n    };\n    Chart.prototype.onSeriesDatumPick = function (meta, datum, node, event) {\n        if (this.lastPick) {\n            this.dehighlightDatum();\n        }\n        this.lastPick = {\n            datum: datum,\n            node: node,\n            event: event\n        };\n        this.highlightDatum(datum);\n        var html = datum.series.tooltip.enabled && datum.series.getTooltipHtml(datum);\n        if (html) {\n            this.tooltip.show(meta, html);\n        }\n    };\n    Chart.prototype.highlightDatum = function (datum) {\n        this.highlightedDatum = datum;\n        this.series.forEach(function (s) { return s.onHighlightChange(); });\n    };\n    Chart.prototype.dehighlightDatum = function () {\n        if (this.highlightedDatum) {\n            this.highlightedDatum = undefined;\n            this.series.forEach(function (s) { return s.onHighlightChange(); });\n        }\n    };\n    Chart.defaultTooltipClass = 'ag-chart-tooltip';\n    Chart.tooltipDocuments = [];\n    __decorate([\n        reactive('layoutChange')\n    ], Chart.prototype, \"padding\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Chart.prototype, \"title\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Chart.prototype, \"subtitle\", void 0);\n    return Chart;\n}(Observable));\nexport { Chart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Axis } from \"../axis\";\nexport var ChartAxisDirection;\n(function (ChartAxisDirection) {\n    ChartAxisDirection[\"X\"] = \"x\";\n    ChartAxisDirection[\"Y\"] = \"y\"; // means 'radius' in polar charts\n})(ChartAxisDirection || (ChartAxisDirection = {}));\nexport function flipChartAxisDirection(direction) {\n    if (direction === ChartAxisDirection.X) {\n        return ChartAxisDirection.Y;\n    }\n    else {\n        return ChartAxisDirection.X;\n    }\n}\nexport var ChartAxisPosition;\n(function (ChartAxisPosition) {\n    ChartAxisPosition[\"Top\"] = \"top\";\n    ChartAxisPosition[\"Right\"] = \"right\";\n    ChartAxisPosition[\"Bottom\"] = \"bottom\";\n    ChartAxisPosition[\"Left\"] = \"left\";\n    ChartAxisPosition[\"Angle\"] = \"angle\";\n    ChartAxisPosition[\"Radius\"] = \"radius\";\n})(ChartAxisPosition || (ChartAxisPosition = {}));\nvar ChartAxis = /** @class */ (function (_super) {\n    __extends(ChartAxis, _super);\n    function ChartAxis() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.keys = [];\n        _this.boundSeries = [];\n        return _this;\n    }\n    Object.defineProperty(ChartAxis.prototype, \"type\", {\n        get: function () {\n            return this.constructor.type || '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ChartAxis.prototype.getMeta = function () {\n        return {\n            id: this.id,\n            direction: this.direction,\n            boundSeries: this.boundSeries,\n        };\n    };\n    Object.defineProperty(ChartAxis.prototype, \"position\", {\n        get: function () {\n            return this._position;\n        },\n        set: function (value) {\n            if (this._position !== value) {\n                this._position = value;\n                switch (value) {\n                    case ChartAxisPosition.Top:\n                        this.direction = ChartAxisDirection.X;\n                        this.rotation = -90;\n                        this.label.mirrored = true;\n                        this.label.parallel = true;\n                        break;\n                    case ChartAxisPosition.Right:\n                        this.direction = ChartAxisDirection.Y;\n                        this.rotation = 0;\n                        this.label.mirrored = true;\n                        this.label.parallel = false;\n                        break;\n                    case ChartAxisPosition.Bottom:\n                        this.direction = ChartAxisDirection.X;\n                        this.rotation = -90;\n                        this.label.mirrored = false;\n                        this.label.parallel = true;\n                        break;\n                    case ChartAxisPosition.Left:\n                        this.direction = ChartAxisDirection.Y;\n                        this.rotation = 0;\n                        this.label.mirrored = false;\n                        this.label.parallel = false;\n                        break;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ChartAxis;\n}(Axis));\nexport { ChartAxis };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CartesianChart } from \"./cartesianChart\";\nimport { numericExtent } from \"../util/array\";\nimport { ChartAxisDirection } from \"./chartAxis\";\nvar GroupedCategoryChart = /** @class */ (function (_super) {\n    __extends(GroupedCategoryChart, _super);\n    function GroupedCategoryChart() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupedCategoryChart.prototype.updateAxes = function () {\n        this.axes.forEach(function (axis) {\n            var _a;\n            var direction = axis.direction, boundSeries = axis.boundSeries;\n            var domains = [];\n            var isNumericX = undefined;\n            boundSeries.filter(function (s) { return s.visible; }).forEach(function (series) {\n                if (direction === ChartAxisDirection.X) {\n                    if (isNumericX === undefined) {\n                        // always add first X domain\n                        var domain_1 = series.getDomain(direction);\n                        domains.push(domain_1);\n                        isNumericX = typeof domain_1[0] === 'number';\n                    }\n                    else if (isNumericX) {\n                        // only add further X domains if the axis is numeric\n                        domains.push(series.getDomain(direction));\n                    }\n                }\n                else {\n                    domains.push(series.getDomain(direction));\n                }\n            });\n            var domain = (_a = new Array()).concat.apply(_a, domains);\n            axis.domain = numericExtent(domain) || domain;\n            axis.update();\n        });\n    };\n    GroupedCategoryChart.className = 'GroupedCategoryChart';\n    GroupedCategoryChart.type = 'groupedCategory';\n    return GroupedCategoryChart;\n}(CartesianChart));\nexport { GroupedCategoryChart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ClipRect } from \"../main\";\nimport { BBox } from \"../scene/bbox\";\nimport { Chart } from \"./chart\";\nvar HierarchyChart = /** @class */ (function (_super) {\n    __extends(HierarchyChart, _super);\n    function HierarchyChart(document) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this, document) || this;\n        _this._data = {};\n        _this._seriesRoot = new ClipRect();\n        // Prevent the scene from rendering chart components in an invalid state\n        // (before first layout is performed).\n        _this.scene.root.visible = false;\n        var root = _this.scene.root;\n        root.append(_this.seriesRoot);\n        root.append(_this.legend.group);\n        return _this;\n    }\n    Object.defineProperty(HierarchyChart.prototype, \"seriesRoot\", {\n        get: function () {\n            return this._seriesRoot;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HierarchyChart.prototype.performLayout = function () {\n        if (this.dataPending) {\n            return;\n        }\n        this.scene.root.visible = true;\n        var _a = this, width = _a.width, height = _a.height, legend = _a.legend;\n        var shrinkRect = new BBox(0, 0, width, height);\n        this.positionCaptions();\n        this.positionLegend();\n        if (legend.enabled && legend.data.length) {\n            var legendAutoPadding = this.legendAutoPadding;\n            var legendPadding = this.legend.spacing;\n            shrinkRect.x += legendAutoPadding.left;\n            shrinkRect.y += legendAutoPadding.top;\n            shrinkRect.width -= legendAutoPadding.left + legendAutoPadding.right;\n            shrinkRect.height -= legendAutoPadding.top + legendAutoPadding.bottom;\n            switch (this.legend.position) {\n                case 'right':\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'bottom':\n                    shrinkRect.height -= legendPadding;\n                    break;\n                case 'left':\n                    shrinkRect.x += legendPadding;\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'top':\n                    shrinkRect.y += legendPadding;\n                    shrinkRect.height -= legendPadding;\n                    break;\n            }\n        }\n        var _b = this, captionAutoPadding = _b.captionAutoPadding, padding = _b.padding;\n        shrinkRect.x += padding.left;\n        shrinkRect.width -= padding.left + padding.right;\n        shrinkRect.y += padding.top + captionAutoPadding;\n        shrinkRect.height -= padding.top + captionAutoPadding + padding.bottom;\n        this.seriesRect = shrinkRect;\n        this.series.forEach(function (series) {\n            series.group.translationX = Math.floor(shrinkRect.x);\n            series.group.translationY = Math.floor(shrinkRect.y);\n            series.update(); // this has to happen after the `updateAxes` call\n        });\n        var seriesRoot = this.seriesRoot;\n        seriesRoot.x = shrinkRect.x;\n        seriesRoot.y = shrinkRect.y;\n        seriesRoot.width = shrinkRect.width;\n        seriesRoot.height = shrinkRect.height;\n    };\n    HierarchyChart.className = 'HierarchyChart';\n    HierarchyChart.type = 'hierarchy';\n    return HierarchyChart;\n}(Chart));\nexport { HierarchyChart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Observable, reactive } from \"../util/observable\";\nvar Label = /** @class */ (function (_super) {\n    __extends(Label, _super);\n    function Label() {\n        var _this = _super.call(this) || this;\n        _this.enabled = true;\n        _this.fontSize = 12;\n        _this.fontFamily = 'Verdana, sans-serif';\n        _this.color = 'rgba(70, 70, 70, 1)';\n        return _this;\n    }\n    __decorate([\n        reactive('change', 'dataChange')\n    ], Label.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"fontStyle\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"fontWeight\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"fontSize\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"fontFamily\", void 0);\n    __decorate([\n        reactive('change')\n    ], Label.prototype, \"color\", void 0);\n    return Label;\n}(Observable));\nexport { Label };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../scene/group\";\nimport { Selection } from \"../scene/selection\";\nimport { MarkerLabel } from \"./markerLabel\";\nimport { reactive, Observable } from \"../util/observable\";\nimport { getMarker } from \"./marker/util\";\nimport { createId } from \"../util/id\";\nexport var LegendOrientation;\n(function (LegendOrientation) {\n    LegendOrientation[LegendOrientation[\"Vertical\"] = 0] = \"Vertical\";\n    LegendOrientation[LegendOrientation[\"Horizontal\"] = 1] = \"Horizontal\";\n})(LegendOrientation || (LegendOrientation = {}));\nexport var LegendPosition;\n(function (LegendPosition) {\n    LegendPosition[\"Top\"] = \"top\";\n    LegendPosition[\"Right\"] = \"right\";\n    LegendPosition[\"Bottom\"] = \"bottom\";\n    LegendPosition[\"Left\"] = \"left\";\n})(LegendPosition || (LegendPosition = {}));\nvar LegendLabel = /** @class */ (function (_super) {\n    __extends(LegendLabel, _super);\n    function LegendLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.color = 'black';\n        _this.fontSize = 12;\n        _this.fontFamily = 'Verdana, sans-serif';\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], LegendLabel.prototype, \"color\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendLabel.prototype, \"fontStyle\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendLabel.prototype, \"fontWeight\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendLabel.prototype, \"fontSize\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendLabel.prototype, \"fontFamily\", void 0);\n    return LegendLabel;\n}(Observable));\nexport { LegendLabel };\nvar LegendMarker = /** @class */ (function (_super) {\n    __extends(LegendMarker, _super);\n    function LegendMarker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.size = 15;\n        /**\n         * Padding between the marker and the label within each legend item.\n         */\n        _this.padding = 8;\n        _this.strokeWidth = 1;\n        return _this;\n    }\n    __decorate([\n        reactive('layoutChange')\n    ], LegendMarker.prototype, \"size\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendMarker.prototype, \"shape\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendMarker.prototype, \"padding\", void 0);\n    __decorate([\n        reactive('change')\n    ], LegendMarker.prototype, \"strokeWidth\", void 0);\n    return LegendMarker;\n}(Observable));\nexport { LegendMarker };\nvar LegendItem = /** @class */ (function (_super) {\n    __extends(LegendItem, _super);\n    function LegendItem() {\n        var _this = _super.call(this) || this;\n        _this.marker = new LegendMarker();\n        _this.label = new LegendLabel();\n        /**\n         * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n         * and as few rows as possible when positioned to top or bottom. This config specifies the amount of horizontal\n         * padding between legend items.\n         */\n        _this.paddingX = 16;\n        /**\n         * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n         * and as few rows as possible when positioned to top or bottom. This config specifies the amount of vertical\n         * padding between legend items.\n         */\n        _this.paddingY = 8;\n        var changeListener = function () { return _this.fireEvent({ type: 'change' }); };\n        _this.marker.addEventListener('change', changeListener);\n        _this.label.addEventListener('change', changeListener);\n        var layoutChangeListener = function () { return _this.fireEvent({ type: 'layoutChange' }); };\n        _this.marker.addEventListener('layoutChange', layoutChangeListener);\n        _this.label.addEventListener('layoutChange', layoutChangeListener);\n        return _this;\n    }\n    __decorate([\n        reactive('layoutChange')\n    ], LegendItem.prototype, \"paddingX\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], LegendItem.prototype, \"paddingY\", void 0);\n    return LegendItem;\n}(Observable));\nexport { LegendItem };\nvar Legend = /** @class */ (function (_super) {\n    __extends(Legend, _super);\n    function Legend() {\n        var _this = _super.call(this) || this;\n        _this.id = createId(_this);\n        _this.group = new Group();\n        _this.itemSelection = Selection.select(_this.group).selectAll();\n        _this.oldSize = [0, 0];\n        _this.item = new LegendItem();\n        _this.data = [];\n        _this.enabled = true;\n        _this.orientation = LegendOrientation.Vertical;\n        _this.position = LegendPosition.Right;\n        /**\n         * Spacing between the legend and the edge of the chart's element.\n         */\n        _this.spacing = 20;\n        _this._size = [0, 0];\n        _this.addPropertyListener('data', _this.onDataChange);\n        _this.addPropertyListener('enabled', _this.onEnabledChange);\n        _this.addPropertyListener('position', _this.onPositionChange);\n        _this.item.marker.addPropertyListener('shape', _this.onMarkerShapeChange, _this);\n        _this.addEventListener('change', _this.update);\n        _this.item.addEventListener('change', function () { return _this.fireEvent({ type: 'change' }); });\n        _this.item.addEventListener('layoutChange', function () { return _this.fireEvent({ type: 'layoutChange' }); });\n        return _this;\n    }\n    Object.defineProperty(Legend.prototype, \"layoutHorizontalSpacing\", {\n        get: function () {\n            return this.item.paddingX;\n        },\n        /**\n         * @deprecated Please use {@link item.paddingX} instead.\n         */\n        set: function (value) {\n            this.item.paddingX = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"layoutVerticalSpacing\", {\n        get: function () {\n            return this.item.paddingY;\n        },\n        /**\n         * @deprecated Please use {@link item.paddingY} instead.\n         */\n        set: function (value) {\n            this.item.paddingY = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"itemSpacing\", {\n        get: function () {\n            return this.item.marker.padding;\n        },\n        /**\n         * @deprecated Please use {@link item.marker.padding} instead.\n         */\n        set: function (value) {\n            this.item.marker.padding = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"markerShape\", {\n        get: function () {\n            return this.item.marker.shape;\n        },\n        /**\n         * @deprecated Please use {@link item.marker.shape} instead.\n         */\n        set: function (value) {\n            this.item.marker.shape = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"markerSize\", {\n        get: function () {\n            return this.item.marker.size;\n        },\n        /**\n         * @deprecated Please use {@link item.marker.size} instead.\n         */\n        set: function (value) {\n            this.item.marker.size = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"strokeWidth\", {\n        get: function () {\n            return this.item.marker.strokeWidth;\n        },\n        /**\n         * @deprecated Please use {@link item.marker.strokeWidth} instead.\n         */\n        set: function (value) {\n            this.item.marker.strokeWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"color\", {\n        get: function () {\n            return this.item.label.color;\n        },\n        /**\n         * @deprecated Please use {@link item.label.color} instead.\n         */\n        set: function (value) {\n            this.item.label.color = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"fontStyle\", {\n        get: function () {\n            return this.item.label.fontStyle;\n        },\n        /**\n         * @deprecated Please use {@link item.label.fontStyle} instead.\n         */\n        set: function (value) {\n            this.item.label.fontStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"fontWeight\", {\n        get: function () {\n            return this.item.label.fontWeight;\n        },\n        /**\n         * @deprecated Please use {@link item.label.fontWeight} instead.\n         */\n        set: function (value) {\n            this.item.label.fontWeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"fontSize\", {\n        get: function () {\n            return this.item.label.fontSize;\n        },\n        /**\n         * @deprecated Please use {@link item.label.fontSize} instead.\n         */\n        set: function (value) {\n            this.item.label.fontSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"fontFamily\", {\n        get: function () {\n            return this.item.label.fontFamily;\n        },\n        /**\n         * @deprecated Please use {@link item.label.fontFamily} instead.\n         */\n        set: function (value) {\n            this.item.label.fontFamily = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Legend.prototype.onDataChange = function (event) {\n        this.group.visible = event.value.length > 0 && this.enabled;\n    };\n    Legend.prototype.onEnabledChange = function (event) {\n        this.group.visible = event.value && this.data.length > 0;\n    };\n    Legend.prototype.onPositionChange = function (event) {\n        switch (event.value) {\n            case 'right':\n            case 'left':\n                this.orientation = LegendOrientation.Vertical;\n                break;\n            case 'bottom':\n            case 'top':\n                this.orientation = LegendOrientation.Horizontal;\n                break;\n        }\n    };\n    Legend.prototype.onMarkerShapeChange = function () {\n        this.itemSelection = this.itemSelection.setData([]);\n        this.itemSelection.exit.remove();\n    };\n    /**\n     * The method is given the desired size of the legend, which only serves as a hint.\n     * The vertically oriented legend will take as much horizontal space as needed, but will\n     * respect the height constraints, and the horizontal legend will take as much vertical\n     * space as needed in an attempt not to exceed the given width.\n     * After the layout is done, the {@link size} will contain the actual size of the legend.\n     * If the actual size is not the same as the previous actual size, the legend will fire\n     * the 'layoutChange' event to communicate that another layout is needed, and the above\n     * process should be repeated.\n     * @param width\n     * @param height\n     */\n    Legend.prototype.performLayout = function (width, height) {\n        var item = this.item;\n        var marker = item.marker, paddingX = item.paddingX, paddingY = item.paddingY;\n        var updateSelection = this.itemSelection.setData(this.data, function (_, datum) {\n            var MarkerShape = getMarker(marker.shape || datum.marker.shape);\n            return datum.id + '-' + datum.itemId + '-' + MarkerShape.name;\n        });\n        updateSelection.exit.remove();\n        var enterSelection = updateSelection.enter.append(MarkerLabel).each(function (node, datum) {\n            var MarkerShape = getMarker(marker.shape || datum.marker.shape);\n            node.marker = new MarkerShape();\n        });\n        var itemSelection = this.itemSelection = updateSelection.merge(enterSelection);\n        var itemCount = itemSelection.size;\n        // Update properties that affect the size of the legend items and measure them.\n        var bboxes = [];\n        var itemMarker = this.item.marker;\n        var itemLabel = this.item.label;\n        itemSelection.each(function (markerLabel, datum) {\n            // TODO: measure only when one of these properties or data change (in a separate routine)\n            markerLabel.markerSize = itemMarker.size;\n            markerLabel.spacing = itemMarker.padding;\n            markerLabel.fontStyle = itemLabel.fontStyle;\n            markerLabel.fontWeight = itemLabel.fontWeight;\n            markerLabel.fontSize = itemLabel.fontSize;\n            markerLabel.fontFamily = itemLabel.fontFamily;\n            markerLabel.text = datum.label.text;\n            bboxes.push(markerLabel.computeBBox());\n        });\n        var itemHeight = bboxes.length && bboxes[0].height;\n        var rowCount = 0;\n        var columnWidth = 0;\n        var paddedItemsWidth = 0;\n        var paddedItemsHeight = 0;\n        switch (this.orientation) {\n            case LegendOrientation.Horizontal:\n                if (!(isFinite(width) && width > 0)) {\n                    return false;\n                }\n                rowCount = 0;\n                var columnCount = 0;\n                // Split legend items into columns until the width is suitable.\n                do {\n                    var itemsWidth = 0;\n                    columnCount = 0;\n                    columnWidth = 0;\n                    rowCount++;\n                    var i = 0;\n                    while (i < itemCount) {\n                        var bbox = bboxes[i];\n                        if (bbox.width > columnWidth) {\n                            columnWidth = bbox.width;\n                        }\n                        i++;\n                        if (i % rowCount === 0) {\n                            itemsWidth += columnWidth;\n                            columnWidth = 0;\n                            columnCount++;\n                        }\n                    }\n                    if (i % rowCount !== 0) {\n                        itemsWidth += columnWidth;\n                        columnCount++;\n                    }\n                    paddedItemsWidth = itemsWidth + (columnCount - 1) * paddingX;\n                } while (paddedItemsWidth > width && columnCount > 1);\n                paddedItemsHeight = itemHeight * rowCount + (rowCount - 1) * paddingY;\n                break;\n            case LegendOrientation.Vertical:\n                if (!(isFinite(height) && height > 0)) {\n                    return false;\n                }\n                rowCount = itemCount * 2;\n                // Split legend items into columns until the height is suitable.\n                do {\n                    rowCount = (rowCount >> 1) + (rowCount % 2);\n                    columnWidth = 0;\n                    var itemsWidth = 0;\n                    var itemsHeight = 0;\n                    var columnCount_1 = 0;\n                    var i = 0;\n                    while (i < itemCount) {\n                        var bbox = bboxes[i];\n                        if (!columnCount_1) {\n                            itemsHeight += bbox.height;\n                        }\n                        if (bbox.width > columnWidth) {\n                            columnWidth = bbox.width;\n                        }\n                        i++;\n                        if (i % rowCount === 0) {\n                            itemsWidth += columnWidth;\n                            columnWidth = 0;\n                            columnCount_1++;\n                        }\n                    }\n                    if (i % rowCount !== 0) {\n                        itemsWidth += columnWidth;\n                        columnCount_1++;\n                    }\n                    paddedItemsWidth = itemsWidth + (columnCount_1 - 1) * paddingX;\n                    paddedItemsHeight = itemsHeight + (rowCount - 1) * paddingY;\n                } while (paddedItemsHeight > height && rowCount > 1);\n                break;\n        }\n        // Top-left corner of the first legend item.\n        var startX = (width - paddedItemsWidth) / 2;\n        var startY = (height - paddedItemsHeight) / 2;\n        var x = 0;\n        var y = 0;\n        columnWidth = 0;\n        // Position legend items using the layout computed above.\n        itemSelection.each(function (markerLabel, datum, i) {\n            // Round off for pixel grid alignment to work properly.\n            markerLabel.translationX = Math.floor(startX + x);\n            markerLabel.translationY = Math.floor(startY + y);\n            var bbox = bboxes[i];\n            if (bbox.width > columnWidth) {\n                columnWidth = bbox.width;\n            }\n            if ((i + 1) % rowCount === 0) {\n                x += columnWidth + paddingX;\n                y = 0;\n                columnWidth = 0;\n            }\n            else {\n                y += bbox.height + paddingY;\n            }\n        });\n        // Update legend item properties that don't affect the layout.\n        this.update();\n        var size = this._size;\n        var oldSize = this.oldSize;\n        size[0] = paddedItemsWidth;\n        size[1] = paddedItemsHeight;\n        if (size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n            oldSize[0] = size[0];\n            oldSize[1] = size[1];\n        }\n    };\n    Legend.prototype.update = function () {\n        var _this = this;\n        this.itemSelection.each(function (markerLabel, datum) {\n            var marker = datum.marker;\n            markerLabel.markerFill = marker.fill;\n            markerLabel.markerStroke = marker.stroke;\n            markerLabel.markerStrokeWidth = _this.item.marker.strokeWidth;\n            markerLabel.markerFillOpacity = marker.fillOpacity;\n            markerLabel.markerStrokeOpacity = marker.strokeOpacity;\n            markerLabel.opacity = datum.enabled ? 1 : 0.5;\n            markerLabel.color = _this.item.label.color;\n        });\n    };\n    Legend.prototype.getDatumForPoint = function (x, y) {\n        var node = this.group.pickNode(x, y);\n        if (node && node.parent) {\n            return node.parent.datum;\n        }\n    };\n    Legend.className = 'Legend';\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"data\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"orientation\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"position\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Legend.prototype, \"spacing\", void 0);\n    return Legend;\n}(Observable));\nexport { Legend };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y, path = _a.path, size = _a.size;\n        var r = size / 2;\n        path.clear();\n        path.cubicArc(x, y, r, r, 0, 0, Math.PI * 2, 0);\n        path.closePath();\n    };\n    Circle.className = 'Circle';\n    return Circle;\n}(Marker));\nexport { Circle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Cross = /** @class */ (function (_super) {\n    __extends(Cross, _super);\n    function Cross() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Cross.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y;\n        var _b = this, path = _b.path, size = _b.size;\n        var s = size / 4.2;\n        path.clear();\n        path.moveTo(x -= s, y);\n        path.lineTo(x -= s, y -= s);\n        path.lineTo(x += s, y -= s);\n        path.lineTo(x += s, y += s);\n        path.lineTo(x += s, y -= s);\n        path.lineTo(x += s, y += s);\n        path.lineTo(x -= s, y += s);\n        path.lineTo(x += s, y += s);\n        path.lineTo(x -= s, y += s);\n        path.lineTo(x -= s, y -= s);\n        path.lineTo(x -= s, y += s);\n        path.lineTo(x -= s, y -= s);\n        path.closePath();\n    };\n    Cross.className = 'Cross';\n    return Cross;\n}(Marker));\nexport { Cross };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Diamond = /** @class */ (function (_super) {\n    __extends(Diamond, _super);\n    function Diamond() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Diamond.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y;\n        var _b = this, path = _b.path, size = _b.size;\n        var s = size / 2;\n        path.clear();\n        path.moveTo(x, y -= s);\n        path.lineTo(x += s, y += s);\n        path.lineTo(x -= s, y += s);\n        path.lineTo(x -= s, y -= s);\n        path.lineTo(x += s, y -= s);\n        path.closePath();\n    };\n    Diamond.className = 'Diamond';\n    return Diamond;\n}(Marker));\nexport { Diamond };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Heart = /** @class */ (function (_super) {\n    __extends(Heart, _super);\n    function Heart() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Heart.prototype.rad = function (degree) {\n        return degree / 180 * Math.PI;\n    };\n    Heart.prototype.updatePath = function () {\n        var _a = this, x = _a.x, path = _a.path, size = _a.size, rad = _a.rad;\n        var r = size / 4;\n        var y = this.y + r / 2;\n        path.clear();\n        path.cubicArc(x - r, y - r, r, r, 0, rad(130), rad(330), 0);\n        path.cubicArc(x + r, y - r, r, r, 0, rad(220), rad(50), 0);\n        path.lineTo(x, y + r);\n        path.closePath();\n    };\n    Heart.className = 'Heart';\n    return Heart;\n}(Marker));\nexport { Heart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Path } from \"../../scene/shape/path\";\nimport { BBox } from \"../../scene/bbox\";\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    function Marker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._x = 0;\n        _this._y = 0;\n        _this._size = 12;\n        return _this;\n    }\n    Object.defineProperty(Marker.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Marker.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Marker.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        set: function (value) {\n            if (this._size !== value) {\n                this._size = Math.abs(value);\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Marker.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, size = _a.size;\n        var half = size / 2;\n        return new BBox(x - half, y - half, size, size);\n    };\n    return Marker;\n}(Path));\nexport { Marker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Plus = /** @class */ (function (_super) {\n    __extends(Plus, _super);\n    function Plus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Plus.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y;\n        var _b = this, path = _b.path, size = _b.size;\n        var s = size / 3;\n        var hs = s / 2;\n        path.clear();\n        path.moveTo(x -= hs, y -= hs);\n        path.lineTo(x, y -= s);\n        path.lineTo(x += s, y);\n        path.lineTo(x, y += s);\n        path.lineTo(x += s, y);\n        path.lineTo(x, y += s);\n        path.lineTo(x -= s, y);\n        path.lineTo(x, y += s);\n        path.lineTo(x -= s, y);\n        path.lineTo(x, y -= s);\n        path.lineTo(x -= s, y);\n        path.lineTo(x, y -= s);\n        path.closePath();\n    };\n    Plus.className = 'Plus';\n    return Plus;\n}(Marker));\nexport { Plus };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Square = /** @class */ (function (_super) {\n    __extends(Square, _super);\n    function Square() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Square.prototype.updatePath = function () {\n        var _a = this, path = _a.path, x = _a.x, y = _a.y;\n        var hs = this.size / 2;\n        var _b = this, a = _b.alignment, al = _b.align;\n        path.clear();\n        path.moveTo(al(a, x - hs), al(a, y - hs));\n        path.lineTo(al(a, x + hs), al(a, y - hs));\n        path.lineTo(al(a, x + hs), al(a, y + hs));\n        path.lineTo(al(a, x - hs), al(a, y + hs));\n        path.closePath();\n    };\n    Square.className = 'Square';\n    return Square;\n}(Marker));\nexport { Square };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from \"./marker\";\nvar Triangle = /** @class */ (function (_super) {\n    __extends(Triangle, _super);\n    function Triangle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Triangle.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y;\n        var _b = this, path = _b.path, size = _b.size;\n        var s = size * 1.1;\n        path.clear();\n        path.moveTo(x, y -= s * 0.48);\n        path.lineTo(x += s * 0.5, y += s * 0.87);\n        path.lineTo(x -= s, y);\n        path.closePath();\n    };\n    Triangle.className = 'Triangle';\n    return Triangle;\n}(Marker));\nexport { Triangle };\n","import { Square } from \"./square\";\nimport { Circle } from \"./circle\";\nimport { Cross } from \"./cross\";\nimport { Diamond } from \"./diamond\";\nimport { Heart } from \"./heart\";\nimport { Plus } from \"./plus\";\nimport { Triangle } from \"./triangle\";\n// This function is in its own file because putting it into SeriesMarker makes the Legend\n// suddenly aware of the series (it's an agnostic component), and putting it into Marker\n// introduces circular dependencies.\nexport function getMarker(shape) {\n    if (shape === void 0) { shape = Square; }\n    if (typeof shape === 'string') {\n        switch (shape) {\n            case 'circle':\n                return Circle;\n            case 'cross':\n                return Cross;\n            case 'diamond':\n                return Diamond;\n            case 'heart':\n                return Heart;\n            case 'plus':\n                return Plus;\n            case 'triangle':\n                return Triangle;\n            default:\n                return Square;\n        }\n    }\n    if (typeof shape === 'function') {\n        return shape;\n    }\n    return Square;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Group } from \"../scene/group\";\nimport { Text } from \"../scene/shape/text\";\nimport { Square } from \"./marker/square\";\nimport { HdpiCanvas } from \"../canvas/hdpiCanvas\";\nvar MarkerLabel = /** @class */ (function (_super) {\n    __extends(MarkerLabel, _super);\n    function MarkerLabel() {\n        var _this = _super.call(this) || this;\n        _this.label = new Text();\n        _this._marker = new Square();\n        _this._markerSize = 15;\n        _this._spacing = 8;\n        var label = _this.label;\n        label.textBaseline = 'middle';\n        label.fontSize = 12;\n        label.fontFamily = 'Verdana, sans-serif';\n        label.fill = 'black';\n        // For better looking vertical alignment of labels to markers.\n        label.y = HdpiCanvas.has.textMetrics ? 1 : 0;\n        _this.append([_this.marker, label]);\n        _this.update();\n        return _this;\n    }\n    Object.defineProperty(MarkerLabel.prototype, \"text\", {\n        get: function () {\n            return this.label.text;\n        },\n        set: function (value) {\n            this.label.text = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"fontStyle\", {\n        get: function () {\n            return this.label.fontStyle;\n        },\n        set: function (value) {\n            this.label.fontStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"fontWeight\", {\n        get: function () {\n            return this.label.fontWeight;\n        },\n        set: function (value) {\n            this.label.fontWeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"fontSize\", {\n        get: function () {\n            return this.label.fontSize;\n        },\n        set: function (value) {\n            this.label.fontSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"fontFamily\", {\n        get: function () {\n            return this.label.fontFamily;\n        },\n        set: function (value) {\n            this.label.fontFamily = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"color\", {\n        get: function () {\n            return this.label.fill;\n        },\n        set: function (value) {\n            this.label.fill = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"marker\", {\n        get: function () {\n            return this._marker;\n        },\n        set: function (value) {\n            if (this._marker !== value) {\n                this.removeChild(this._marker);\n                this._marker = value;\n                this.appendChild(value);\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerSize\", {\n        get: function () {\n            return this._markerSize;\n        },\n        set: function (value) {\n            if (this._markerSize !== value) {\n                this._markerSize = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerFill\", {\n        get: function () {\n            return this.marker.fill;\n        },\n        set: function (value) {\n            this.marker.fill = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerStroke\", {\n        get: function () {\n            return this.marker.stroke;\n        },\n        set: function (value) {\n            this.marker.stroke = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerStrokeWidth\", {\n        get: function () {\n            return this.marker.strokeWidth;\n        },\n        set: function (value) {\n            this.marker.strokeWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerFillOpacity\", {\n        get: function () {\n            return this.marker.fillOpacity;\n        },\n        set: function (value) {\n            this.marker.fillOpacity = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerStrokeOpacity\", {\n        get: function () {\n            return this.marker.strokeOpacity;\n        },\n        set: function (value) {\n            this.marker.strokeOpacity = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"opacity\", {\n        get: function () {\n            return this.marker.opacity;\n        },\n        set: function (value) {\n            this.marker.opacity = value;\n            this.label.opacity = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"spacing\", {\n        get: function () {\n            return this._spacing;\n        },\n        set: function (value) {\n            if (this._spacing !== value) {\n                this._spacing = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MarkerLabel.prototype.update = function () {\n        var marker = this.marker;\n        var markerSize = this.markerSize;\n        marker.size = markerSize;\n        this.label.x = markerSize / 2 + this.spacing;\n    };\n    MarkerLabel.className = 'MarkerLabel';\n    return MarkerLabel;\n}(Group));\nexport { MarkerLabel };\n","import { RangeSelector } from \"../shapes/rangeSelector\";\nimport { ChartAxisDirection } from \"../chartAxis\";\nimport { BBox } from \"../../scene/bbox\";\nimport { NavigatorMask } from \"./navigatorMask\";\nimport { NavigatorHandle } from \"./navigatorHandle\";\nvar Navigator = /** @class */ (function () {\n    function Navigator(chart) {\n        var _this = this;\n        this.rs = new RangeSelector();\n        this.mask = new NavigatorMask(this.rs.mask);\n        this.minHandle = new NavigatorHandle(this.rs.minHandle);\n        this.maxHandle = new NavigatorHandle(this.rs.maxHandle);\n        this.minHandleDragging = false;\n        this.maxHandleDragging = false;\n        this.panHandleOffset = NaN;\n        this._margin = 10;\n        this.chart = chart;\n        chart.scene.root.append(this.rs);\n        this.rs.onRangeChange = function (min, max) { return _this.updateAxes(min, max); };\n    }\n    Object.defineProperty(Navigator.prototype, \"enabled\", {\n        get: function () {\n            return this.rs.visible;\n        },\n        set: function (value) {\n            this.rs.visible = value;\n            this.chart.layoutPending = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"x\", {\n        get: function () {\n            return this.rs.x;\n        },\n        set: function (value) {\n            this.rs.x = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"y\", {\n        get: function () {\n            return this.rs.y;\n        },\n        set: function (value) {\n            this.rs.y = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"width\", {\n        get: function () {\n            return this.rs.width;\n        },\n        set: function (value) {\n            this.rs.width = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"height\", {\n        get: function () {\n            return this.rs.height;\n        },\n        set: function (value) {\n            this.rs.height = value;\n            this.chart.layoutPending = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"margin\", {\n        get: function () {\n            return this._margin;\n        },\n        set: function (value) {\n            this._margin = value;\n            this.chart.layoutPending = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"min\", {\n        get: function () {\n            return this.rs.min;\n        },\n        set: function (value) {\n            this.rs.min = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"max\", {\n        get: function () {\n            return this.rs.max;\n        },\n        set: function (value) {\n            this.rs.max = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Navigator.prototype.updateAxes = function (min, max) {\n        var chart = this.chart;\n        var clipSeries = false;\n        chart.axes.forEach(function (axis) {\n            if (axis.direction === ChartAxisDirection.X) {\n                if (!clipSeries && (min > 0 || max < 1)) {\n                    clipSeries = true;\n                }\n                axis.visibleRange = [min, max];\n                axis.update();\n            }\n        });\n        chart.seriesRoot.enabled = clipSeries;\n        chart.series.forEach(function (series) { return series.update(); });\n    };\n    Navigator.prototype.onDragStart = function (offset) {\n        if (!this.enabled) {\n            return;\n        }\n        var offsetX = offset.offsetX, offsetY = offset.offsetY;\n        var rs = this.rs;\n        var minHandle = rs.minHandle, maxHandle = rs.maxHandle, x = rs.x, width = rs.width, min = rs.min;\n        var visibleRange = rs.computeVisibleRangeBBox();\n        if (!(this.minHandleDragging || this.maxHandleDragging)) {\n            if (minHandle.containsPoint(offsetX, offsetY)) {\n                this.minHandleDragging = true;\n            }\n            else if (maxHandle.containsPoint(offsetX, offsetY)) {\n                this.maxHandleDragging = true;\n            }\n            else if (visibleRange.containsPoint(offsetX, offsetY)) {\n                this.panHandleOffset = (offsetX - x) / width - min;\n            }\n        }\n    };\n    Navigator.prototype.onDrag = function (offset) {\n        if (!this.enabled) {\n            return;\n        }\n        var _a = this, rs = _a.rs, panHandleOffset = _a.panHandleOffset;\n        var x = rs.x, y = rs.y, width = rs.width, height = rs.height, minHandle = rs.minHandle, maxHandle = rs.maxHandle;\n        var style = this.chart.element.style;\n        var offsetX = offset.offsetX, offsetY = offset.offsetY;\n        var minX = x + width * rs.min;\n        var maxX = x + width * rs.max;\n        var visibleRange = new BBox(minX, y, maxX - minX, height);\n        function getRatio() {\n            return Math.min(Math.max((offsetX - x) / width, 0), 1);\n        }\n        if (minHandle.containsPoint(offsetX, offsetY)) {\n            style.cursor = 'ew-resize';\n        }\n        else if (maxHandle.containsPoint(offsetX, offsetY)) {\n            style.cursor = 'ew-resize';\n        }\n        else if (visibleRange.containsPoint(offsetX, offsetY)) {\n            style.cursor = 'grab';\n        }\n        else {\n            style.cursor = 'default';\n        }\n        if (this.minHandleDragging) {\n            rs.min = getRatio();\n        }\n        else if (this.maxHandleDragging) {\n            rs.max = getRatio();\n        }\n        else if (!isNaN(panHandleOffset)) {\n            var span = rs.max - rs.min;\n            var min = Math.min(getRatio() - panHandleOffset, 1 - span);\n            if (min <= rs.min) { // pan left\n                rs.min = min;\n                rs.max = rs.min + span;\n            }\n            else { // pan right\n                rs.max = min + span;\n                rs.min = rs.max - span;\n            }\n        }\n    };\n    Navigator.prototype.onDragStop = function () {\n        this.stopHandleDragging();\n    };\n    Navigator.prototype.stopHandleDragging = function () {\n        this.minHandleDragging = this.maxHandleDragging = false;\n        this.panHandleOffset = NaN;\n    };\n    return Navigator;\n}());\nexport { Navigator };\n","var NavigatorHandle = /** @class */ (function () {\n    function NavigatorHandle(rangeHandle) {\n        this.rh = rangeHandle;\n    }\n    Object.defineProperty(NavigatorHandle.prototype, \"fill\", {\n        get: function () {\n            return this.rh.fill;\n        },\n        set: function (value) {\n            this.rh.fill = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"stroke\", {\n        get: function () {\n            return this.rh.stroke;\n        },\n        set: function (value) {\n            this.rh.stroke = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"strokeWidth\", {\n        get: function () {\n            return this.rh.strokeWidth;\n        },\n        set: function (value) {\n            this.rh.strokeWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"width\", {\n        get: function () {\n            return this.rh.width;\n        },\n        set: function (value) {\n            this.rh.width = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"height\", {\n        get: function () {\n            return this.rh.height;\n        },\n        set: function (value) {\n            this.rh.height = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"gripLineGap\", {\n        get: function () {\n            return this.rh.gripLineGap;\n        },\n        set: function (value) {\n            this.rh.gripLineGap = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"gripLineLength\", {\n        get: function () {\n            return this.rh.gripLineLength;\n        },\n        set: function (value) {\n            this.rh.gripLineLength = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return NavigatorHandle;\n}());\nexport { NavigatorHandle };\n","var NavigatorMask = /** @class */ (function () {\n    function NavigatorMask(rangeMask) {\n        this.rm = rangeMask;\n    }\n    Object.defineProperty(NavigatorMask.prototype, \"fill\", {\n        get: function () {\n            return this.rm.fill;\n        },\n        set: function (value) {\n            this.rm.fill = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorMask.prototype, \"stroke\", {\n        get: function () {\n            return this.rm.stroke;\n        },\n        set: function (value) {\n            this.rm.stroke = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorMask.prototype, \"strokeWidth\", {\n        get: function () {\n            return this.rm.strokeWidth;\n        },\n        set: function (value) {\n            this.rm.strokeWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorMask.prototype, \"fillOpacity\", {\n        get: function () {\n            return this.rm.fillOpacity;\n        },\n        set: function (value) {\n            this.rm.fillOpacity = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return NavigatorMask;\n}());\nexport { NavigatorMask };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Chart } from \"./chart\";\nimport { PolarSeries } from \"./series/polar/polarSeries\";\nimport { reactive } from \"../util/observable\";\nimport { Padding } from \"../util/padding\";\nimport { BBox } from \"../scene/bbox\";\nvar PolarChart = /** @class */ (function (_super) {\n    __extends(PolarChart, _super);\n    function PolarChart(document) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this, document) || this;\n        _this.padding = new Padding(40);\n        _this.scene.root.append(_this.legend.group);\n        return _this;\n    }\n    Object.defineProperty(PolarChart.prototype, \"seriesRoot\", {\n        get: function () {\n            return this.scene.root;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PolarChart.prototype.performLayout = function () {\n        var shrinkRect = new BBox(0, 0, this.width, this.height);\n        this.positionCaptions();\n        this.positionLegend();\n        var captionAutoPadding = this.captionAutoPadding;\n        shrinkRect.y += captionAutoPadding;\n        shrinkRect.height -= captionAutoPadding;\n        if (this.legend.enabled && this.legend.data.length) {\n            var legendAutoPadding = this.legendAutoPadding;\n            shrinkRect.x += legendAutoPadding.left;\n            shrinkRect.y += legendAutoPadding.top;\n            shrinkRect.width -= legendAutoPadding.left + legendAutoPadding.right;\n            shrinkRect.height -= legendAutoPadding.top + legendAutoPadding.bottom;\n            var legendPadding = this.legend.spacing;\n            switch (this.legend.position) {\n                case 'right':\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'bottom':\n                    shrinkRect.height -= legendPadding;\n                    break;\n                case 'left':\n                    shrinkRect.x += legendPadding;\n                    shrinkRect.width -= legendPadding;\n                    break;\n                case 'top':\n                    shrinkRect.y += legendPadding;\n                    shrinkRect.height -= legendPadding;\n                    break;\n            }\n        }\n        var padding = this.padding;\n        shrinkRect.x += padding.left;\n        shrinkRect.y += padding.top;\n        shrinkRect.width -= padding.left + padding.right;\n        shrinkRect.height -= padding.top + padding.bottom;\n        this.seriesRect = shrinkRect;\n        var centerX = shrinkRect.x + shrinkRect.width / 2;\n        var centerY = shrinkRect.y + shrinkRect.height / 2;\n        var radius = Math.min(shrinkRect.width, shrinkRect.height) / 2;\n        this.series.forEach(function (series) {\n            if (series instanceof PolarSeries) {\n                series.centerX = centerX;\n                series.centerY = centerY;\n                series.radius = radius;\n                series.update();\n            }\n        });\n    };\n    PolarChart.className = 'PolarChart';\n    PolarChart.type = 'polar';\n    __decorate([\n        reactive('layoutChange')\n    ], PolarChart.prototype, \"padding\", void 0);\n    return PolarChart;\n}(Chart));\nexport { PolarChart };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Selection } from \"../../../scene/selection\";\nimport { SeriesTooltip } from \"../series\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { Path } from \"../../../scene/shape/path\";\nimport { CartesianSeries, CartesianSeriesMarker } from \"./cartesianSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { getMarker } from \"../../marker/util\";\nimport { toTooltipHtml } from \"../../chart\";\nimport { findMinMax } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { equal } from \"../../../util/equal\";\nimport { reactive } from \"../../../util/observable\";\nimport { interpolate } from \"../../../util/string\";\nvar AreaSeriesTooltip = /** @class */ (function (_super) {\n    __extends(AreaSeriesTooltip, _super);\n    function AreaSeriesTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], AreaSeriesTooltip.prototype, \"renderer\", void 0);\n    __decorate([\n        reactive('change')\n    ], AreaSeriesTooltip.prototype, \"format\", void 0);\n    return AreaSeriesTooltip;\n}(SeriesTooltip));\nexport { AreaSeriesTooltip };\nvar AreaSeries = /** @class */ (function (_super) {\n    __extends(AreaSeries, _super);\n    function AreaSeries() {\n        var _this = _super.call(this) || this;\n        _this.tooltip = new AreaSeriesTooltip();\n        _this.areaGroup = _this.group.appendChild(new Group);\n        _this.strokeGroup = _this.group.appendChild(new Group);\n        _this.markerGroup = _this.group.appendChild(new Group);\n        _this.areaSelection = Selection.select(_this.areaGroup).selectAll();\n        _this.strokeSelection = Selection.select(_this.strokeGroup).selectAll();\n        _this.markerSelection = Selection.select(_this.markerGroup).selectAll();\n        _this.markerSelectionData = [];\n        /**\n         * The assumption is that the values will be reset (to `true`)\n         * in the {@link yKeys} setter.\n         */\n        _this.seriesItemEnabled = new Map();\n        _this.xData = [];\n        _this.yData = [];\n        _this.yDomain = [];\n        _this.directionKeys = {\n            x: ['xKey'],\n            y: ['yKeys']\n        };\n        _this.marker = new CartesianSeriesMarker();\n        _this.fills = [\n            '#c16068',\n            '#a2bf8a',\n            '#ebcc87',\n            '#80a0c3',\n            '#b58dae',\n            '#85c0d1'\n        ];\n        _this.strokes = [\n            '#874349',\n            '#718661',\n            '#a48f5f',\n            '#5a7088',\n            '#7f637a',\n            '#5d8692'\n        ];\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this.lineDash = undefined;\n        _this.lineDashOffset = 0;\n        _this._xKey = '';\n        _this.xName = '';\n        _this._yKeys = [];\n        _this.yNames = [];\n        _this.strokeWidth = 2;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.addEventListener('update', _this.update);\n        _this.marker.enabled = false;\n        _this.marker.addPropertyListener('shape', _this.onMarkerShapeChange, _this);\n        _this.marker.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    AreaSeries.prototype.onMarkerShapeChange = function () {\n        this.markerSelection = this.markerSelection.setData([]);\n        this.markerSelection.exit.remove();\n        this.update();\n        this.fireEvent({ type: 'legendChange' });\n    };\n    Object.defineProperty(AreaSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            if (this._xKey !== value) {\n                this._xKey = value;\n                this.xData = [];\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AreaSeries.prototype, \"yKeys\", {\n        get: function () {\n            return this._yKeys;\n        },\n        set: function (values) {\n            if (!equal(this._yKeys, values)) {\n                this._yKeys = values;\n                this.yData = [];\n                var seriesItemEnabled_1 = this.seriesItemEnabled;\n                seriesItemEnabled_1.clear();\n                values.forEach(function (key) { return seriesItemEnabled_1.set(key, true); });\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AreaSeries.prototype.setColors = function (fills, strokes) {\n        this.fills = fills;\n        this.strokes = strokes;\n    };\n    Object.defineProperty(AreaSeries.prototype, \"normalizedTo\", {\n        get: function () {\n            return this._normalizedTo;\n        },\n        set: function (value) {\n            var absValue = value ? Math.abs(value) : undefined;\n            if (this._normalizedTo !== absValue) {\n                this._normalizedTo = absValue;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AreaSeries.prototype.onHighlightChange = function () {\n        this.updateMarkerNodes();\n    };\n    AreaSeries.prototype.processData = function () {\n        var _a = this, xKey = _a.xKey, yKeys = _a.yKeys, seriesItemEnabled = _a.seriesItemEnabled;\n        var data = xKey && yKeys.length && this.data ? this.data : [];\n        // if (!(chart && chart.xAxis && chart.yAxis)) {\n        //     return false;\n        // }\n        // If the data is an array of rows like so:\n        //\n        // [{\n        //   xKy: 'Jan',\n        //   yKey1: 5,\n        //   yKey2: 7,\n        //   yKey3: -9,\n        // }, {\n        //   xKey: 'Feb',\n        //   yKey1: 10,\n        //   yKey2: -15,\n        //   yKey3: 20\n        // }]\n        //\n        var keysFound = true; // only warn once\n        this.xData = data.map(function (datum) {\n            if (keysFound && !(xKey in datum)) {\n                keysFound = false;\n                console.warn(\"The key '\" + xKey + \"' was not found in the data: \", datum);\n            }\n            return datum[xKey];\n        });\n        this.yData = data.map(function (datum) { return yKeys.map(function (yKey) {\n            if (keysFound && !(yKey in datum)) {\n                keysFound = false;\n                console.warn(\"The key '\" + yKey + \"' was not found in the data: \", datum);\n            }\n            var value = datum[yKey];\n            return isFinite(value) && seriesItemEnabled.get(yKey) ? value : 0;\n        }); });\n        // xData: ['Jan', 'Feb']\n        //\n        // yData: [\n        //   [5, 7, -9],\n        //   [10, -15, 20]\n        // ]\n        var _b = this, yData = _b.yData, normalizedTo = _b.normalizedTo;\n        var yMinMax = yData.map(function (values) { return findMinMax(values); }); // used for normalization\n        var yLargestMinMax = this.findLargestMinMax(yMinMax);\n        var yMin;\n        var yMax;\n        if (normalizedTo && isFinite(normalizedTo)) {\n            yMin = yLargestMinMax.min < 0 ? -normalizedTo : 0;\n            yMax = normalizedTo;\n            yData.forEach(function (stack, i) { return stack.forEach(function (y, j) {\n                if (y < 0) {\n                    stack[j] = -y / yMinMax[i].min * normalizedTo;\n                }\n                else {\n                    stack[j] = y / yMinMax[i].max * normalizedTo;\n                }\n            }); });\n        }\n        else {\n            yMin = yLargestMinMax.min;\n            yMax = yLargestMinMax.max;\n        }\n        if (yMin === 0 && yMax === 0) {\n            yMax = 1;\n        }\n        this.yDomain = this.fixNumericExtent([yMin, yMax], 'y');\n        this.fireEvent({ type: 'dataProcessed' });\n        return true;\n    };\n    AreaSeries.prototype.findLargestMinMax = function (totals) {\n        var min = 0;\n        var max = 0;\n        for (var _i = 0, totals_1 = totals; _i < totals_1.length; _i++) {\n            var total = totals_1[_i];\n            if (total.min < min) {\n                min = total.min;\n            }\n            if (total.max > max) {\n                max = total.max;\n            }\n        }\n        return { min: min, max: max };\n    };\n    AreaSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xData;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    AreaSeries.prototype.update = function () {\n        var _a = this, visible = _a.visible, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis, xData = _a.xData, yData = _a.yData;\n        this.group.visible = visible && !!(xData.length && yData.length);\n        if (!xAxis || !yAxis || !visible || !chart || chart.layoutPending || chart.dataPending || !xData.length || !yData.length) {\n            return;\n        }\n        var selectionData = this.generateSelectionData();\n        if (!selectionData) {\n            return;\n        }\n        var areaSelectionData = selectionData.areaSelectionData, markerSelectionData = selectionData.markerSelectionData;\n        this.updateAreaSelection(areaSelectionData);\n        this.updateStrokeSelection(areaSelectionData);\n        this.updateMarkerSelection(markerSelectionData);\n        this.updateMarkerNodes();\n        this.markerSelectionData = markerSelectionData;\n    };\n    AreaSeries.prototype.generateSelectionData = function () {\n        var _this = this;\n        if (!this.data) {\n            return;\n        }\n        var _a = this, yKeys = _a.yKeys, data = _a.data, xData = _a.xData, yData = _a.yData, marker = _a.marker, fills = _a.fills, strokes = _a.strokes, xScale = _a.xAxis.scale, yScale = _a.yAxis.scale;\n        var xOffset = (xScale.bandwidth || 0) / 2;\n        var yOffset = (yScale.bandwidth || 0) / 2;\n        var areaSelectionData = [];\n        var markerSelectionData = [];\n        var last = xData.length * 2 - 1;\n        xData.forEach(function (xDatum, i) {\n            var yDatum = yData[i];\n            var seriesDatum = data[i];\n            var x = xScale.convert(xDatum) + xOffset;\n            var prevMin = 0;\n            var prevMax = 0;\n            yDatum.forEach(function (curr, j) {\n                var prev = curr < 0 ? prevMin : prevMax;\n                var y = yScale.convert(prev + curr) + yOffset;\n                var yKey = yKeys[j];\n                var yValue = seriesDatum[yKey];\n                if (marker) {\n                    markerSelectionData.push({\n                        series: _this,\n                        seriesDatum: seriesDatum,\n                        yValue: yValue,\n                        yKey: yKey,\n                        point: { x: x, y: y },\n                        fill: fills[j % fills.length],\n                        stroke: strokes[j % strokes.length]\n                    });\n                }\n                var areaDatum = areaSelectionData[j] || (areaSelectionData[j] = { yKey: yKey, points: [] });\n                var areaPoints = areaDatum.points;\n                areaPoints[i] = { x: x, y: y };\n                areaPoints[last - i] = { x: x, y: yScale.convert(prev) + yOffset }; // bottom y\n                if (curr < 0) {\n                    prevMin += curr;\n                }\n                else {\n                    prevMax += curr;\n                }\n            });\n        });\n        return { areaSelectionData: areaSelectionData, markerSelectionData: markerSelectionData };\n    };\n    AreaSeries.prototype.updateAreaSelection = function (areaSelectionData) {\n        var _this = this;\n        var _a = this, fills = _a.fills, fillOpacity = _a.fillOpacity, strokes = _a.strokes, strokeOpacity = _a.strokeOpacity, strokeWidth = _a.strokeWidth, seriesItemEnabled = _a.seriesItemEnabled, shadow = _a.shadow;\n        var updateAreas = this.areaSelection.setData(areaSelectionData);\n        updateAreas.exit.remove();\n        var enterAreas = updateAreas.enter.append(Path)\n            .each(function (path) {\n            path.lineJoin = 'round';\n            path.stroke = undefined;\n            path.pointerEvents = PointerEvents.None;\n        });\n        var areaSelection = updateAreas.merge(enterAreas);\n        areaSelection.each(function (shape, datum, index) {\n            var path = shape.path;\n            shape.fill = fills[index % fills.length];\n            shape.fillOpacity = fillOpacity;\n            shape.stroke = strokes[index % strokes.length];\n            shape.strokeOpacity = strokeOpacity;\n            shape.strokeWidth = strokeWidth;\n            shape.lineDash = _this.lineDash;\n            shape.lineDashOffset = _this.lineDashOffset;\n            shape.fillShadow = shadow;\n            shape.visible = !!seriesItemEnabled.get(datum.yKey);\n            path.clear();\n            var points = datum.points;\n            points.forEach(function (_a, i) {\n                var x = _a.x, y = _a.y;\n                if (i > 0) {\n                    path.lineTo(x, y);\n                }\n                else {\n                    path.moveTo(x, y);\n                }\n            });\n            path.closePath();\n        });\n        this.areaSelection = areaSelection;\n    };\n    AreaSeries.prototype.updateStrokeSelection = function (areaSelectionData) {\n        var _this = this;\n        if (!this.data) {\n            return;\n        }\n        var _a = this, strokes = _a.strokes, strokeWidth = _a.strokeWidth, strokeOpacity = _a.strokeOpacity, data = _a.data, seriesItemEnabled = _a.seriesItemEnabled;\n        var updateStrokes = this.strokeSelection.setData(areaSelectionData);\n        updateStrokes.exit.remove();\n        var enterStrokes = updateStrokes.enter.append(Path)\n            .each(function (path) {\n            path.fill = undefined;\n            path.lineJoin = path.lineCap = 'round';\n            path.pointerEvents = PointerEvents.None;\n        });\n        var strokeSelection = updateStrokes.merge(enterStrokes);\n        strokeSelection.each(function (shape, datum, index) {\n            var path = shape.path;\n            shape.stroke = strokes[index % strokes.length];\n            shape.strokeWidth = strokeWidth;\n            shape.visible = !!seriesItemEnabled.get(datum.yKey);\n            shape.strokeOpacity = strokeOpacity;\n            shape.lineDash = _this.lineDash;\n            shape.lineDashOffset = _this.lineDashOffset;\n            path.clear();\n            var points = datum.points;\n            // The stroke doesn't go all the way around the fill, only on top,\n            // that's why we iterate until `data.length` (rather than `points.length`) and stop.\n            for (var i = 0; i < data.length; i++) {\n                var _a = points[i], x = _a.x, y = _a.y;\n                if (i > 0) {\n                    path.lineTo(x, y);\n                }\n                else {\n                    path.moveTo(x, y);\n                }\n            }\n        });\n        this.strokeSelection = strokeSelection;\n    };\n    AreaSeries.prototype.updateMarkerSelection = function (markerSelectionData) {\n        var marker = this.marker;\n        var data = marker.shape ? markerSelectionData : [];\n        var MarkerShape = getMarker(marker.shape);\n        var updateMarkers = this.markerSelection.setData(data);\n        updateMarkers.exit.remove();\n        var enterMarkers = updateMarkers.enter.append(MarkerShape);\n        this.markerSelection = updateMarkers.merge(enterMarkers);\n    };\n    AreaSeries.prototype.updateMarkerNodes = function () {\n        if (!this.chart) {\n            return;\n        }\n        var marker = this.marker;\n        var markerFormatter = marker.formatter;\n        var markerStrokeWidth = marker.strokeWidth !== undefined ? marker.strokeWidth : this.strokeWidth;\n        var markerSize = marker.size;\n        var _a = this, xKey = _a.xKey, seriesItemEnabled = _a.seriesItemEnabled;\n        var highlightedDatum = this.chart.highlightedDatum;\n        var _b = this.highlightStyle, highlightFill = _b.fill, highlightStroke = _b.stroke;\n        this.markerSelection.each(function (node, datum) {\n            var highlighted = datum === highlightedDatum;\n            var markerFill = highlighted && highlightFill !== undefined ? highlightFill : marker.fill || datum.fill;\n            var markerStroke = highlighted && highlightStroke !== undefined ? highlightStroke : marker.stroke || datum.stroke;\n            var markerFormat = undefined;\n            if (markerFormatter) {\n                markerFormat = markerFormatter({\n                    datum: datum.seriesDatum,\n                    xKey: xKey,\n                    yKey: datum.yKey,\n                    fill: markerFill,\n                    stroke: markerStroke,\n                    strokeWidth: markerStrokeWidth,\n                    size: markerSize,\n                    highlighted: highlighted\n                });\n            }\n            node.fill = markerFormat && markerFormat.fill || markerFill;\n            node.stroke = markerFormat && markerFormat.stroke || markerStroke;\n            node.strokeWidth = markerFormat && markerFormat.strokeWidth !== undefined\n                ? markerFormat.strokeWidth\n                : markerStrokeWidth;\n            node.size = markerFormat && markerFormat.size !== undefined\n                ? markerFormat.size\n                : markerSize;\n            node.translationX = datum.point.x;\n            node.translationY = datum.point.y;\n            node.visible = marker.enabled && node.size > 0 && !!seriesItemEnabled.get(datum.yKey);\n        });\n    };\n    AreaSeries.prototype.getNodeData = function () {\n        return this.markerSelectionData;\n    };\n    AreaSeries.prototype.fireNodeClickEvent = function (event, datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            event: event,\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey,\n            yKey: datum.yKey\n        });\n    };\n    AreaSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var xKey = this.xKey;\n        var yKey = nodeDatum.yKey;\n        if (!xKey || !yKey) {\n            return '';\n        }\n        var _a = this, xName = _a.xName, yKeys = _a.yKeys, yNames = _a.yNames, fills = _a.fills, tooltip = _a.tooltip;\n        var _b = tooltip.renderer, tooltipRenderer = _b === void 0 ? this.tooltipRenderer : _b, tooltipFormat = tooltip.format;\n        var datum = nodeDatum.seriesDatum;\n        var xValue = datum[xKey];\n        var yValue = datum[yKey];\n        var yKeyIndex = yKeys.indexOf(yKey);\n        var yName = yNames[yKeyIndex];\n        var color = fills[yKeyIndex % fills.length];\n        var xString = typeof xValue === 'number' ? toFixed(xValue) : String(xValue);\n        var yString = typeof yValue === 'number' ? toFixed(yValue) : String(yValue);\n        var title = yName;\n        var content = xString + ': ' + yString;\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content\n        };\n        if (tooltipFormat || tooltipRenderer) {\n            var params = {\n                datum: datum,\n                xKey: xKey,\n                xName: xName,\n                xValue: xValue,\n                yKey: yKey,\n                yValue: yValue,\n                yName: yName,\n                color: color\n            };\n            if (tooltipFormat) {\n                return toTooltipHtml({\n                    content: interpolate(tooltipFormat, params)\n                }, defaults);\n            }\n            if (tooltipRenderer) {\n                return toTooltipHtml(tooltipRenderer(params), defaults);\n            }\n        }\n        return toTooltipHtml(defaults);\n    };\n    AreaSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, data = _a.data, id = _a.id, xKey = _a.xKey, yKeys = _a.yKeys, yNames = _a.yNames, seriesItemEnabled = _a.seriesItemEnabled, marker = _a.marker, fills = _a.fills, strokes = _a.strokes, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length && xKey && yKeys.length) {\n            yKeys.forEach(function (yKey, index) {\n                legendData.push({\n                    id: id,\n                    itemId: yKey,\n                    enabled: seriesItemEnabled.get(yKey) || false,\n                    label: {\n                        text: yNames[index] || yKeys[index]\n                    },\n                    marker: {\n                        shape: marker.shape,\n                        fill: marker.fill || fills[index % fills.length],\n                        stroke: marker.stroke || strokes[index % strokes.length],\n                        fillOpacity: fillOpacity,\n                        strokeOpacity: strokeOpacity\n                    }\n                });\n            });\n        }\n    };\n    AreaSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        this.seriesItemEnabled.set(itemId, enabled);\n        this.scheduleData();\n    };\n    AreaSeries.className = 'AreaSeries';\n    AreaSeries.type = 'area';\n    __decorate([\n        reactive('dataChange')\n    ], AreaSeries.prototype, \"fills\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], AreaSeries.prototype, \"strokes\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"lineDash\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"lineDashOffset\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"xName\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"yNames\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        reactive('update')\n    ], AreaSeries.prototype, \"shadow\", void 0);\n    return AreaSeries;\n}(CartesianSeries));\nexport { AreaSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Selection } from \"../../../scene/selection\";\nimport { Rect } from \"../../../scene/shape/rect\";\nimport { Text } from \"../../../scene/shape/text\";\nimport { BandScale } from \"../../../scale/bandScale\";\nimport { SeriesTooltip } from \"../series\";\nimport { Label } from \"../../label\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { CartesianSeries } from \"./cartesianSeries\";\nimport { ChartAxisDirection, flipChartAxisDirection } from \"../../chartAxis\";\nimport { toTooltipHtml } from \"../../chart\";\nimport { findMinMax } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { equal } from \"../../../util/equal\";\nimport { reactive } from \"../../../util/observable\";\nvar BarSeriesNodeTag;\n(function (BarSeriesNodeTag) {\n    BarSeriesNodeTag[BarSeriesNodeTag[\"Bar\"] = 0] = \"Bar\";\n    BarSeriesNodeTag[BarSeriesNodeTag[\"Label\"] = 1] = \"Label\";\n})(BarSeriesNodeTag || (BarSeriesNodeTag = {}));\nvar BarSeriesLabel = /** @class */ (function (_super) {\n    __extends(BarSeriesLabel, _super);\n    function BarSeriesLabel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], BarSeriesLabel.prototype, \"formatter\", void 0);\n    return BarSeriesLabel;\n}(Label));\nvar BarSeriesTooltip = /** @class */ (function (_super) {\n    __extends(BarSeriesTooltip, _super);\n    function BarSeriesTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], BarSeriesTooltip.prototype, \"renderer\", void 0);\n    return BarSeriesTooltip;\n}(SeriesTooltip));\nexport { BarSeriesTooltip };\nfunction flat(arr, target) {\n    if (target === void 0) { target = []; }\n    arr.forEach(function (v) {\n        if (Array.isArray(v)) {\n            flat(v, target);\n        }\n        else {\n            target.push(v);\n        }\n    });\n    return target;\n}\nvar BarSeries = /** @class */ (function (_super) {\n    __extends(BarSeries, _super);\n    function BarSeries() {\n        var _a;\n        var _this = _super.call(this) || this;\n        // Need to put bar and label nodes into separate groups, because even though label nodes are\n        // created after the bar nodes, this only guarantees that labels will always be on top of bars\n        // on the first run. If on the next run more bars are added, they might clip the labels\n        // rendered during the previous run.\n        _this.rectGroup = _this.group.appendChild(new Group);\n        _this.textGroup = _this.group.appendChild(new Group);\n        _this.rectSelection = Selection.select(_this.rectGroup).selectAll();\n        _this.textSelection = Selection.select(_this.textGroup).selectAll();\n        _this.xData = [];\n        _this.yData = [];\n        _this.yDomain = [];\n        _this.label = new BarSeriesLabel();\n        /**\n         * The assumption is that the values will be reset (to `true`)\n         * in the {@link yKeys} setter.\n         */\n        _this.seriesItemEnabled = new Map();\n        _this.tooltip = new BarSeriesTooltip();\n        _this.flipXY = false;\n        _this.fills = [\n            '#c16068',\n            '#a2bf8a',\n            '#ebcc87',\n            '#80a0c3',\n            '#b58dae',\n            '#85c0d1'\n        ];\n        _this.strokes = [\n            '#874349',\n            '#718661',\n            '#a48f5f',\n            '#5a7088',\n            '#7f637a',\n            '#5d8692'\n        ];\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this.lineDash = undefined;\n        _this.lineDashOffset = 0;\n        /**\n         * Used to get the position of bars within each group.\n         */\n        _this.groupScale = new BandScale();\n        _this.directionKeys = (_a = {},\n            _a[ChartAxisDirection.X] = ['xKey'],\n            _a[ChartAxisDirection.Y] = ['yKeys'],\n            _a);\n        _this._xKey = '';\n        _this._xName = '';\n        _this.cumYKeyCount = [];\n        _this.flatYKeys = undefined; // only set when a user used a flat array for yKeys\n        _this.hideInLegend = [];\n        /**\n         * yKeys: [['coffee']] - regular bars, each category has a single bar that shows a value for coffee\n         * yKeys: [['coffee'], ['tea'], ['milk']] - each category has three bars that show values for coffee, tea and milk\n         * yKeys: [['coffee', 'tea', 'milk']] - each category has a single bar with three stacks that show values for coffee, tea and milk\n         * yKeys: [['coffee', 'tea', 'milk'], ['paper', 'ink']] - each category has 2 stacked bars,\n         *     first showing values for coffee, tea and milk and second values for paper and ink\n         */\n        _this._yKeys = [];\n        _this._grouped = false;\n        /**\n         * A map of `yKeys` to their names (used in legends and tooltips).\n         * For example, if a key is `product_name` it's name can be a more presentable `Product Name`.\n         */\n        _this._yNames = {};\n        _this._strokeWidth = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.addEventListener('update', _this.update);\n        _this.label.enabled = false;\n        _this.label.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    BarSeries.prototype.getKeys = function (direction) {\n        var _this = this;\n        var directionKeys = this.directionKeys;\n        var keys = directionKeys && directionKeys[this.flipXY ? flipChartAxisDirection(direction) : direction];\n        var values = [];\n        if (keys) {\n            keys.forEach(function (key) {\n                var value = _this[key];\n                if (value) {\n                    if (Array.isArray(value)) {\n                        values = values.concat(flat(value));\n                    }\n                    else {\n                        values.push(value);\n                    }\n                }\n            });\n        }\n        return values;\n    };\n    Object.defineProperty(BarSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            if (this._xKey !== value) {\n                this._xKey = value;\n                this.xData = [];\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"xName\", {\n        get: function () {\n            return this._xName;\n        },\n        set: function (value) {\n            if (this._xName !== value) {\n                this._xName = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"yKeys\", {\n        get: function () {\n            return this._yKeys;\n        },\n        set: function (yKeys) {\n            var _this = this;\n            if (!equal(this._yKeys, yKeys)) {\n                // Convert from flat y-keys to grouped y-keys.\n                if (yKeys.length && !Array.isArray(yKeys[0])) {\n                    var keys = this.flatYKeys = yKeys;\n                    if (this.grouped) {\n                        yKeys = keys.map(function (k) { return [k]; });\n                    }\n                    else {\n                        yKeys = [keys];\n                    }\n                }\n                else {\n                    this.flatYKeys = undefined;\n                }\n                this._yKeys = yKeys;\n                var prevYKeyCount_1 = 0;\n                this.cumYKeyCount = [];\n                var visibleStacks_1 = [];\n                yKeys.forEach(function (stack, index) {\n                    if (stack.length > 0) {\n                        visibleStacks_1.push(String(index));\n                    }\n                    _this.cumYKeyCount.push(prevYKeyCount_1);\n                    prevYKeyCount_1 += stack.length;\n                });\n                this.yData = [];\n                var seriesItemEnabled_1 = this.seriesItemEnabled;\n                seriesItemEnabled_1.clear();\n                yKeys.forEach(function (stack) {\n                    stack.forEach(function (yKey) { return seriesItemEnabled_1.set(yKey, true); });\n                });\n                var groupScale = this.groupScale;\n                groupScale.domain = visibleStacks_1;\n                groupScale.padding = 0.1;\n                groupScale.round = true;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"grouped\", {\n        get: function () {\n            return this._grouped;\n        },\n        set: function (value) {\n            if (this._grouped !== value) {\n                this._grouped = value;\n                if (this.flatYKeys) {\n                    this.yKeys = this.flatYKeys;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"yNames\", {\n        get: function () {\n            return this._yNames;\n        },\n        set: function (values) {\n            if (Array.isArray(values) && this.flatYKeys) {\n                var map_1 = {};\n                this.flatYKeys.forEach(function (k, i) {\n                    map_1[k] = values[i];\n                });\n                values = map_1;\n            }\n            this._yNames = values;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BarSeries.prototype.setColors = function (fills, strokes) {\n        this.fills = fills;\n        this.strokes = strokes;\n    };\n    Object.defineProperty(BarSeries.prototype, \"normalizedTo\", {\n        get: function () {\n            return this._normalizedTo;\n        },\n        set: function (value) {\n            var absValue = value ? Math.abs(value) : undefined;\n            if (this._normalizedTo !== absValue) {\n                this._normalizedTo = absValue;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BarSeries.prototype, \"shadow\", {\n        get: function () {\n            return this._shadow;\n        },\n        set: function (value) {\n            if (this._shadow !== value) {\n                this._shadow = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BarSeries.prototype.onHighlightChange = function () {\n        this.updateRectNodes();\n    };\n    BarSeries.prototype.processData = function () {\n        var _a = this, xKey = _a.xKey, yKeys = _a.yKeys, seriesItemEnabled = _a.seriesItemEnabled;\n        var data = xKey && yKeys.length && this.data ? this.data : [];\n        var keysFound = true; // only warn once\n        this.xData = data.map(function (datum) {\n            if (keysFound && !(xKey in datum)) {\n                keysFound = false;\n                console.warn(\"The key '\" + xKey + \"' was not found in the data: \", datum);\n            }\n            return datum[xKey];\n        });\n        this.yData = data.map(function (datum) { return yKeys.map(function (stack) {\n            return stack.map(function (yKey) {\n                if (keysFound && !(yKey in datum)) {\n                    keysFound = false;\n                    console.warn(\"The key '\" + yKey + \"' was not found in the data: \", datum);\n                }\n                var value = datum[yKey];\n                return isFinite(value) && seriesItemEnabled.get(yKey) ? value : 0;\n            });\n        }); });\n        // Used for normalization of stacked bars. Contains min/max values for each stack in each group,\n        // where min is zero and max is a positive total of all values in the stack\n        // or min is a negative total of all values in the stack and max is zero.\n        var yMinMax = this.yData.map(function (group) { return group.map(function (stack) { return findMinMax(stack); }); });\n        var _b = this, yData = _b.yData, normalizedTo = _b.normalizedTo;\n        var yLargestMinMax = this.findLargestMinMax(yMinMax);\n        var yMin;\n        var yMax;\n        if (normalizedTo && isFinite(normalizedTo)) {\n            yMin = yLargestMinMax.min < 0 ? -normalizedTo : 0;\n            yMax = normalizedTo;\n            yData.forEach(function (group, i) {\n                group.forEach(function (stack, j) {\n                    stack.forEach(function (y, k) {\n                        if (y < 0) {\n                            stack[k] = -y / yMinMax[i][j].min * normalizedTo;\n                        }\n                        else {\n                            stack[k] = y / yMinMax[i][j].max * normalizedTo;\n                        }\n                    });\n                });\n            });\n        }\n        else {\n            yMin = yLargestMinMax.min;\n            yMax = yLargestMinMax.max;\n        }\n        this.yDomain = this.fixNumericExtent([yMin, yMax], 'y');\n        this.fireEvent({ type: 'dataProcessed' });\n        return true;\n    };\n    BarSeries.prototype.findLargestMinMax = function (groups) {\n        var tallestStackMin = 0;\n        var tallestStackMax = 0;\n        for (var _i = 0, groups_1 = groups; _i < groups_1.length; _i++) {\n            var group = groups_1[_i];\n            for (var _a = 0, group_1 = group; _a < group_1.length; _a++) {\n                var stack = group_1[_a];\n                if (stack.min < tallestStackMin) {\n                    tallestStackMin = stack.min;\n                }\n                if (stack.max > tallestStackMax) {\n                    tallestStackMax = stack.max;\n                }\n            }\n        }\n        return { min: tallestStackMin, max: tallestStackMax };\n    };\n    BarSeries.prototype.getDomain = function (direction) {\n        if (this.flipXY) {\n            direction = flipChartAxisDirection(direction);\n        }\n        if (direction === ChartAxisDirection.X) {\n            return this.xData;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    BarSeries.prototype.fireNodeClickEvent = function (event, datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            event: event,\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey,\n            yKey: datum.yKey\n        });\n    };\n    BarSeries.prototype.generateNodeData = function () {\n        var _this = this;\n        if (!this.data) {\n            return [];\n        }\n        var flipXY = this.flipXY;\n        var xAxis = flipXY ? this.yAxis : this.xAxis;\n        var yAxis = flipXY ? this.xAxis : this.yAxis;\n        var xScale = xAxis.scale;\n        var yScale = yAxis.scale;\n        var _a = this, groupScale = _a.groupScale, yKeys = _a.yKeys, cumYKeyCount = _a.cumYKeyCount, fills = _a.fills, strokes = _a.strokes, strokeWidth = _a.strokeWidth, seriesItemEnabled = _a.seriesItemEnabled, data = _a.data, xData = _a.xData, yData = _a.yData;\n        var label = this.label;\n        var labelFontStyle = label.fontStyle;\n        var labelFontWeight = label.fontWeight;\n        var labelFontSize = label.fontSize;\n        var labelFontFamily = label.fontFamily;\n        var labelColor = label.color;\n        var labelFormatter = label.formatter;\n        groupScale.range = [0, xScale.bandwidth];\n        var grouped = true;\n        var barWidth = grouped ? groupScale.bandwidth : xScale.bandwidth;\n        var nodeData = [];\n        xData.forEach(function (group, groupIndex) {\n            var seriesDatum = data[groupIndex];\n            var x = xScale.convert(group);\n            var groupYs = yData[groupIndex]; // y-data for groups of stacks\n            for (var stackIndex = 0; stackIndex < groupYs.length; stackIndex++) {\n                var stackYs = groupYs[stackIndex]; // y-data for a stack withing a group\n                var prevMinY = 0;\n                var prevMaxY = 0;\n                for (var levelIndex = 0; levelIndex < stackYs.length; levelIndex++) {\n                    var currY = stackYs[levelIndex];\n                    var yKey = yKeys[stackIndex][levelIndex];\n                    var barX = grouped ? x + groupScale.convert(String(stackIndex)) : x;\n                    // Bars outside of visible range are not rendered, so we generate node data\n                    // only for the visible subset of user data.\n                    if (!xAxis.inRange(barX, barWidth)) {\n                        continue;\n                    }\n                    var prevY = currY < 0 ? prevMinY : prevMaxY;\n                    var y = yScale.convert(prevY + currY);\n                    var bottomY = yScale.convert(prevY);\n                    var yValue = seriesDatum[yKey]; // unprocessed y-value\n                    var yValueIsNumber = typeof yValue === 'number';\n                    var labelText = void 0;\n                    if (labelFormatter) {\n                        labelText = labelFormatter({ value: yValueIsNumber ? yValue : undefined });\n                    }\n                    else {\n                        labelText = yValueIsNumber && isFinite(yValue) ? yValue.toFixed(2) : '';\n                    }\n                    var colorIndex = cumYKeyCount[stackIndex] + levelIndex;\n                    nodeData.push({\n                        series: _this,\n                        seriesDatum: seriesDatum,\n                        yValue: yValue,\n                        yKey: yKey,\n                        x: flipXY ? Math.min(y, bottomY) : barX,\n                        y: flipXY ? barX : Math.min(y, bottomY),\n                        width: flipXY ? Math.abs(bottomY - y) : barWidth,\n                        height: flipXY ? barWidth : Math.abs(bottomY - y),\n                        fill: fills[colorIndex % fills.length],\n                        stroke: strokes[colorIndex % strokes.length],\n                        strokeWidth: strokeWidth,\n                        label: seriesItemEnabled.get(yKey) && labelText ? {\n                            text: labelText,\n                            fontStyle: labelFontStyle,\n                            fontWeight: labelFontWeight,\n                            fontSize: labelFontSize,\n                            fontFamily: labelFontFamily,\n                            fill: labelColor,\n                            x: flipXY ? y + (yValue >= 0 ? -1 : 1) * Math.abs(bottomY - y) / 2 : barX + barWidth / 2,\n                            y: flipXY ? barX + barWidth / 2 : y + (yValue >= 0 ? 1 : -1) * Math.abs(bottomY - y) / 2\n                        } : undefined\n                    });\n                    if (currY < 0) {\n                        prevMinY += currY;\n                    }\n                    else {\n                        prevMaxY += currY;\n                    }\n                }\n            }\n        });\n        return nodeData;\n    };\n    BarSeries.prototype.update = function () {\n        var _a = this, visible = _a.visible, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis, xData = _a.xData, yData = _a.yData;\n        this.group.visible = visible;\n        if (!chart || chart.layoutPending || chart.dataPending ||\n            !xAxis || !yAxis || !visible || !xData.length || !yData.length) {\n            return;\n        }\n        var nodeData = this.generateNodeData();\n        this.updateRectSelection(nodeData);\n        this.updateRectNodes();\n        this.updateTextSelection(nodeData);\n        this.updateTextNodes();\n    };\n    BarSeries.prototype.updateRectSelection = function (selectionData) {\n        var updateRects = this.rectSelection.setData(selectionData);\n        updateRects.exit.remove();\n        var enterRects = updateRects.enter.append(Rect).each(function (rect) {\n            rect.tag = BarSeriesNodeTag.Bar;\n            rect.crisp = true;\n        });\n        this.rectSelection = updateRects.merge(enterRects);\n    };\n    BarSeries.prototype.updateRectNodes = function () {\n        var _this = this;\n        if (!this.chart) {\n            return;\n        }\n        var _a = this, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity, _b = _a.highlightStyle, fill = _b.fill, stroke = _b.stroke, shadow = _a.shadow, formatter = _a.formatter, xKey = _a.xKey, flipXY = _a.flipXY;\n        var highlightedDatum = this.chart.highlightedDatum;\n        this.rectSelection.each(function (rect, datum) {\n            var highlighted = datum === highlightedDatum;\n            var rectFill = highlighted && fill !== undefined ? fill : datum.fill;\n            var rectStroke = highlighted && stroke !== undefined ? stroke : datum.stroke;\n            var format = undefined;\n            if (formatter) {\n                format = formatter({\n                    datum: datum.seriesDatum,\n                    fill: rectFill,\n                    stroke: rectStroke,\n                    strokeWidth: datum.strokeWidth,\n                    highlighted: highlighted,\n                    xKey: xKey,\n                    yKey: datum.yKey\n                });\n            }\n            rect.x = datum.x;\n            rect.y = datum.y;\n            rect.width = datum.width;\n            rect.height = datum.height;\n            rect.fill = format && format.fill || rectFill;\n            rect.stroke = format && format.stroke || rectStroke;\n            rect.strokeWidth = format && format.strokeWidth !== undefined ? format.strokeWidth : datum.strokeWidth;\n            rect.fillOpacity = fillOpacity;\n            rect.strokeOpacity = strokeOpacity;\n            rect.lineDash = _this.lineDash;\n            rect.lineDashOffset = _this.lineDashOffset;\n            rect.fillShadow = shadow;\n            // Prevent stroke from rendering for zero height columns and zero width bars.\n            rect.visible = flipXY ? datum.width > 0 : datum.height > 0;\n        });\n    };\n    BarSeries.prototype.updateTextSelection = function (selectionData) {\n        var updateTexts = this.textSelection.setData(selectionData);\n        updateTexts.exit.remove();\n        var enterTexts = updateTexts.enter.append(Text).each(function (text) {\n            text.tag = BarSeriesNodeTag.Label;\n            text.pointerEvents = PointerEvents.None;\n            text.textAlign = 'center';\n            text.textBaseline = 'middle';\n        });\n        this.textSelection = updateTexts.merge(enterTexts);\n    };\n    BarSeries.prototype.updateTextNodes = function () {\n        var labelEnabled = this.label.enabled;\n        this.textSelection.each(function (text, datum) {\n            var label = datum.label;\n            if (label && labelEnabled) {\n                text.fontStyle = label.fontStyle;\n                text.fontWeight = label.fontWeight;\n                text.fontSize = label.fontSize;\n                text.fontFamily = label.fontFamily;\n                text.text = label.text;\n                text.x = label.x;\n                text.y = label.y;\n                text.fill = label.fill;\n                text.visible = true;\n            }\n            else {\n                text.visible = false;\n            }\n        });\n    };\n    BarSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKeys = _a.yKeys;\n        var yKey = nodeDatum.yKey;\n        if (!xKey || !yKey) {\n            return '';\n        }\n        var yKeyIndex = 0;\n        for (var _i = 0, yKeys_1 = yKeys; _i < yKeys_1.length; _i++) {\n            var stack = yKeys_1[_i];\n            var i = stack.indexOf(yKey);\n            if (i >= 0) {\n                yKeyIndex += i;\n                break;\n            }\n            yKeyIndex += stack.length;\n        }\n        var _b = this, xName = _b.xName, yNames = _b.yNames, fills = _b.fills, tooltip = _b.tooltip;\n        var _c = tooltip.renderer, tooltipRenderer = _c === void 0 ? this.tooltipRenderer : _c; // TODO: remove deprecated tooltipRenderer\n        var datum = nodeDatum.seriesDatum;\n        var yName = yNames[yKey];\n        var color = fills[yKeyIndex % fills.length];\n        var xValue = datum[xKey];\n        var yValue = datum[yKey];\n        var xString = typeof xValue === 'number' ? toFixed(xValue) : String(xValue);\n        var yString = typeof yValue === 'number' ? toFixed(yValue) : String(yValue);\n        var title = yName;\n        var content = xString + ': ' + yString;\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: datum,\n                xKey: xKey,\n                xValue: xValue,\n                xName: xName,\n                yKey: yKey,\n                yValue: yValue,\n                yName: yName,\n                color: color\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    };\n    BarSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, id = _a.id, data = _a.data, xKey = _a.xKey, yKeys = _a.yKeys, yNames = _a.yNames, cumYKeyCount = _a.cumYKeyCount, seriesItemEnabled = _a.seriesItemEnabled, hideInLegend = _a.hideInLegend, fills = _a.fills, strokes = _a.strokes, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length && xKey && yKeys.length) {\n            this.yKeys.forEach(function (stack, stackIndex) {\n                stack.forEach(function (yKey, levelIndex) {\n                    if (hideInLegend.indexOf(yKey) < 0) {\n                        var colorIndex = cumYKeyCount[stackIndex] + levelIndex;\n                        legendData.push({\n                            id: id,\n                            itemId: yKey,\n                            enabled: seriesItemEnabled.get(yKey) || false,\n                            label: {\n                                text: yNames[yKey] || yKey\n                            },\n                            marker: {\n                                fill: fills[colorIndex % fills.length],\n                                stroke: strokes[colorIndex % strokes.length],\n                                fillOpacity: fillOpacity,\n                                strokeOpacity: strokeOpacity\n                            }\n                        });\n                    }\n                });\n            });\n        }\n    };\n    BarSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        var seriesItemEnabled = this.seriesItemEnabled;\n        seriesItemEnabled.set(itemId, enabled);\n        var yKeys = this.yKeys.map(function (stack) { return stack.slice(); }); // deep clone\n        seriesItemEnabled.forEach(function (enabled, yKey) {\n            if (!enabled) {\n                yKeys.forEach(function (stack) {\n                    var index = stack.indexOf(yKey);\n                    if (index >= 0) {\n                        stack.splice(index, 1);\n                    }\n                });\n            }\n        });\n        var visibleStacks = [];\n        yKeys.forEach(function (stack, index) {\n            if (stack.length > 0) {\n                visibleStacks.push(String(index));\n            }\n        });\n        this.groupScale.domain = visibleStacks;\n        this.scheduleData();\n    };\n    BarSeries.className = 'BarSeries';\n    BarSeries.type = 'bar';\n    __decorate([\n        reactive('layoutChange')\n    ], BarSeries.prototype, \"flipXY\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], BarSeries.prototype, \"fills\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], BarSeries.prototype, \"strokes\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], BarSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], BarSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], BarSeries.prototype, \"lineDash\", void 0);\n    __decorate([\n        reactive('update')\n    ], BarSeries.prototype, \"lineDashOffset\", void 0);\n    __decorate([\n        reactive('update')\n    ], BarSeries.prototype, \"formatter\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], BarSeries.prototype, \"hideInLegend\", void 0);\n    return BarSeries;\n}(CartesianSeries));\nexport { BarSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from \"../series\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { SeriesMarker } from \"../seriesMarker\";\nvar CartesianSeries = /** @class */ (function (_super) {\n    __extends(CartesianSeries, _super);\n    function CartesianSeries() {\n        var _a;\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.directionKeys = (_a = {},\n            _a[ChartAxisDirection.X] = ['xKey'],\n            _a[ChartAxisDirection.Y] = ['yKey'],\n            _a);\n        return _this;\n    }\n    return CartesianSeries;\n}(Series));\nexport { CartesianSeries };\nvar CartesianSeriesMarker = /** @class */ (function (_super) {\n    __extends(CartesianSeriesMarker, _super);\n    function CartesianSeriesMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return CartesianSeriesMarker;\n}(SeriesMarker));\nexport { CartesianSeriesMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Selection } from \"../../../scene/selection\";\nimport { Rect } from \"../../../scene/shape/rect\";\nimport { Text } from \"../../../scene/shape/text\";\nimport { SeriesTooltip } from \"../series\";\nimport { Label } from \"../../label\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { CartesianSeries } from \"./cartesianSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { toTooltipHtml } from \"../../chart\";\nimport { numericExtent, finiteExtent } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { reactive } from \"../../../util/observable\";\nimport ticks, { tickStep } from \"../../../util/ticks\";\nvar HistogramSeriesNodeTag;\n(function (HistogramSeriesNodeTag) {\n    HistogramSeriesNodeTag[HistogramSeriesNodeTag[\"Bin\"] = 0] = \"Bin\";\n    HistogramSeriesNodeTag[HistogramSeriesNodeTag[\"Label\"] = 1] = \"Label\";\n})(HistogramSeriesNodeTag || (HistogramSeriesNodeTag = {}));\nvar HistogramSeriesLabel = /** @class */ (function (_super) {\n    __extends(HistogramSeriesLabel, _super);\n    function HistogramSeriesLabel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], HistogramSeriesLabel.prototype, \"formatter\", void 0);\n    return HistogramSeriesLabel;\n}(Label));\nvar defaultBinCount = 10;\nvar aggregationFunctions = {\n    count: function (bin) { return bin.data.length; },\n    sum: function (bin, yKey) { return bin.data.reduce(function (acc, datum) { return acc + datum[yKey]; }, 0); },\n    mean: function (bin, yKey) { return aggregationFunctions.sum(bin, yKey) / aggregationFunctions.count(bin, yKey); }\n};\nvar HistogramBin = /** @class */ (function () {\n    function HistogramBin(_a) {\n        var domainMin = _a[0], domainMax = _a[1];\n        this.data = [];\n        this.aggregatedValue = 0;\n        this.frequency = 0;\n        this.domain = [domainMin, domainMax];\n    }\n    ;\n    HistogramBin.prototype.addDatum = function (datum) {\n        this.data.push(datum);\n        this.frequency++;\n    };\n    Object.defineProperty(HistogramBin.prototype, \"domainWidth\", {\n        get: function () {\n            var _a = this.domain, domainMin = _a[0], domainMax = _a[1];\n            return domainMax - domainMin;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramBin.prototype, \"relativeHeight\", {\n        get: function () {\n            return this.aggregatedValue / this.domainWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HistogramBin.prototype.calculateAggregatedValue = function (aggregationName, yKey) {\n        if (!yKey) {\n            // not having a yKey forces us into a frequency plot\n            aggregationName = 'count';\n        }\n        var aggregationFunction = aggregationFunctions[aggregationName];\n        this.aggregatedValue = aggregationFunction(this, yKey);\n    };\n    HistogramBin.prototype.getY = function (areaPlot) {\n        return areaPlot ? this.relativeHeight : this.aggregatedValue;\n    };\n    return HistogramBin;\n}());\nexport { HistogramBin };\nvar HistogramSeriesTooltip = /** @class */ (function (_super) {\n    __extends(HistogramSeriesTooltip, _super);\n    function HistogramSeriesTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], HistogramSeriesTooltip.prototype, \"renderer\", void 0);\n    return HistogramSeriesTooltip;\n}(SeriesTooltip));\nexport { HistogramSeriesTooltip };\nvar HistogramSeries = /** @class */ (function (_super) {\n    __extends(HistogramSeries, _super);\n    function HistogramSeries() {\n        var _a;\n        var _this = _super.call(this) || this;\n        // Need to put column and label nodes into separate groups, because even though label nodes are\n        // created after the column nodes, this only guarantees that labels will always be on top of columns\n        // on the first run. If on the next run more columns are added, they might clip the labels\n        // rendered during the previous run.\n        _this.rectGroup = _this.group.appendChild(new Group());\n        _this.textGroup = _this.group.appendChild(new Group());\n        _this.rectSelection = Selection.select(_this.rectGroup).selectAll();\n        _this.textSelection = Selection.select(_this.textGroup).selectAll();\n        _this.binnedData = [];\n        _this.xDomain = [];\n        _this.yDomain = [];\n        _this.label = new HistogramSeriesLabel();\n        _this.seriesItemEnabled = true;\n        _this.tooltip = new HistogramSeriesTooltip();\n        _this.fill = undefined;\n        _this.stroke = undefined;\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this.lineDash = undefined;\n        _this.lineDashOffset = 0;\n        _this.directionKeys = (_a = {},\n            _a[ChartAxisDirection.X] = ['xKey'],\n            _a[ChartAxisDirection.Y] = ['yKey'],\n            _a);\n        _this._xKey = '';\n        _this._areaPlot = false;\n        _this._bins = undefined;\n        _this._aggregation = 'count';\n        _this._binCount = undefined;\n        _this._xName = '';\n        _this._yKey = '';\n        _this._yName = '';\n        _this._strokeWidth = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.label.enabled = false;\n        _this.label.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    HistogramSeries.prototype.getKeys = function (direction) {\n        var _this = this;\n        var directionKeys = this.directionKeys;\n        var keys = directionKeys && directionKeys[direction];\n        var values = [];\n        if (keys) {\n            keys.forEach(function (key) {\n                var value = _this[key];\n                if (value) {\n                    if (Array.isArray(value)) {\n                        values.push.apply(values, value);\n                    }\n                    else {\n                        values.push(value);\n                    }\n                }\n            });\n        }\n        return values;\n    };\n    Object.defineProperty(HistogramSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            if (this._xKey !== value) {\n                this._xKey = value;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"areaPlot\", {\n        get: function () {\n            return this._areaPlot;\n        },\n        set: function (c) {\n            this._areaPlot = c;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"bins\", {\n        get: function () {\n            return this._bins;\n        },\n        set: function (bins) {\n            this._bins = bins;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"aggregation\", {\n        get: function () {\n            return this._aggregation;\n        },\n        set: function (aggregation) {\n            this._aggregation = aggregation;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"binCount\", {\n        get: function () {\n            return this._binCount;\n        },\n        set: function (binCount) {\n            this._binCount = binCount;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"xName\", {\n        get: function () {\n            return this._xName;\n        },\n        set: function (value) {\n            if (this._xName !== value) {\n                this._xName = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"yKey\", {\n        get: function () {\n            return this._yKey;\n        },\n        set: function (yKey) {\n            this._yKey = yKey;\n            this.seriesItemEnabled = true;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"yName\", {\n        get: function () {\n            return this._yName;\n        },\n        set: function (values) {\n            this._yName = values;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(HistogramSeries.prototype, \"shadow\", {\n        get: function () {\n            return this._shadow;\n        },\n        set: function (value) {\n            if (this._shadow !== value) {\n                this._shadow = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HistogramSeries.prototype.onHighlightChange = function () {\n        this.updateRectNodes();\n    };\n    HistogramSeries.prototype.setColors = function (fills, strokes) {\n        this.fill = fills[0];\n        this.stroke = strokes[0];\n    };\n    // During processData phase, used to unify different ways of the user specifying\n    // the bins. Returns bins in format[[min1, max1], [min2, max2], ... ].\n    HistogramSeries.prototype.deriveBins = function () {\n        var _this = this;\n        var _a = this, bins = _a.bins, binCount = _a.binCount;\n        if (!this.data) {\n            return [];\n        }\n        if (bins && binCount) {\n            console.warn('bins and bitCount are mutually exclusive properties.');\n        }\n        if (bins) {\n            return bins;\n        }\n        var xData = this.data.map(function (datum) { return datum[_this.xKey]; });\n        var xDomain = this.fixNumericExtent(finiteExtent(xData), 'x');\n        var binStarts = ticks(xDomain[0], xDomain[1], this.binCount || defaultBinCount);\n        var binSize = tickStep(xDomain[0], xDomain[1], this.binCount || defaultBinCount);\n        var firstBinEnd = binStarts[0];\n        var expandStartToBin = function (n) { return [n, n + binSize]; };\n        return __spreadArrays([\n            [firstBinEnd - binSize, firstBinEnd]\n        ], binStarts.map(expandStartToBin));\n    };\n    HistogramSeries.prototype.placeDataInBins = function (data) {\n        var _this = this;\n        var xKey = this.xKey;\n        var derivedBins = this.deriveBins();\n        // creating a sorted copy allows binning in O(n) rather than O(n²)\n        // but at the expense of more temporary memory\n        var sortedData = data.slice().sort(function (a, b) {\n            if (a[xKey] < b[xKey]) {\n                return -1;\n            }\n            if (a[xKey] > b[xKey]) {\n                return 1;\n            }\n            return 0;\n        });\n        var currentBin = 0;\n        var bins = [new HistogramBin(derivedBins[0])];\n        loop: for (var i = 0, ln = sortedData.length; i < ln; i++) {\n            var datum = sortedData[i];\n            while (datum[xKey] > derivedBins[currentBin][1]) {\n                currentBin++;\n                var bin = derivedBins[currentBin];\n                if (!bin) {\n                    break loop;\n                }\n                bins.push(new HistogramBin(bin));\n            }\n            bins[currentBin].addDatum(datum);\n        }\n        bins.forEach(function (b) { return b.calculateAggregatedValue(_this._aggregation, _this.yKey); });\n        return bins;\n    };\n    Object.defineProperty(HistogramSeries.prototype, \"xMax\", {\n        get: function () {\n            var _this = this;\n            return this.data && this.data.reduce(function (acc, datum) {\n                return Math.max(acc, datum[_this.xKey]);\n            }, Number.NEGATIVE_INFINITY);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HistogramSeries.prototype.processData = function () {\n        var _this = this;\n        var _a = this, xKey = _a.xKey, data = _a.data;\n        this.binnedData = this.placeDataInBins(xKey && data ? data : []);\n        var yData = this.binnedData.map(function (b) { return b.getY(_this.areaPlot); });\n        var yMinMax = numericExtent(yData);\n        this.yDomain = this.fixNumericExtent([0, yMinMax ? yMinMax[1] : 1], 'y');\n        var firstBin = this.binnedData[0];\n        var lastBin = this.binnedData[this.binnedData.length - 1];\n        var xMin = firstBin.domain[0];\n        var xMax = lastBin.domain[1];\n        this.xDomain = [xMin, xMax];\n        this.fireEvent({ type: 'dataProcessed' });\n        return true;\n    };\n    HistogramSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xDomain;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    HistogramSeries.prototype.fireNodeClickEvent = function (event, datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            event: event,\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey\n        });\n    };\n    HistogramSeries.prototype.update = function () {\n        var _a = this, visible = _a.visible, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        this.group.visible = visible;\n        if (!xAxis || !yAxis || !visible || !chart || chart.layoutPending || chart.dataPending) {\n            return;\n        }\n        var nodeData = this.generateNodeData();\n        this.updateRectSelection(nodeData);\n        this.updateRectNodes();\n        this.updateTextSelection(nodeData);\n        this.updateTextNodes();\n    };\n    HistogramSeries.prototype.generateNodeData = function () {\n        var _this = this;\n        if (!this.seriesItemEnabled) {\n            return [];\n        }\n        var _a = this, xScale = _a.xAxis.scale, yScale = _a.yAxis.scale, fill = _a.fill, stroke = _a.stroke, strokeWidth = _a.strokeWidth;\n        var nodeData = [];\n        var defaultLabelFormatter = function (params) { return String(params.value); };\n        var _b = this.label, _c = _b.formatter, labelFormatter = _c === void 0 ? defaultLabelFormatter : _c, labelFontStyle = _b.fontStyle, labelFontWeight = _b.fontWeight, labelFontSize = _b.fontSize, labelFontFamily = _b.fontFamily, labelColor = _b.color;\n        this.binnedData.forEach(function (binOfData) {\n            var total = binOfData.aggregatedValue, frequency = binOfData.frequency, _a = binOfData.domain, xDomainMin = _a[0], xDomainMax = _a[1], relativeHeight = binOfData.relativeHeight;\n            var xMinPx = xScale.convert(xDomainMin), xMaxPx = xScale.convert(xDomainMax), \n            // note: assuming can't be negative:\n            y = _this.areaPlot ? relativeHeight : (_this.yKey ? total : frequency), yZeroPx = yScale.convert(0), yMaxPx = yScale.convert(y), w = xMaxPx - xMinPx, h = Math.abs(yMaxPx - yZeroPx);\n            var selectionDatumLabel = y !== 0 ? {\n                text: labelFormatter({ value: binOfData.aggregatedValue }),\n                fontStyle: labelFontStyle,\n                fontWeight: labelFontWeight,\n                fontSize: labelFontSize,\n                fontFamily: labelFontFamily,\n                fill: labelColor,\n                x: xMinPx + w / 2,\n                y: yMaxPx + h / 2\n            } : undefined;\n            nodeData.push({\n                series: _this,\n                seriesDatum: binOfData,\n                // since each selection is an aggregation of multiple data.\n                x: xMinPx,\n                y: yMaxPx,\n                width: w,\n                height: h,\n                fill: fill,\n                stroke: stroke,\n                strokeWidth: strokeWidth,\n                label: selectionDatumLabel,\n            });\n        });\n        return nodeData;\n    };\n    HistogramSeries.prototype.updateRectSelection = function (nodeData) {\n        var updateRects = this.rectSelection.setData(nodeData);\n        updateRects.exit.remove();\n        var enterRects = updateRects.enter.append(Rect).each(function (rect) {\n            rect.tag = HistogramSeriesNodeTag.Bin;\n            rect.crisp = true;\n        });\n        this.rectSelection = updateRects.merge(enterRects);\n    };\n    HistogramSeries.prototype.updateRectNodes = function () {\n        var _this = this;\n        if (!this.chart) {\n            return;\n        }\n        var highlightedDatum = this.chart.highlightedDatum;\n        var _a = this, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity, shadow = _a.shadow, _b = _a.highlightStyle, fill = _b.fill, stroke = _b.stroke;\n        this.rectSelection.each(function (rect, datum) {\n            var highlighted = datum === highlightedDatum;\n            rect.x = datum.x;\n            rect.y = datum.y;\n            rect.width = datum.width;\n            rect.height = datum.height;\n            rect.fill = highlighted && fill !== undefined ? fill : datum.fill;\n            rect.stroke = highlighted && stroke !== undefined ? stroke : datum.stroke;\n            rect.fillOpacity = fillOpacity;\n            rect.strokeOpacity = strokeOpacity;\n            rect.strokeWidth = datum.strokeWidth;\n            rect.lineDash = _this.lineDash;\n            rect.lineDashOffset = _this.lineDashOffset;\n            rect.fillShadow = shadow;\n            rect.visible = datum.height > 0; // prevent stroke from rendering for zero height columns\n        });\n    };\n    HistogramSeries.prototype.updateTextSelection = function (nodeData) {\n        var updateTexts = this.textSelection.setData(nodeData);\n        updateTexts.exit.remove();\n        var enterTexts = updateTexts.enter.append(Text).each(function (text) {\n            text.tag = HistogramSeriesNodeTag.Label;\n            text.pointerEvents = PointerEvents.None;\n            text.textAlign = 'center';\n            text.textBaseline = 'middle';\n        });\n        this.textSelection = updateTexts.merge(enterTexts);\n    };\n    HistogramSeries.prototype.updateTextNodes = function () {\n        var labelEnabled = this.label.enabled;\n        this.textSelection.each(function (text, datum) {\n            var label = datum.label;\n            if (label && labelEnabled) {\n                text.text = label.text;\n                text.x = label.x;\n                text.y = label.y;\n                text.fontStyle = label.fontStyle;\n                text.fontWeight = label.fontWeight;\n                text.fontSize = label.fontSize;\n                text.fontFamily = label.fontFamily;\n                text.fill = label.fill;\n                text.visible = true;\n            }\n            else {\n                text.visible = false;\n            }\n        });\n    };\n    HistogramSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey;\n        if (!xKey) {\n            return '';\n        }\n        var _b = this, xName = _b.xName, yName = _b.yName, color = _b.fill, tooltip = _b.tooltip, aggregation = _b.aggregation;\n        var _c = tooltip.renderer, tooltipRenderer = _c === void 0 ? this.tooltipRenderer : _c;\n        var bin = nodeDatum.seriesDatum;\n        var aggregatedValue = bin.aggregatedValue, frequency = bin.frequency, _d = bin.domain, rangeMin = _d[0], rangeMax = _d[1];\n        var title = (xName || xKey) + \": \" + toFixed(rangeMin) + \" - \" + toFixed(rangeMax);\n        var content = yKey ?\n            \"<b>\" + (yName || yKey) + \" (\" + aggregation + \")</b>: \" + toFixed(aggregatedValue) + \"<br>\" :\n            '';\n        content += \"<b>Frequency</b>: \" + frequency;\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: bin,\n                xKey: xKey,\n                xValue: bin.domain,\n                xName: xName,\n                yKey: yKey,\n                yValue: bin.aggregatedValue,\n                yName: yName,\n                color: color\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    };\n    HistogramSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, id = _a.id, data = _a.data, yKey = _a.yKey, yName = _a.yName, seriesItemEnabled = _a.seriesItemEnabled, fill = _a.fill, stroke = _a.stroke, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length) {\n            legendData.push({\n                id: id,\n                itemId: yKey,\n                enabled: seriesItemEnabled,\n                label: {\n                    text: yName || yKey || 'Frequency'\n                },\n                marker: {\n                    fill: fill || 'rgba(0, 0, 0, 0)',\n                    stroke: stroke || 'rgba(0, 0, 0, 0)',\n                    fillOpacity: fillOpacity,\n                    strokeOpacity: strokeOpacity\n                }\n            });\n        }\n    };\n    HistogramSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        if (itemId === this.yKey) {\n            this.seriesItemEnabled = enabled;\n        }\n        this.scheduleData();\n    };\n    HistogramSeries.className = 'HistogramSeries';\n    HistogramSeries.type = 'histogram';\n    __decorate([\n        reactive('dataChange')\n    ], HistogramSeries.prototype, \"fill\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], HistogramSeries.prototype, \"stroke\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], HistogramSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], HistogramSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], HistogramSeries.prototype, \"lineDash\", void 0);\n    __decorate([\n        reactive('update')\n    ], HistogramSeries.prototype, \"lineDashOffset\", void 0);\n    return HistogramSeries;\n}(CartesianSeries));\nexport { HistogramSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Path } from \"../../../scene/shape/path\";\nimport ContinuousScale from \"../../../scale/continuousScale\";\nimport { Selection } from \"../../../scene/selection\";\nimport { Group } from \"../../../scene/group\";\nimport { SeriesTooltip } from \"../series\";\nimport { numericExtent } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { CartesianSeries, CartesianSeriesMarker } from \"./cartesianSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { getMarker } from \"../../marker/util\";\nimport { reactive } from \"../../../util/observable\";\nimport { toTooltipHtml } from \"../../chart\";\nimport { interpolate } from \"../../../util/string\";\nvar LineSeriesTooltip = /** @class */ (function (_super) {\n    __extends(LineSeriesTooltip, _super);\n    function LineSeriesTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], LineSeriesTooltip.prototype, \"renderer\", void 0);\n    __decorate([\n        reactive('change')\n    ], LineSeriesTooltip.prototype, \"format\", void 0);\n    return LineSeriesTooltip;\n}(SeriesTooltip));\nexport { LineSeriesTooltip };\nvar LineSeries = /** @class */ (function (_super) {\n    __extends(LineSeries, _super);\n    function LineSeries() {\n        var _this = _super.call(this) || this;\n        _this.xDomain = [];\n        _this.yDomain = [];\n        _this.xData = [];\n        _this.yData = [];\n        _this.lineNode = new Path();\n        // We use groups for this selection even though each group only contains a marker ATM\n        // because in the future we might want to add label support as well.\n        _this.nodeSelection = Selection.select(_this.group).selectAll();\n        _this.nodeData = [];\n        _this.marker = new CartesianSeriesMarker();\n        _this.stroke = '#874349';\n        _this.lineDash = undefined;\n        _this.lineDashOffset = 0;\n        _this.strokeWidth = 2;\n        _this.strokeOpacity = 1;\n        _this.tooltip = new LineSeriesTooltip();\n        _this._xKey = '';\n        _this.xName = '';\n        _this._yKey = '';\n        _this.yName = '';\n        _this.highlightStyle = { fill: 'yellow' };\n        var lineNode = _this.lineNode;\n        lineNode.fill = undefined;\n        lineNode.lineJoin = 'round';\n        lineNode.pointerEvents = PointerEvents.None;\n        _this.group.append(lineNode);\n        _this.addEventListener('update', _this.update);\n        var marker = _this.marker;\n        marker.fill = '#c16068';\n        marker.stroke = '#874349';\n        marker.addPropertyListener('shape', _this.onMarkerShapeChange, _this);\n        marker.addPropertyListener('enabled', _this.onMarkerEnabledChange, _this);\n        marker.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    LineSeries.prototype.onMarkerShapeChange = function () {\n        this.nodeSelection = this.nodeSelection.setData([]);\n        this.nodeSelection.exit.remove();\n        this.update();\n        this.fireEvent({ type: 'legendChange' });\n    };\n    LineSeries.prototype.onMarkerEnabledChange = function (event) {\n        if (!event.value) {\n            this.nodeSelection = this.nodeSelection.setData([]);\n            this.nodeSelection.exit.remove();\n        }\n    };\n    LineSeries.prototype.setColors = function (fills, strokes) {\n        this.stroke = fills[0];\n        this.marker.stroke = strokes[0];\n        this.marker.fill = fills[0];\n    };\n    Object.defineProperty(LineSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            if (this._xKey !== value) {\n                this._xKey = value;\n                this.xData = [];\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineSeries.prototype, \"yKey\", {\n        get: function () {\n            return this._yKey;\n        },\n        set: function (value) {\n            if (this._yKey !== value) {\n                this._yKey = value;\n                this.yData = [];\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LineSeries.prototype.processData = function () {\n        var _a = this, xAxis = _a.xAxis, yAxis = _a.yAxis, xKey = _a.xKey, yKey = _a.yKey, xData = _a.xData, yData = _a.yData;\n        var data = xKey && yKey && this.data ? this.data : [];\n        if (!xAxis) {\n            return false;\n        }\n        var isContinuousX = xAxis.scale instanceof ContinuousScale;\n        var isContinuousY = yAxis.scale instanceof ContinuousScale;\n        xData.length = 0;\n        yData.length = 0;\n        for (var i = 0, n = data.length; i < n; i++) {\n            var datum = data[i];\n            var x = datum[xKey];\n            var y = datum[yKey];\n            xData.push(x);\n            yData.push(y);\n        }\n        this.xDomain = isContinuousX ? this.fixNumericExtent(numericExtent(xData), 'x') : xData;\n        this.yDomain = isContinuousY ? this.fixNumericExtent(numericExtent(yData), 'y') : yData;\n        return true;\n    };\n    LineSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xDomain;\n        }\n        return this.yDomain;\n    };\n    LineSeries.prototype.onHighlightChange = function () {\n        this.updateNodes();\n    };\n    LineSeries.prototype.update = function () {\n        this.group.visible = this.visible;\n        var _a = this, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        if (!chart || chart.layoutPending || chart.dataPending || !xAxis || !yAxis) {\n            return;\n        }\n        this.updateLinePath(); // this will generate node data too\n        this.updateNodeSelection();\n        this.updateNodes();\n    };\n    LineSeries.prototype.getXYDatums = function (i, xData, yData, xScale, yScale) {\n        var isContinuousX = xScale instanceof ContinuousScale;\n        var isContinuousY = yScale instanceof ContinuousScale;\n        var xDatum = xData[i];\n        var yDatum = yData[i];\n        var noDatum = yDatum == null || (isContinuousY && (isNaN(yDatum) || !isFinite(yDatum))) ||\n            xDatum == null || (isContinuousX && (isNaN(xDatum) || !isFinite(xDatum)));\n        return noDatum ? undefined : [xDatum, yDatum];\n    };\n    LineSeries.prototype.updateLinePath = function () {\n        if (!this.data) {\n            return;\n        }\n        var _a = this, xAxis = _a.xAxis, yAxis = _a.yAxis, data = _a.data, xData = _a.xData, yData = _a.yData, lineNode = _a.lineNode;\n        var xScale = xAxis.scale;\n        var yScale = yAxis.scale;\n        var xOffset = (xScale.bandwidth || 0) / 2;\n        var yOffset = (yScale.bandwidth || 0) / 2;\n        var linePath = lineNode.path;\n        var nodeData = [];\n        linePath.clear();\n        var moveTo = true;\n        var prevXInRange = undefined;\n        var nextXYDatums = undefined;\n        for (var i = 0; i < xData.length; i++) {\n            var xyDatums = nextXYDatums || this.getXYDatums(i, xData, yData, xScale, yScale);\n            if (!xyDatums) {\n                prevXInRange = undefined;\n                moveTo = true;\n            }\n            else {\n                var xDatum = xyDatums[0], yDatum = xyDatums[1];\n                var x = xScale.convert(xDatum) + xOffset;\n                var tolerance = (xScale.bandwidth || (this.marker.size * 0.5 + (this.marker.strokeWidth || 0))) + 1;\n                nextXYDatums = this.getXYDatums(i + 1, xData, yData, xScale, yScale);\n                var xInRange = xAxis.inRangeEx(x, 0, tolerance);\n                var nextXInRange = nextXYDatums && xAxis.inRangeEx(xScale.convert(nextXYDatums[0]) + xOffset, 0, tolerance);\n                if (xInRange === -1 && nextXInRange === -1) {\n                    moveTo = true;\n                    continue;\n                }\n                if (xInRange === 1 && prevXInRange === 1) {\n                    moveTo = true;\n                    continue;\n                }\n                prevXInRange = xInRange;\n                var y = yScale.convert(yDatum) + yOffset;\n                if (moveTo) {\n                    linePath.moveTo(x, y);\n                    moveTo = false;\n                }\n                else {\n                    linePath.lineTo(x, y);\n                }\n                nodeData.push({\n                    series: this,\n                    seriesDatum: data[i],\n                    point: { x: x, y: y }\n                });\n            }\n        }\n        lineNode.stroke = this.stroke;\n        lineNode.strokeWidth = this.strokeWidth;\n        lineNode.lineDash = this.lineDash;\n        lineNode.lineDashOffset = this.lineDashOffset;\n        lineNode.strokeOpacity = this.strokeOpacity;\n        // Used by marker nodes and for hit-testing even when not using markers\n        // when `chart.tooltipTracking` is true.\n        this.nodeData = nodeData;\n    };\n    LineSeries.prototype.updateNodeSelection = function () {\n        var marker = this.marker;\n        var nodeData = marker.shape ? this.nodeData : [];\n        var MarkerShape = getMarker(marker.shape);\n        var updateSelection = this.nodeSelection.setData(nodeData);\n        updateSelection.exit.remove();\n        var enterSelection = updateSelection.enter.append(Group);\n        enterSelection.append(MarkerShape);\n        this.nodeSelection = updateSelection.merge(enterSelection);\n    };\n    LineSeries.prototype.updateNodes = function () {\n        if (!this.chart) {\n            return;\n        }\n        var _a = this, marker = _a.marker, xKey = _a.xKey, yKey = _a.yKey, stroke = _a.stroke, strokeWidth = _a.strokeWidth;\n        var MarkerShape = getMarker(marker.shape);\n        var highlightedDatum = this.chart.highlightedDatum;\n        var _b = this.highlightStyle, highlightFill = _b.fill, highlightStroke = _b.stroke;\n        var markerFormatter = marker.formatter;\n        var markerSize = marker.size;\n        var markerStrokeWidth = marker.strokeWidth !== undefined ? marker.strokeWidth : strokeWidth;\n        this.nodeSelection.selectByClass(MarkerShape)\n            .each(function (node, datum) {\n            var highlighted = datum === highlightedDatum;\n            var markerFill = highlighted && highlightFill !== undefined ? highlightFill : marker.fill;\n            var markerStroke = highlighted && highlightStroke !== undefined ? highlightStroke : marker.stroke || stroke;\n            var markerFormat = undefined;\n            if (markerFormatter) {\n                markerFormat = markerFormatter({\n                    datum: datum.seriesDatum,\n                    xKey: xKey,\n                    yKey: yKey,\n                    fill: markerFill,\n                    stroke: markerStroke,\n                    strokeWidth: markerStrokeWidth,\n                    size: markerSize,\n                    highlighted: highlighted\n                });\n            }\n            node.fill = markerFormat && markerFormat.fill || markerFill;\n            node.stroke = markerFormat && markerFormat.stroke || markerStroke;\n            node.strokeWidth = markerFormat && markerFormat.strokeWidth !== undefined\n                ? markerFormat.strokeWidth\n                : markerStrokeWidth;\n            node.size = markerFormat && markerFormat.size !== undefined\n                ? markerFormat.size\n                : markerSize;\n            node.translationX = datum.point.x;\n            node.translationY = datum.point.y;\n            node.visible = marker.enabled && node.size > 0;\n        });\n    };\n    LineSeries.prototype.getNodeData = function () {\n        return this.nodeData;\n    };\n    LineSeries.prototype.fireNodeClickEvent = function (event, datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            event: event,\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey,\n            yKey: this.yKey\n        });\n    };\n    LineSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey;\n        if (!xKey || !yKey) {\n            return '';\n        }\n        var _b = this, xName = _b.xName, yName = _b.yName, color = _b.stroke, tooltip = _b.tooltip;\n        var _c = tooltip.renderer, tooltipRenderer = _c === void 0 ? this.tooltipRenderer : _c, tooltipFormat = tooltip.format;\n        var datum = nodeDatum.seriesDatum;\n        var xValue = datum[xKey];\n        var yValue = datum[yKey];\n        var xString = typeof xValue === 'number' ? toFixed(xValue) : String(xValue);\n        var yString = typeof yValue === 'number' ? toFixed(yValue) : String(yValue);\n        var title = this.title || yName;\n        var content = xString + ': ' + yString;\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content\n        };\n        if (tooltipFormat || tooltipRenderer) {\n            var params = {\n                datum: datum,\n                xKey: xKey,\n                xValue: xValue,\n                xName: xName,\n                yKey: yKey,\n                yValue: yValue,\n                yName: yName,\n                title: title,\n                color: color\n            };\n            if (tooltipFormat) {\n                return toTooltipHtml({\n                    content: interpolate(tooltipFormat, params)\n                }, defaults);\n            }\n            if (tooltipRenderer) {\n                return toTooltipHtml(tooltipRenderer(params), defaults);\n            }\n        }\n        return toTooltipHtml(defaults);\n    };\n    LineSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, id = _a.id, data = _a.data, xKey = _a.xKey, yKey = _a.yKey, yName = _a.yName, visible = _a.visible, title = _a.title, marker = _a.marker, stroke = _a.stroke, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length && xKey && yKey) {\n            legendData.push({\n                id: id,\n                itemId: undefined,\n                enabled: visible,\n                label: {\n                    text: title || yName || yKey\n                },\n                marker: {\n                    shape: marker.shape,\n                    fill: marker.fill || 'rgba(0, 0, 0, 0)',\n                    stroke: marker.stroke || stroke || 'rgba(0, 0, 0, 0)',\n                    fillOpacity: 1,\n                    strokeOpacity: strokeOpacity\n                }\n            });\n        }\n    };\n    LineSeries.className = 'LineSeries';\n    LineSeries.type = 'line';\n    __decorate([\n        reactive('layoutChange')\n    ], LineSeries.prototype, \"title\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"stroke\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"lineDash\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"lineDashOffset\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"xName\", void 0);\n    __decorate([\n        reactive('update')\n    ], LineSeries.prototype, \"yName\", void 0);\n    return LineSeries;\n}(CartesianSeries));\nexport { LineSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Selection } from \"../../../scene/selection\";\nimport { Group } from \"../../../scene/group\";\nimport { SeriesTooltip } from \"../series\";\nimport { finiteExtent } from \"../../../util/array\";\nimport { toFixed } from \"../../../util/number\";\nimport { LinearScale } from \"../../../scale/linearScale\";\nimport { reactive } from \"../../../util/observable\";\nimport { CartesianSeries, CartesianSeriesMarker } from \"./cartesianSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { getMarker } from \"../../marker/util\";\nimport { toTooltipHtml } from \"../../chart\";\nimport ContinuousScale from \"../../../scale/continuousScale\";\nvar ScatterSeriesTooltip = /** @class */ (function (_super) {\n    __extends(ScatterSeriesTooltip, _super);\n    function ScatterSeriesTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], ScatterSeriesTooltip.prototype, \"renderer\", void 0);\n    return ScatterSeriesTooltip;\n}(SeriesTooltip));\nexport { ScatterSeriesTooltip };\nvar ScatterSeries = /** @class */ (function (_super) {\n    __extends(ScatterSeries, _super);\n    function ScatterSeries() {\n        var _this = _super.call(this) || this;\n        _this.xDomain = [];\n        _this.yDomain = [];\n        _this.xData = [];\n        _this.yData = [];\n        _this.sizeData = [];\n        _this.sizeScale = new LinearScale();\n        _this.nodeSelection = Selection.select(_this.group).selectAll();\n        _this.nodeData = [];\n        _this.marker = new CartesianSeriesMarker();\n        _this._fill = '#c16068';\n        _this._stroke = '#874349';\n        _this._strokeWidth = 2;\n        _this._fillOpacity = 1;\n        _this._strokeOpacity = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.xKey = '';\n        _this.yKey = '';\n        _this.xName = '';\n        _this.yName = '';\n        _this.sizeName = 'Size';\n        _this.labelName = 'Label';\n        _this.tooltip = new ScatterSeriesTooltip();\n        var marker = _this.marker;\n        marker.addPropertyListener('shape', _this.onMarkerShapeChange, _this);\n        marker.addEventListener('change', _this.update, _this);\n        _this.addPropertyListener('xKey', function () { return _this.xData = []; });\n        _this.addPropertyListener('yKey', function () { return _this.yData = []; });\n        _this.addPropertyListener('sizeKey', function () { return _this.sizeData = []; });\n        return _this;\n    }\n    Object.defineProperty(ScatterSeries.prototype, \"fill\", {\n        get: function () {\n            return this._fill;\n        },\n        set: function (value) {\n            if (this._fill !== value) {\n                this._fill = value;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"stroke\", {\n        get: function () {\n            return this._stroke;\n        },\n        set: function (value) {\n            if (this._stroke !== value) {\n                this._stroke = value;\n                this.scheduleData();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"fillOpacity\", {\n        get: function () {\n            return this._fillOpacity;\n        },\n        set: function (value) {\n            if (this._fillOpacity !== value) {\n                this._fillOpacity = value;\n                this.scheduleLayout();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"strokeOpacity\", {\n        get: function () {\n            return this._strokeOpacity;\n        },\n        set: function (value) {\n            if (this._strokeOpacity !== value) {\n                this._strokeOpacity = value;\n                this.scheduleLayout();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ScatterSeries.prototype.onHighlightChange = function () {\n        this.updateNodes();\n    };\n    ScatterSeries.prototype.onMarkerShapeChange = function () {\n        this.nodeSelection = this.nodeSelection.setData([]);\n        this.nodeSelection.exit.remove();\n        this.update();\n        this.fireEvent({ type: 'legendChange' });\n    };\n    ScatterSeries.prototype.setColors = function (fills, strokes) {\n        this.fill = fills[0];\n        this.stroke = strokes[0];\n        this.marker.fill = fills[0];\n        this.marker.stroke = strokes[0];\n    };\n    ScatterSeries.prototype.processData = function () {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey, sizeKey = _a.sizeKey, xAxis = _a.xAxis, yAxis = _a.yAxis, marker = _a.marker;\n        var data = xKey && yKey && this.data ? this.data : [];\n        this.xData = data.map(function (d) { return d[xKey]; });\n        this.yData = data.map(function (d) { return d[yKey]; });\n        if (sizeKey) {\n            this.sizeData = data.map(function (d) { return d[sizeKey]; });\n        }\n        else {\n            this.sizeData = [];\n        }\n        this.sizeScale.domain = marker.domain ? marker.domain : finiteExtent(this.sizeData) || [1, 1];\n        if (xAxis.scale instanceof ContinuousScale) {\n            this.xDomain = this.fixNumericExtent(finiteExtent(this.xData), 'x');\n        }\n        else {\n            this.xDomain = this.xData;\n        }\n        if (yAxis.scale instanceof ContinuousScale) {\n            this.yDomain = this.fixNumericExtent(finiteExtent(this.yData), 'y');\n        }\n        else {\n            this.yDomain = this.yData;\n        }\n        return true;\n    };\n    ScatterSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xDomain;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    ScatterSeries.prototype.getNodeData = function () {\n        return this.nodeData;\n    };\n    ScatterSeries.prototype.fireNodeClickEvent = function (event, datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            event: event,\n            series: this,\n            datum: datum.seriesDatum,\n            xKey: this.xKey,\n            yKey: this.yKey,\n            sizeKey: this.sizeKey\n        });\n    };\n    ScatterSeries.prototype.generateNodeData = function () {\n        if (!this.data) {\n            return [];\n        }\n        var _a = this, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        var xScale = xAxis.scale;\n        var yScale = yAxis.scale;\n        var isContinuousX = xScale instanceof ContinuousScale;\n        var isContinuousY = yScale instanceof ContinuousScale;\n        var xOffset = (xScale.bandwidth || 0) / 2;\n        var yOffset = (yScale.bandwidth || 0) / 2;\n        var _b = this, data = _b.data, xData = _b.xData, yData = _b.yData, sizeData = _b.sizeData, sizeScale = _b.sizeScale, marker = _b.marker;\n        sizeScale.range = [marker.size, marker.maxSize];\n        var nodeData = [];\n        for (var i = 0; i < xData.length; i++) {\n            var xDatum = xData[i];\n            var yDatum = yData[i];\n            var noDatum = yDatum == null || (isContinuousY && (isNaN(yDatum) || !isFinite(yDatum))) ||\n                xDatum == null || (isContinuousX && (isNaN(xDatum) || !isFinite(xDatum)));\n            if (noDatum) {\n                continue;\n            }\n            var x = xScale.convert(xDatum) + xOffset;\n            if (!xAxis.inRange(x)) {\n                continue;\n            }\n            nodeData.push({\n                series: this,\n                seriesDatum: data[i],\n                point: {\n                    x: x,\n                    y: yScale.convert(yData[i]) + yOffset\n                },\n                size: sizeData.length ? sizeScale.convert(sizeData[i]) : marker.size\n            });\n        }\n        return nodeData;\n    };\n    ScatterSeries.prototype.update = function () {\n        var _a = this, visible = _a.visible, chart = _a.chart, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        this.group.visible = visible;\n        if (!visible || !chart || chart.layoutPending || chart.dataPending || !xAxis || !yAxis) {\n            return;\n        }\n        var nodeData = this.nodeData = this.generateNodeData();\n        this.updateNodeSelection(nodeData);\n        this.updateNodes();\n    };\n    ScatterSeries.prototype.updateNodeSelection = function (nodeData) {\n        var MarkerShape = getMarker(this.marker.shape);\n        var updateSelection = this.nodeSelection.setData(nodeData);\n        updateSelection.exit.remove();\n        var enterSelection = updateSelection.enter.append(Group);\n        enterSelection.append(MarkerShape);\n        this.nodeSelection = updateSelection.merge(enterSelection);\n    };\n    ScatterSeries.prototype.updateNodes = function () {\n        if (!this.chart) {\n            return;\n        }\n        var highlightedDatum = this.chart.highlightedDatum;\n        var _a = this, marker = _a.marker, xKey = _a.xKey, yKey = _a.yKey, fill = _a.fill, stroke = _a.stroke, strokeWidth = _a.strokeWidth, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        var _b = this.highlightStyle, highlightFill = _b.fill, highlightStroke = _b.stroke;\n        var markerStrokeWidth = marker.strokeWidth !== undefined ? marker.strokeWidth : strokeWidth;\n        var MarkerShape = getMarker(marker.shape);\n        var markerFormatter = marker.formatter;\n        this.nodeSelection.selectByClass(MarkerShape)\n            .each(function (node, datum) {\n            var highlighted = datum === highlightedDatum;\n            var markerFill = highlighted && highlightFill !== undefined ? highlightFill : marker.fill || fill;\n            var markerStroke = highlighted && highlightStroke !== undefined ? highlightStroke : marker.stroke || stroke;\n            var markerFormat = undefined;\n            if (markerFormatter) {\n                markerFormat = markerFormatter({\n                    datum: datum.seriesDatum,\n                    xKey: xKey,\n                    yKey: yKey,\n                    fill: markerFill,\n                    stroke: markerStroke,\n                    strokeWidth: markerStrokeWidth,\n                    size: datum.size,\n                    highlighted: highlighted\n                });\n            }\n            node.fill = markerFormat && markerFormat.fill || markerFill;\n            node.stroke = markerFormat && markerFormat.stroke || markerStroke;\n            node.strokeWidth = markerFormat && markerFormat.strokeWidth !== undefined\n                ? markerFormat.strokeWidth\n                : markerStrokeWidth;\n            node.size = markerFormat && markerFormat.size !== undefined\n                ? markerFormat.size\n                : datum.size;\n            node.fillOpacity = fillOpacity;\n            node.strokeOpacity = strokeOpacity;\n            node.translationX = datum.point.x;\n            node.translationY = datum.point.y;\n            node.visible = marker.enabled && node.size > 0;\n        });\n    };\n    ScatterSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey;\n        if (!xKey || !yKey) {\n            return '';\n        }\n        var _b = this, tooltip = _b.tooltip, xName = _b.xName, yName = _b.yName, sizeKey = _b.sizeKey, sizeName = _b.sizeName, labelKey = _b.labelKey, labelName = _b.labelName, fill = _b.fill;\n        var _c = tooltip.renderer, tooltipRenderer = _c === void 0 ? this.tooltipRenderer : _c;\n        var color = fill || 'gray';\n        var title = this.title || yName;\n        var datum = nodeDatum.seriesDatum;\n        var xValue = datum[xKey];\n        var yValue = datum[yKey];\n        var content = \"<b>\" + (xName || xKey) + \"</b>: \" + (typeof xValue === 'number' ? toFixed(xValue) : xValue)\n            + (\"<br><b>\" + (yName || yKey) + \"</b>: \" + (typeof yValue === 'number' ? toFixed(yValue) : yValue));\n        if (sizeKey) {\n            content += \"<br><b>\" + sizeName + \"</b>: \" + datum[sizeKey];\n        }\n        if (labelKey) {\n            content = \"<b>\" + labelName + \"</b>: \" + datum[labelKey] + \"<br>\" + content;\n        }\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: datum,\n                xKey: xKey,\n                xValue: xValue,\n                xName: xName,\n                yKey: yKey,\n                yValue: yValue,\n                yName: yName,\n                sizeKey: sizeKey,\n                sizeName: sizeName,\n                labelKey: labelKey,\n                labelName: labelName,\n                title: title,\n                color: color\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    };\n    ScatterSeries.prototype.listSeriesItems = function (legendData) {\n        var _a = this, id = _a.id, data = _a.data, xKey = _a.xKey, yKey = _a.yKey, yName = _a.yName, title = _a.title, visible = _a.visible, marker = _a.marker, fill = _a.fill, stroke = _a.stroke, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (data && data.length && xKey && yKey) {\n            legendData.push({\n                id: id,\n                itemId: undefined,\n                enabled: visible,\n                label: {\n                    text: title || yName || yKey\n                },\n                marker: {\n                    shape: marker.shape,\n                    fill: marker.fill || fill || 'rgba(0, 0, 0, 0)',\n                    stroke: marker.stroke || stroke || 'rgba(0, 0, 0, 0)',\n                    fillOpacity: fillOpacity,\n                    strokeOpacity: strokeOpacity\n                }\n            });\n        }\n    };\n    ScatterSeries.className = 'ScatterSeries';\n    ScatterSeries.type = 'scatter';\n    __decorate([\n        reactive('layoutChange')\n    ], ScatterSeries.prototype, \"title\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], ScatterSeries.prototype, \"xKey\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], ScatterSeries.prototype, \"yKey\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], ScatterSeries.prototype, \"sizeKey\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], ScatterSeries.prototype, \"labelKey\", void 0);\n    return ScatterSeries;\n}(CartesianSeries));\nexport { ScatterSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Series } from \"../series\";\nimport { reactive } from \"../../../util/observable\";\nvar HierarchySeries = /** @class */ (function (_super) {\n    __extends(HierarchySeries, _super);\n    function HierarchySeries() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.data = undefined;\n        return _this;\n    }\n    __decorate([\n        reactive('dataChange')\n    ], HierarchySeries.prototype, \"data\", void 0);\n    return HierarchySeries;\n}(Series));\nexport { HierarchySeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Selection } from \"../../../scene/selection\";\nimport { HdpiCanvas } from \"../../../canvas/hdpiCanvas\";\nimport { reactive } from \"../../../util/observable\";\nimport { Label } from \"../../label\";\nimport { SeriesTooltip } from \"../series\";\nimport { HierarchySeries } from \"./hierarchySeries\";\nimport { toTooltipHtml } from \"../../chart\";\nimport { Group } from \"../../../scene/group\";\nimport { Text } from \"../../../scene/shape/text\";\nimport { Rect } from \"../../../scene/shape/rect\";\nimport { DropShadow } from \"../../../scene/dropShadow\";\nimport { LinearScale } from \"../../../scale/linearScale\";\nimport { Treemap } from \"../../../layout/treemap\";\nimport { hierarchy } from \"../../../layout/hierarchy\";\nimport { toFixed } from \"../../../util/number\";\nvar TreemapSeriesTooltip = /** @class */ (function (_super) {\n    __extends(TreemapSeriesTooltip, _super);\n    function TreemapSeriesTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], TreemapSeriesTooltip.prototype, \"renderer\", void 0);\n    return TreemapSeriesTooltip;\n}(SeriesTooltip));\nexport { TreemapSeriesTooltip };\nvar TreemapSeriesLabel = /** @class */ (function (_super) {\n    __extends(TreemapSeriesLabel, _super);\n    function TreemapSeriesLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.padding = 10;\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], TreemapSeriesLabel.prototype, \"padding\", void 0);\n    return TreemapSeriesLabel;\n}(Label));\nexport { TreemapSeriesLabel };\nvar TextNodeTag;\n(function (TextNodeTag) {\n    TextNodeTag[TextNodeTag[\"Name\"] = 0] = \"Name\";\n    TextNodeTag[TextNodeTag[\"Value\"] = 1] = \"Value\";\n})(TextNodeTag || (TextNodeTag = {}));\nvar TreemapSeries = /** @class */ (function (_super) {\n    __extends(TreemapSeries, _super);\n    function TreemapSeries() {\n        var _this = _super.call(this) || this;\n        _this.groupSelection = Selection.select(_this.group).selectAll();\n        _this.labelMap = new Map();\n        _this.layout = new Treemap();\n        _this.title = (function () {\n            var label = new TreemapSeriesLabel();\n            label.fontWeight = 'bold';\n            label.fontSize = 12;\n            label.fontFamily = 'Verdana, sans-serif';\n            label.padding = 15;\n            return label;\n        })();\n        _this.subtitle = (function () {\n            var label = new TreemapSeriesLabel();\n            label.fontSize = 9;\n            label.fontFamily = 'Verdana, sans-serif';\n            label.padding = 13;\n            return label;\n        })();\n        _this.labels = {\n            large: (function () {\n                var label = new Label();\n                label.fontWeight = 'bold';\n                label.fontSize = 18;\n                return label;\n            })(),\n            medium: (function () {\n                var label = new Label();\n                label.fontWeight = 'bold';\n                label.fontSize = 14;\n                return label;\n            })(),\n            small: (function () {\n                var label = new Label();\n                label.fontWeight = 'bold';\n                label.fontSize = 10;\n                return label;\n            })(),\n            color: (function () {\n                var label = new Label();\n                label.color = 'white';\n                return label;\n            })()\n        };\n        _this._nodePadding = 2;\n        _this.labelKey = 'label';\n        _this.sizeKey = 'size';\n        _this.colorKey = 'color';\n        _this.colorDomain = [-5, 5];\n        _this.colorRange = ['#cb4b3f', '#6acb64'];\n        _this.colorParents = false;\n        _this.gradient = true;\n        _this.colorName = 'Change';\n        _this.rootName = 'Root';\n        _this._shadow = (function () {\n            var shadow = new DropShadow();\n            shadow.color = 'rgba(0, 0, 0, 0.4)';\n            shadow.xOffset = 1.5;\n            shadow.yOffset = 1.5;\n            return shadow;\n        })();\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.tooltip = new TreemapSeriesTooltip();\n        _this.shadow.addEventListener('change', _this.update, _this);\n        _this.title.addEventListener('change', _this.update, _this);\n        _this.subtitle.addEventListener('change', _this.update, _this);\n        _this.labels.small.addEventListener('change', _this.update, _this);\n        _this.labels.medium.addEventListener('change', _this.update, _this);\n        _this.labels.large.addEventListener('change', _this.update, _this);\n        _this.labels.color.addEventListener('change', _this.update, _this);\n        return _this;\n    }\n    Object.defineProperty(TreemapSeries.prototype, \"nodePadding\", {\n        get: function () {\n            return this._nodePadding;\n        },\n        set: function (value) {\n            if (this._nodePadding !== value) {\n                this._nodePadding = value;\n                this.updateLayoutPadding();\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TreemapSeries.prototype, \"shadow\", {\n        get: function () {\n            return this._shadow;\n        },\n        set: function (value) {\n            if (this._shadow !== value) {\n                this._shadow = value;\n                this.update();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TreemapSeries.prototype.onHighlightChange = function () {\n        this.updateNodes();\n    };\n    TreemapSeries.prototype.updateLayoutPadding = function () {\n        var _a = this, title = _a.title, subtitle = _a.subtitle, nodePadding = _a.nodePadding, labelKey = _a.labelKey;\n        this.layout.paddingRight = function (_) { return nodePadding; };\n        this.layout.paddingBottom = function (_) { return nodePadding; };\n        this.layout.paddingLeft = function (_) { return nodePadding; };\n        this.layout.paddingTop = function (node) {\n            var name = node.data[labelKey] || '';\n            if (node.children) {\n                name = name.toUpperCase();\n            }\n            var font = node.depth > 1 ? subtitle : title;\n            var textSize = HdpiCanvas.getTextSize(name, [font.fontWeight, font.fontSize + 'px', font.fontFamily].join(' ').trim());\n            var innerNodeWidth = node.x1 - node.x0 - nodePadding * 2;\n            var hasTitle = node.depth > 0 && node.children && textSize.width <= innerNodeWidth;\n            node.hasTitle = hasTitle;\n            return hasTitle ? textSize.height + nodePadding * 2 : nodePadding;\n        };\n    };\n    TreemapSeries.prototype.processData = function () {\n        if (!this.data) {\n            return false;\n        }\n        var _a = this, data = _a.data, sizeKey = _a.sizeKey, labelKey = _a.labelKey, colorKey = _a.colorKey, colorDomain = _a.colorDomain, colorRange = _a.colorRange, colorParents = _a.colorParents;\n        var dataRoot;\n        if (sizeKey) {\n            dataRoot = hierarchy(data).sum(function (datum) { return datum.children ? 1 : datum[sizeKey]; });\n        }\n        else {\n            dataRoot = hierarchy(data).sum(function (datum) { return datum.children ? 0 : 1; });\n        }\n        this.dataRoot = dataRoot;\n        var colorScale = new LinearScale();\n        colorScale.domain = colorDomain;\n        colorScale.range = colorRange;\n        var series = this;\n        function traverse(root, depth) {\n            if (depth === void 0) { depth = 0; }\n            var children = root.children, data = root.data;\n            var label = data[labelKey];\n            var colorValue = colorKey ? data[colorKey] : depth;\n            root.series = series;\n            root.fill = !children || colorParents ? colorScale.convert(colorValue) : '#272931';\n            root.colorValue = colorValue;\n            if (label) {\n                root.label = children ? label.toUpperCase() : label;\n            }\n            else {\n                root.label = '';\n            }\n            if (children) {\n                children.forEach(function (child) { return traverse(child, depth + 1); });\n            }\n        }\n        traverse(this.dataRoot);\n        return true;\n    };\n    TreemapSeries.prototype.getLabelCenterX = function (datum) {\n        return (datum.x0 + datum.x1) / 2;\n    };\n    TreemapSeries.prototype.getLabelCenterY = function (datum) {\n        return (datum.y0 + datum.y1) / 2 + 2;\n    };\n    TreemapSeries.prototype.update = function () {\n        var _a = this, chart = _a.chart, dataRoot = _a.dataRoot;\n        if (!chart || !dataRoot) {\n            return;\n        }\n        var seriesRect = chart.getSeriesRect();\n        if (!seriesRect) {\n            return;\n        }\n        this.layout.size = [seriesRect.width, seriesRect.height];\n        this.updateLayoutPadding();\n        var descendants = this.layout.processData(dataRoot).descendants();\n        var updateGroups = this.groupSelection.setData(descendants);\n        updateGroups.exit.remove();\n        var enterGroups = updateGroups.enter.append(Group);\n        enterGroups.append(Rect);\n        enterGroups.append(Text).each(function (node) { return node.tag = TextNodeTag.Name; });\n        enterGroups.append(Text).each(function (node) { return node.tag = TextNodeTag.Value; });\n        this.groupSelection = updateGroups.merge(enterGroups);\n        this.updateNodes();\n    };\n    TreemapSeries.prototype.updateNodes = function () {\n        var _this = this;\n        var chart = this.chart;\n        if (!chart) {\n            return;\n        }\n        var highlightedDatum = chart.highlightedDatum;\n        var _a = this.highlightStyle, highlightFill = _a.fill, highlightStroke = _a.stroke;\n        var _b = this, colorKey = _b.colorKey, labelMap = _b.labelMap, nodePadding = _b.nodePadding, title = _b.title, subtitle = _b.subtitle, labels = _b.labels, shadow = _b.shadow, gradient = _b.gradient;\n        this.groupSelection.selectByClass(Rect).each(function (rect, datum) {\n            var highlighted = datum === highlightedDatum;\n            var fill = highlighted && highlightFill !== undefined\n                ? highlightFill\n                : datum.fill;\n            var stroke = highlighted && highlightStroke !== undefined\n                ? highlightStroke\n                : datum.depth < 2 ? undefined : 'black';\n            rect.fill = fill;\n            rect.stroke = stroke;\n            rect.strokeWidth = 1;\n            rect.crisp = true;\n            rect.gradient = gradient;\n            rect.x = datum.x0;\n            rect.y = datum.y0;\n            rect.width = datum.x1 - datum.x0;\n            rect.height = datum.y1 - datum.y0;\n        });\n        this.groupSelection.selectByTag(TextNodeTag.Name).each(function (text, datum, index) {\n            var isLeaf = !datum.children;\n            var innerNodeWidth = datum.x1 - datum.x0 - nodePadding * 2;\n            var innerNodeHeight = datum.y1 - datum.y0 - nodePadding * 2;\n            var hasTitle = datum.hasTitle;\n            var highlighted = datum === highlightedDatum;\n            var label;\n            if (isLeaf) {\n                if (innerNodeWidth > 40 && innerNodeWidth > 40) {\n                    label = labels.large;\n                }\n                else if (innerNodeWidth > 20 && innerNodeHeight > 20) {\n                    label = labels.medium;\n                }\n                else {\n                    label = labels.small;\n                }\n            }\n            else {\n                if (datum.depth > 1) {\n                    label = subtitle;\n                }\n                else {\n                    label = title;\n                }\n            }\n            text.fontWeight = label.fontWeight;\n            text.fontSize = label.fontSize;\n            text.fontFamily = label.fontFamily;\n            text.textBaseline = isLeaf ? 'bottom' : (hasTitle ? 'top' : 'middle');\n            text.textAlign = hasTitle ? 'left' : 'center';\n            text.text = datum.label;\n            var textBBox = text.computeBBox();\n            var hasLabel = isLeaf && !!textBBox\n                && textBBox.width <= innerNodeWidth\n                && textBBox.height * 2 + 8 <= innerNodeHeight;\n            labelMap.set(index, text);\n            text.fill = highlighted ? 'black' : 'white';\n            text.fillShadow = hasLabel && !highlighted ? shadow : undefined;\n            text.visible = hasTitle || hasLabel;\n            if (hasTitle) {\n                text.x = datum.x0 + nodePadding;\n                text.y = datum.y0 + nodePadding;\n            }\n            else {\n                text.x = _this.getLabelCenterX(datum);\n                text.y = _this.getLabelCenterY(datum);\n            }\n        });\n        this.groupSelection.selectByTag(TextNodeTag.Value).each(function (text, datum, index) {\n            var innerNodeWidth = datum.x1 - datum.x0 - nodePadding * 2;\n            var highlighted = datum === highlightedDatum;\n            var value = datum.colorValue;\n            var label = labels.color;\n            text.fontSize = label.fontSize;\n            text.fontFamily = label.fontFamily;\n            text.fontStyle = label.fontStyle;\n            text.fontWeight = label.fontWeight;\n            text.textBaseline = 'top';\n            text.textAlign = 'center';\n            text.text = typeof value === 'number' && isFinite(value)\n                ? String(toFixed(datum.colorValue)) + '%'\n                : '';\n            var textBBox = text.computeBBox();\n            var nameNode = labelMap.get(index);\n            var hasLabel = !!nameNode && nameNode.visible;\n            var isVisible = !!colorKey && hasLabel && !!textBBox && textBBox.width < innerNodeWidth;\n            text.fill = highlighted ? 'black' : label.color;\n            text.fillShadow = highlighted ? undefined : shadow;\n            text.visible = isVisible;\n            if (isVisible) {\n                text.x = _this.getLabelCenterX(datum);\n                text.y = _this.getLabelCenterY(datum);\n            }\n            else {\n                if (nameNode && !(datum.children && datum.children.length)) {\n                    nameNode.textBaseline = 'middle';\n                    nameNode.y = _this.getLabelCenterY(datum);\n                }\n            }\n        });\n    };\n    TreemapSeries.prototype.getDomain = function (direction) {\n        return [0, 1];\n    };\n    TreemapSeries.prototype.getTooltipHtml = function (datum) {\n        var _a = this, tooltip = _a.tooltip, sizeKey = _a.sizeKey, labelKey = _a.labelKey, colorKey = _a.colorKey, colorName = _a.colorName, rootName = _a.rootName;\n        var data = datum.data;\n        var tooltipRenderer = tooltip.renderer;\n        var title = datum.depth ? data[labelKey] : (rootName || data[labelKey]);\n        var content = undefined;\n        var color = datum.fill || 'gray';\n        if (colorKey && colorName) {\n            var colorValue = data[colorKey];\n            if (typeof colorValue === 'number' && isFinite(colorValue)) {\n                content = \"<b>\" + colorName + \"</b>: \" + toFixed(data[colorKey]);\n            }\n        }\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: datum,\n                sizeKey: sizeKey,\n                labelKey: labelKey,\n                colorKey: colorKey,\n                title: title,\n                color: color\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    };\n    TreemapSeries.prototype.listSeriesItems = function (legendData) {\n    };\n    TreemapSeries.className = 'TreemapSeries';\n    TreemapSeries.type = 'treemap';\n    __decorate([\n        reactive('dataChange')\n    ], TreemapSeries.prototype, \"labelKey\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], TreemapSeries.prototype, \"sizeKey\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], TreemapSeries.prototype, \"colorKey\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], TreemapSeries.prototype, \"colorDomain\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], TreemapSeries.prototype, \"colorRange\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], TreemapSeries.prototype, \"colorParents\", void 0);\n    __decorate([\n        reactive('update')\n    ], TreemapSeries.prototype, \"gradient\", void 0);\n    return TreemapSeries;\n}(HierarchySeries));\nexport { TreemapSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../../../scene/group\";\nimport { Line } from \"../../../scene/shape/line\";\nimport { Text } from \"../../../scene/shape/text\";\nimport { Selection } from \"../../../scene/selection\";\nimport { LinearScale } from \"../../../scale/linearScale\";\nimport { Sector } from \"../../../scene/shape/sector\";\nimport { SeriesTooltip } from \"./../series\";\nimport { Label } from \"../../label\";\nimport { PointerEvents } from \"../../../scene/node\";\nimport { normalizeAngle180, toRadians } from \"../../../util/angle\";\nimport { Color } from \"../../../util/color\";\nimport { toFixed } from \"../../../util/number\";\nimport { reactive, Observable } from \"../../../util/observable\";\nimport { PolarSeries } from \"./polarSeries\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { toTooltipHtml } from \"../../chart\";\nvar PieNodeTag;\n(function (PieNodeTag) {\n    PieNodeTag[PieNodeTag[\"Sector\"] = 0] = \"Sector\";\n    PieNodeTag[PieNodeTag[\"Callout\"] = 1] = \"Callout\";\n    PieNodeTag[PieNodeTag[\"Label\"] = 2] = \"Label\";\n})(PieNodeTag || (PieNodeTag = {}));\nvar PieSeriesLabel = /** @class */ (function (_super) {\n    __extends(PieSeriesLabel, _super);\n    function PieSeriesLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.offset = 3; // from the callout line\n        _this.minAngle = 20; // in degrees\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], PieSeriesLabel.prototype, \"offset\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeriesLabel.prototype, \"minAngle\", void 0);\n    return PieSeriesLabel;\n}(Label));\nvar PieSeriesCallout = /** @class */ (function (_super) {\n    __extends(PieSeriesCallout, _super);\n    function PieSeriesCallout() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.colors = [];\n        _this.length = 10;\n        _this.strokeWidth = 1;\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], PieSeriesCallout.prototype, \"colors\", void 0);\n    __decorate([\n        reactive('change')\n    ], PieSeriesCallout.prototype, \"length\", void 0);\n    __decorate([\n        reactive('change')\n    ], PieSeriesCallout.prototype, \"strokeWidth\", void 0);\n    return PieSeriesCallout;\n}(Observable));\nvar PieSeriesTooltip = /** @class */ (function (_super) {\n    __extends(PieSeriesTooltip, _super);\n    function PieSeriesTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        reactive('change')\n    ], PieSeriesTooltip.prototype, \"renderer\", void 0);\n    return PieSeriesTooltip;\n}(SeriesTooltip));\nexport { PieSeriesTooltip };\nvar PieSeries = /** @class */ (function (_super) {\n    __extends(PieSeries, _super);\n    function PieSeries() {\n        var _this = _super.call(this) || this;\n        _this.radiusScale = new LinearScale();\n        _this.groupSelection = Selection.select(_this.group).selectAll();\n        /**\n         * The processed data that gets visualized.\n         */\n        _this.groupSelectionData = [];\n        _this.angleScale = (function () {\n            var scale = new LinearScale();\n            // Each slice is a ratio of the whole, where all ratios add up to 1.\n            scale.domain = [0, 1];\n            // Add 90 deg to start the first pie at 12 o'clock.\n            scale.range = [-Math.PI, Math.PI].map(function (angle) { return angle + Math.PI / 2; });\n            return scale;\n        })();\n        // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n        _this.seriesItemEnabled = [];\n        _this.label = new PieSeriesLabel();\n        _this.callout = new PieSeriesCallout();\n        _this.tooltip = new PieSeriesTooltip();\n        /**\n         * The key of the numeric field to use to determine the angle (for example,\n         * a pie slice angle).\n         */\n        _this.angleKey = '';\n        _this.angleName = '';\n        _this._fills = [\n            '#c16068',\n            '#a2bf8a',\n            '#ebcc87',\n            '#80a0c3',\n            '#b58dae',\n            '#85c0d1'\n        ];\n        _this._strokes = [\n            '#874349',\n            '#718661',\n            '#a48f5f',\n            '#5a7088',\n            '#7f637a',\n            '#5d8692'\n        ];\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this.lineDash = undefined;\n        _this.lineDashOffset = 0;\n        /**\n         * The series rotation in degrees.\n         */\n        _this.rotation = 0;\n        _this.outerRadiusOffset = 0;\n        _this.innerRadiusOffset = 0;\n        _this.strokeWidth = 1;\n        _this.highlightStyle = { fill: 'yellow' };\n        _this.addEventListener('update', _this.update, _this);\n        _this.label.addEventListener('change', _this.scheduleLayout, _this);\n        _this.label.addEventListener('dataChange', _this.scheduleData, _this);\n        _this.callout.addEventListener('change', _this.scheduleLayout, _this);\n        _this.callout.colors = _this.strokes;\n        _this.addPropertyListener('data', function (event) {\n            if (event.value) {\n                event.source.seriesItemEnabled = event.value.map(function () { return true; });\n            }\n        });\n        return _this;\n    }\n    Object.defineProperty(PieSeries.prototype, \"title\", {\n        get: function () {\n            return this._title;\n        },\n        set: function (value) {\n            var oldTitle = this._title;\n            if (oldTitle !== value) {\n                if (oldTitle) {\n                    oldTitle.removeEventListener('change', this.scheduleLayout);\n                    this.group.removeChild(oldTitle.node);\n                }\n                if (value) {\n                    value.node.textBaseline = 'bottom';\n                    value.addEventListener('change', this.scheduleLayout);\n                    this.group.appendChild(value.node);\n                }\n                this._title = value;\n                this.scheduleLayout();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PieSeries.prototype, \"fills\", {\n        get: function () {\n            return this._fills;\n        },\n        set: function (values) {\n            this._fills = values;\n            this.strokes = values.map(function (color) { return Color.fromString(color).darker().toHexString(); });\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PieSeries.prototype, \"strokes\", {\n        get: function () {\n            return this._strokes;\n        },\n        set: function (values) {\n            this._strokes = values;\n            this.callout.colors = values;\n            this.scheduleData();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PieSeries.prototype.onHighlightChange = function () {\n        this.updateNodes();\n    };\n    PieSeries.prototype.setColors = function (fills, strokes) {\n        this.fills = fills;\n        this.strokes = strokes;\n        this.callout.colors = strokes;\n    };\n    PieSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.angleScale.domain;\n        }\n        else {\n            return this.radiusScale.domain;\n        }\n    };\n    PieSeries.prototype.processData = function () {\n        var _this = this;\n        var _a = this, angleKey = _a.angleKey, radiusKey = _a.radiusKey, seriesItemEnabled = _a.seriesItemEnabled, angleScale = _a.angleScale, groupSelectionData = _a.groupSelectionData;\n        var data = angleKey && this.data ? this.data : [];\n        var angleData = data.map(function (datum, index) { return seriesItemEnabled[index] && Math.abs(+datum[angleKey]) || 0; });\n        var angleDataTotal = angleData.reduce(function (a, b) { return a + b; }, 0);\n        // The ratios (in [0, 1] interval) used to calculate the end angle value for every pie slice.\n        // Each slice starts where the previous one ends, so we only keep the ratios for end angles.\n        var angleDataRatios = (function () {\n            var sum = 0;\n            return angleData.map(function (datum) { return sum += datum / angleDataTotal; });\n        })();\n        var labelKey = this.label.enabled && this.labelKey;\n        var labelData = labelKey ? data.map(function (datum) { return String(datum[labelKey]); }) : [];\n        var radiusData = [];\n        if (radiusKey) {\n            var _b = this, radiusMin = _b.radiusMin, radiusMax = _b.radiusMax;\n            var radii = data.map(function (datum) { return Math.abs(datum[radiusKey]); });\n            var min_1 = radiusMin !== undefined ? radiusMin : Math.min.apply(Math, radii);\n            var max = radiusMax !== undefined ? radiusMax : Math.max.apply(Math, radii);\n            var delta_1 = max - min_1;\n            radiusData = radii.map(function (value) { return delta_1 ? (value - min_1) / delta_1 : 1; });\n        }\n        groupSelectionData.length = 0;\n        var rotation = toRadians(this.rotation);\n        var halfPi = Math.PI / 2;\n        var datumIndex = 0;\n        // Simply use reduce here to pair up adjacent ratios.\n        angleDataRatios.reduce(function (start, end) {\n            var radius = radiusKey ? radiusData[datumIndex] : 1;\n            var startAngle = angleScale.convert(start) + rotation;\n            var endAngle = angleScale.convert(end) + rotation;\n            var midAngle = (startAngle + endAngle) / 2;\n            var span = Math.abs(endAngle - startAngle);\n            var midCos = Math.cos(midAngle);\n            var midSin = Math.sin(midAngle);\n            var labelMinAngle = toRadians(_this.label.minAngle);\n            var labelVisible = labelKey && span > labelMinAngle;\n            var midAngle180 = normalizeAngle180(midAngle);\n            // Split the circle into quadrants like so: ⊗\n            var quadrantStart = -3 * Math.PI / 4; // same as `normalizeAngle180(toRadians(-135))`\n            var textAlign;\n            var textBaseline;\n            if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n                textAlign = 'center';\n                textBaseline = 'bottom';\n            }\n            else if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n                textAlign = 'left';\n                textBaseline = 'middle';\n            }\n            else if (midAngle180 >= quadrantStart && midAngle180 < (quadrantStart += halfPi)) {\n                textAlign = 'center';\n                textBaseline = 'hanging';\n            }\n            else {\n                textAlign = 'right';\n                textBaseline = 'middle';\n            }\n            groupSelectionData.push({\n                series: _this,\n                seriesDatum: data[datumIndex],\n                index: datumIndex,\n                radius: radius,\n                startAngle: startAngle,\n                endAngle: endAngle,\n                midAngle: midAngle,\n                midCos: midCos,\n                midSin: midSin,\n                label: labelVisible ? {\n                    text: labelData[datumIndex],\n                    textAlign: textAlign,\n                    textBaseline: textBaseline\n                } : undefined\n            });\n            datumIndex++;\n            return end;\n        }, 0);\n        return true;\n    };\n    PieSeries.prototype.update = function () {\n        var chart = this.chart;\n        var visible = this.group.visible = this.visible && this.seriesItemEnabled.indexOf(true) >= 0;\n        if (!visible || !chart || chart.dataPending || chart.layoutPending) {\n            return;\n        }\n        var _a = this, radius = _a.radius, innerRadiusOffset = _a.innerRadiusOffset, outerRadiusOffset = _a.outerRadiusOffset, title = _a.title;\n        this.radiusScale.range = [\n            innerRadiusOffset ? radius + innerRadiusOffset : 0,\n            radius + (outerRadiusOffset || 0)\n        ];\n        this.group.translationX = this.centerX;\n        this.group.translationY = this.centerY;\n        if (title) {\n            title.node.translationY = -radius - outerRadiusOffset - 2;\n            title.node.visible = title.enabled;\n        }\n        this.updateGroupSelection();\n        this.updateNodes();\n    };\n    PieSeries.prototype.updateGroupSelection = function () {\n        var updateGroups = this.groupSelection.setData(this.groupSelectionData);\n        updateGroups.exit.remove();\n        var enterGroups = updateGroups.enter.append(Group);\n        enterGroups.append(Sector).each(function (node) { return node.tag = PieNodeTag.Sector; });\n        enterGroups.append(Line).each(function (node) {\n            node.tag = PieNodeTag.Callout;\n            node.pointerEvents = PointerEvents.None;\n        });\n        enterGroups.append(Text).each(function (node) {\n            node.tag = PieNodeTag.Label;\n            node.pointerEvents = PointerEvents.None;\n        });\n        this.groupSelection = updateGroups.merge(enterGroups);\n    };\n    PieSeries.prototype.updateNodes = function () {\n        var _this = this;\n        if (!this.chart) {\n            return;\n        }\n        var _a = this, fills = _a.fills, strokes = _a.strokes, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity, strokeWidth = _a.strokeWidth, outerRadiusOffset = _a.outerRadiusOffset, radiusScale = _a.radiusScale, callout = _a.callout, shadow = _a.shadow, _b = _a.highlightStyle, fill = _b.fill, stroke = _b.stroke, centerOffset = _b.centerOffset, angleKey = _a.angleKey, radiusKey = _a.radiusKey, formatter = _a.formatter;\n        var highlightedDatum = this.chart.highlightedDatum;\n        var centerOffsets = [];\n        var innerRadius = radiusScale.convert(0);\n        this.groupSelection.selectByTag(PieNodeTag.Sector).each(function (sector, datum, index) {\n            var radius = radiusScale.convert(datum.radius);\n            var outerRadius = Math.max(0, radius + outerRadiusOffset);\n            var highlighted = datum === highlightedDatum;\n            var sectorFill = highlighted && fill !== undefined ? fill : fills[index % fills.length];\n            var sectorStroke = highlighted && stroke !== undefined ? stroke : strokes[index % strokes.length];\n            var format = undefined;\n            if (formatter) {\n                format = formatter({\n                    datum: datum.seriesDatum,\n                    fill: sectorFill,\n                    stroke: sectorStroke,\n                    strokeWidth: strokeWidth,\n                    highlighted: highlighted,\n                    angleKey: angleKey,\n                    radiusKey: radiusKey\n                });\n            }\n            sector.innerRadius = innerRadius;\n            sector.outerRadius = radius;\n            sector.startAngle = datum.startAngle;\n            sector.endAngle = datum.endAngle;\n            sector.fill = format && format.fill || sectorFill;\n            sector.stroke = format && format.stroke || sectorStroke;\n            sector.strokeWidth = format && format.strokeWidth !== undefined ? format.strokeWidth : strokeWidth;\n            sector.fillOpacity = fillOpacity;\n            sector.strokeOpacity = strokeOpacity;\n            sector.lineDash = _this.lineDash;\n            sector.lineDashOffset = _this.lineDashOffset;\n            sector.centerOffset = highlighted && centerOffset !== undefined ? centerOffset : 0;\n            sector.fillShadow = shadow;\n            sector.lineJoin = 'round';\n            centerOffsets.push(sector.centerOffset);\n        });\n        var calloutColors = callout.colors, calloutLength = callout.length, calloutStrokeWidth = callout.strokeWidth;\n        this.groupSelection.selectByTag(PieNodeTag.Callout).each(function (line, datum, index) {\n            if (datum.label) {\n                var radius = radiusScale.convert(datum.radius);\n                line.strokeWidth = calloutStrokeWidth;\n                line.stroke = calloutColors[index % calloutColors.length];\n                line.x1 = datum.midCos * radius;\n                line.y1 = datum.midSin * radius;\n                line.x2 = datum.midCos * (radius + calloutLength);\n                line.y2 = datum.midSin * (radius + calloutLength);\n            }\n            else {\n                line.stroke = undefined;\n            }\n        });\n        {\n            var _c = this.label, offset_1 = _c.offset, fontStyle_1 = _c.fontStyle, fontWeight_1 = _c.fontWeight, fontSize_1 = _c.fontSize, fontFamily_1 = _c.fontFamily, color_1 = _c.color;\n            this.groupSelection.selectByTag(PieNodeTag.Label).each(function (text, datum, index) {\n                var label = datum.label;\n                if (label) {\n                    var radius = radiusScale.convert(datum.radius);\n                    var labelRadius = centerOffsets[index] + radius + calloutLength + offset_1;\n                    text.fontStyle = fontStyle_1;\n                    text.fontWeight = fontWeight_1;\n                    text.fontSize = fontSize_1;\n                    text.fontFamily = fontFamily_1;\n                    text.text = label.text;\n                    text.x = datum.midCos * labelRadius;\n                    text.y = datum.midSin * labelRadius;\n                    text.fill = color_1;\n                    text.textAlign = label.textAlign;\n                    text.textBaseline = label.textBaseline;\n                }\n                else {\n                    text.fill = undefined;\n                }\n            });\n        }\n    };\n    PieSeries.prototype.fireNodeClickEvent = function (event, datum) {\n        this.fireEvent({\n            type: 'nodeClick',\n            event: event,\n            series: this,\n            datum: datum.seriesDatum,\n            angleKey: this.angleKey,\n            labelKey: this.labelKey,\n            radiusKey: this.radiusKey\n        });\n    };\n    PieSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var angleKey = this.angleKey;\n        if (!angleKey) {\n            return '';\n        }\n        var _a = this, fills = _a.fills, tooltip = _a.tooltip, angleName = _a.angleName, radiusKey = _a.radiusKey, radiusName = _a.radiusName, labelKey = _a.labelKey, labelName = _a.labelName;\n        var _b = tooltip.renderer, tooltipRenderer = _b === void 0 ? this.tooltipRenderer : _b;\n        var color = fills[nodeDatum.index % fills.length];\n        var datum = nodeDatum.seriesDatum;\n        var label = labelKey ? datum[labelKey] + \": \" : '';\n        var angleValue = datum[angleKey];\n        var formattedAngleValue = typeof angleValue === 'number' ? toFixed(angleValue) : angleValue.toString();\n        var title = this.title ? this.title.text : undefined;\n        var content = label + formattedAngleValue;\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: datum,\n                angleKey: angleKey,\n                angleValue: angleValue,\n                angleName: angleName,\n                radiusKey: radiusKey,\n                radiusValue: radiusKey ? datum[radiusKey] : undefined,\n                radiusName: radiusName,\n                labelKey: labelKey,\n                labelName: labelName,\n                title: title,\n                color: color,\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    };\n    PieSeries.prototype.listSeriesItems = function (legendData) {\n        var _this = this;\n        var _a = this, labelKey = _a.labelKey, data = _a.data;\n        if (data && data.length && labelKey) {\n            var _b = this, fills_1 = _b.fills, strokes_1 = _b.strokes, id_1 = _b.id;\n            data.forEach(function (datum, index) {\n                legendData.push({\n                    id: id_1,\n                    itemId: index,\n                    enabled: _this.seriesItemEnabled[index],\n                    label: {\n                        text: String(datum[labelKey])\n                    },\n                    marker: {\n                        fill: fills_1[index % fills_1.length],\n                        stroke: strokes_1[index % strokes_1.length],\n                        fillOpacity: _this.fillOpacity,\n                        strokeOpacity: _this.strokeOpacity\n                    }\n                });\n            });\n        }\n    };\n    PieSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        this.seriesItemEnabled[itemId] = enabled;\n        this.scheduleData();\n    };\n    PieSeries.className = 'PieSeries';\n    PieSeries.type = 'pie';\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"angleKey\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"angleName\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"radiusKey\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"radiusName\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"radiusMin\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"radiusMax\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"labelKey\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"labelName\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"lineDash\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"lineDashOffset\", void 0);\n    __decorate([\n        reactive('update')\n    ], PieSeries.prototype, \"formatter\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"rotation\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"outerRadiusOffset\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], PieSeries.prototype, \"innerRadiusOffset\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], PieSeries.prototype, \"shadow\", void 0);\n    return PieSeries;\n}(PolarSeries));\nexport { PieSeries };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from \"../series\";\nimport { ChartAxisDirection } from \"../../chartAxis\";\nimport { SeriesMarker } from \"../seriesMarker\";\nvar PolarSeries = /** @class */ (function (_super) {\n    __extends(PolarSeries, _super);\n    function PolarSeries() {\n        var _a;\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.directionKeys = (_a = {},\n            _a[ChartAxisDirection.X] = ['angleKey'],\n            _a[ChartAxisDirection.Y] = ['radiusKey'],\n            _a);\n        /**\n         * The center of the polar series (for example, the center of a pie).\n         * If the polar chart has multiple series, all of them will have their\n         * center set to the same value as a result of the polar chart layout.\n         * The center coordinates are not supposed to be set by the user.\n         */\n        _this.centerX = 0;\n        _this.centerY = 0;\n        /**\n         * The maximum radius the series can use.\n         * This value is set automatically as a result of the polar chart layout\n         * and is not supposed to be set by the user.\n         */\n        _this.radius = 0;\n        return _this;\n    }\n    return PolarSeries;\n}(Series));\nexport { PolarSeries };\nvar PolarSeriesMarker = /** @class */ (function (_super) {\n    __extends(PolarSeriesMarker, _super);\n    function PolarSeriesMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return PolarSeriesMarker;\n}(SeriesMarker));\nexport { PolarSeriesMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from \"../../scene/group\";\nimport { Observable, reactive } from \"../../util/observable\";\nimport { ChartAxisDirection } from \"../chartAxis\";\nimport { createId } from \"../../util/id\";\nvar SeriesTooltip = /** @class */ (function (_super) {\n    __extends(SeriesTooltip, _super);\n    function SeriesTooltip() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enabled = true;\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], SeriesTooltip.prototype, \"enabled\", void 0);\n    return SeriesTooltip;\n}(Observable));\nexport { SeriesTooltip };\nvar Series = /** @class */ (function (_super) {\n    __extends(Series, _super);\n    function Series() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.id = createId(_this);\n        /**\n         * The group node that contains all the nodes used to render this series.\n         */\n        _this.group = new Group();\n        _this.directions = [ChartAxisDirection.X, ChartAxisDirection.Y];\n        /**\n         * @deprecated Use {@link tooltip.enabled} instead.\n         */\n        _this.tooltipEnabled = true;\n        _this.data = undefined;\n        _this.visible = true;\n        _this.showInLegend = true;\n        _this.scheduleLayout = function () {\n            _this.fireEvent({ type: 'layoutChange' });\n        };\n        _this.scheduleData = function () {\n            _this.fireEvent({ type: 'dataChange' });\n        };\n        return _this;\n    }\n    Object.defineProperty(Series.prototype, \"type\", {\n        get: function () {\n            return this.constructor.type || '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Series.prototype.setColors = function (fills, strokes) { };\n    /**\n     * Returns the actual keys used (to fetch the values from `data` items) for the given direction.\n     */\n    Series.prototype.getKeys = function (direction) {\n        var _this = this;\n        var directionKeys = this.directionKeys;\n        var keys = directionKeys && directionKeys[direction];\n        var values = [];\n        if (keys) {\n            keys.forEach(function (key) {\n                var value = _this[key];\n                if (value) {\n                    if (Array.isArray(value)) {\n                        values.push.apply(values, value);\n                    }\n                    else {\n                        values.push(value);\n                    }\n                }\n            });\n        }\n        return values;\n    };\n    // Returns node data associated with the rendered portion of the series' data.\n    Series.prototype.getNodeData = function () {\n        return [];\n    };\n    Series.prototype.fireNodeClickEvent = function (event, datum) { };\n    Series.prototype.toggleSeriesItem = function (itemId, enabled) {\n        this.visible = enabled;\n    };\n    // Each series is expected to have its own logic to efficiently update its nodes\n    // on hightlight changes.\n    Series.prototype.onHighlightChange = function () { };\n    Series.prototype.fixNumericExtent = function (extent, type) {\n        if (!extent) {\n            // if (type) {\n            //     console.warn(`The ${type}-domain could not be found (no valid values), using the default of [0, 1].`);\n            // }\n            return [0, 1];\n        }\n        var min = extent[0], max = extent[1];\n        if (min instanceof Date) {\n            min = min.getTime();\n        }\n        if (max instanceof Date) {\n            max = max.getTime();\n        }\n        if (min === max) {\n            var padding = Math.abs(min * 0.01);\n            min -= padding;\n            max += padding;\n            // if (type) {\n            //     console.warn(`The ${type}-domain has zero length and has been automatically expanded`\n            //         + ` by 1 in each direction (from the single valid ${type}-value: ${min}).`);\n            // }\n        }\n        if (!isFinite(min) || !isFinite(max)) {\n            min = 0;\n            max = 1;\n            // if (type) {\n            //     console.warn(`The ${type}-domain has infinite length, using the default of [0, 1].`);\n            // }\n        }\n        return [min, max];\n    };\n    __decorate([\n        reactive('dataChange')\n    ], Series.prototype, \"data\", void 0);\n    __decorate([\n        reactive('dataChange')\n    ], Series.prototype, \"visible\", void 0);\n    __decorate([\n        reactive('layoutChange')\n    ], Series.prototype, \"showInLegend\", void 0);\n    return Series;\n}(Observable));\nexport { Series };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Observable, reactive } from \"../../util/observable\";\nimport { Circle } from \"../marker/circle\";\nvar SeriesMarker = /** @class */ (function (_super) {\n    __extends(SeriesMarker, _super);\n    function SeriesMarker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enabled = true;\n        /**\n         * One of the predefined marker names, or a marker constructor function (for user-defined markers).\n         * A series will create one marker instance per data point.\n         */\n        _this.shape = Circle;\n        _this.size = 6;\n        /**\n         * In case a series has the `sizeKey` set, the `sizeKey` values along with the `size` and `maxSize` configs\n         * will be used to determine the size of the marker. All values will be mapped to a marker size\n         * within the `[size, maxSize]` range, where the largest values will correspond to the `maxSize`\n         * and the lowest to the `size`.\n         */\n        _this.maxSize = 30;\n        _this.strokeWidth = 1;\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"shape\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"size\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"maxSize\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"domain\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"fill\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"stroke\", void 0);\n    __decorate([\n        reactive('change')\n    ], SeriesMarker.prototype, \"strokeWidth\", void 0);\n    return SeriesMarker;\n}(Observable));\nexport { SeriesMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Path } from \"../../scene/shape/path\";\nimport { BBox } from \"../../scene/bbox\";\nvar RangeHandle = /** @class */ (function (_super) {\n    __extends(RangeHandle, _super);\n    function RangeHandle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._fill = '#f2f2f2';\n        _this._stroke = '#999999';\n        _this._strokeWidth = 1;\n        _this._lineCap = 'square';\n        _this._centerX = 0;\n        _this._centerY = 0;\n        // Use an even number for better looking results.\n        _this._width = 8;\n        // Use an even number for better looking results.\n        _this._gripLineGap = 2;\n        // Use an even number for better looking results.\n        _this._gripLineLength = 8;\n        _this._height = 16;\n        return _this;\n    }\n    Object.defineProperty(RangeHandle.prototype, \"centerX\", {\n        get: function () {\n            return this._centerX;\n        },\n        set: function (value) {\n            if (this._centerX !== value) {\n                this._centerX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"centerY\", {\n        get: function () {\n            return this._centerY;\n        },\n        set: function (value) {\n            if (this._centerY !== value) {\n                this._centerY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"gripLineGap\", {\n        get: function () {\n            return this._gripLineGap;\n        },\n        set: function (value) {\n            if (this._gripLineGap !== value) {\n                this._gripLineGap = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"gripLineLength\", {\n        get: function () {\n            return this._gripLineLength;\n        },\n        set: function (value) {\n            if (this._gripLineLength !== value) {\n                this._gripLineLength = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeHandle.prototype.computeBBox = function () {\n        var _a = this, centerX = _a.centerX, centerY = _a.centerY, width = _a.width, height = _a.height;\n        var x = centerX - width / 2;\n        var y = centerY - height / 2;\n        return new BBox(x, y, width, height);\n    };\n    RangeHandle.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return bbox.containsPoint(point.x, point.y);\n    };\n    RangeHandle.prototype.updatePath = function () {\n        var _a = this, path = _a.path, centerX = _a.centerX, centerY = _a.centerY, width = _a.width, height = _a.height;\n        var _b = this, a = _b.alignment, al = _b.align;\n        path.clear();\n        var x = centerX - width / 2;\n        var y = centerY - height / 2;\n        var ax = al(a, x);\n        var ay = al(a, y);\n        var axw = ax + al(a, x, width);\n        var ayh = ay + al(a, y, height);\n        // Handle.\n        path.moveTo(ax, ay);\n        path.lineTo(axw, ay);\n        path.lineTo(axw, ayh);\n        path.lineTo(ax, ayh);\n        path.lineTo(ax, ay);\n        // Grip lines.\n        var dx = this.gripLineGap / 2;\n        var dy = this.gripLineLength / 2;\n        path.moveTo(al(a, centerX - dx), al(a, centerY - dy));\n        path.lineTo(al(a, centerX - dx), al(a, centerY + dy));\n        path.moveTo(al(a, centerX + dx), al(a, centerY - dy));\n        path.lineTo(al(a, centerX + dx), al(a, centerY + dy));\n    };\n    RangeHandle.className = 'RangeHandle';\n    return RangeHandle;\n}(Path));\nexport { RangeHandle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Path } from \"../../scene/shape/path\";\nimport { BBox } from \"../../scene/bbox\";\nvar RangeMask = /** @class */ (function (_super) {\n    __extends(RangeMask, _super);\n    function RangeMask() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._stroke = '#999999';\n        _this._strokeWidth = 1;\n        _this._fill = '#999999';\n        _this._fillOpacity = 0.2;\n        _this._lineCap = 'square';\n        _this._x = 0;\n        _this._y = 0;\n        _this._width = 200;\n        _this._height = 30;\n        _this.minRange = 0.05;\n        _this._min = 0;\n        _this._max = 1;\n        return _this;\n    }\n    Object.defineProperty(RangeMask.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"min\", {\n        get: function () {\n            return this._min;\n        },\n        set: function (value) {\n            value = Math.min(Math.max(value, 0), this.max - this.minRange);\n            if (isNaN(value)) {\n                return;\n            }\n            if (this._min !== value) {\n                this._min = value;\n                this.dirtyPath = true;\n                this.onRangeChange && this.onRangeChange(value, this.max);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"max\", {\n        get: function () {\n            return this._max;\n        },\n        set: function (value) {\n            value = Math.max(Math.min(value, 1), this.min + this.minRange);\n            if (isNaN(value)) {\n                return;\n            }\n            if (this._max !== value) {\n                this._max = value;\n                this.dirtyPath = true;\n                this.onRangeChange && this.onRangeChange(this.min, value);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeMask.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        return new BBox(x, y, width, height);\n    };\n    RangeMask.prototype.computeVisibleRangeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height, min = _a.min, max = _a.max;\n        var minX = x + width * min;\n        var maxX = x + width * max;\n        return new BBox(minX, y, maxX - minX, height);\n    };\n    RangeMask.prototype.updatePath = function () {\n        var _a = this, path = _a.path, x = _a.x, y = _a.y, width = _a.width, height = _a.height, min = _a.min, max = _a.max;\n        var _b = this, a = _b.alignment, al = _b.align;\n        path.clear();\n        var ax = al(a, x);\n        var ay = al(a, y);\n        var axw = ax + al(a, x, width);\n        var ayh = ay + al(a, y, height);\n        // Whole range.\n        path.moveTo(ax, ay);\n        path.lineTo(axw, ay);\n        path.lineTo(axw, ayh);\n        path.lineTo(ax, ayh);\n        path.lineTo(ax, ay);\n        var minX = al(a, x + width * min);\n        var maxX = al(a, x + width * max);\n        // Visible range.\n        path.moveTo(minX, ay);\n        path.lineTo(minX, ayh);\n        path.lineTo(maxX, ayh);\n        path.lineTo(maxX, ay);\n        path.lineTo(minX, ay);\n    };\n    RangeMask.className = 'RangeMask';\n    return RangeMask;\n}(Path));\nexport { RangeMask };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Group } from \"../../scene/group\";\nimport { RangeHandle } from \"./rangeHandle\";\nimport { RangeMask } from \"./rangeMask\";\nvar RangeSelector = /** @class */ (function (_super) {\n    __extends(RangeSelector, _super);\n    function RangeSelector() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContainerNode = true;\n        _this.minHandle = new RangeHandle();\n        _this.maxHandle = new RangeHandle();\n        _this.mask = (function () {\n            var _a = RangeSelector.defaults, x = _a.x, y = _a.y, width = _a.width, height = _a.height, min = _a.min, max = _a.max;\n            var mask = new RangeMask();\n            mask.x = x;\n            mask.y = y;\n            mask.width = width;\n            mask.height = height;\n            mask.min = min;\n            mask.max = max;\n            var _b = _this, minHandle = _b.minHandle, maxHandle = _b.maxHandle;\n            minHandle.centerX = x;\n            maxHandle.centerX = x + width;\n            minHandle.centerY = maxHandle.centerY = y + height / 2;\n            _this.append([mask, minHandle, maxHandle]);\n            mask.onRangeChange = function (min, max) {\n                _this.updateHandles();\n                _this.onRangeChange && _this.onRangeChange(min, max);\n            };\n            return mask;\n        })();\n        _this._x = RangeSelector.defaults.x;\n        _this._y = RangeSelector.defaults.y;\n        _this._width = RangeSelector.defaults.width;\n        _this._height = RangeSelector.defaults.height;\n        _this._min = RangeSelector.defaults.min;\n        _this._max = RangeSelector.defaults.max;\n        return _this;\n    }\n    Object.defineProperty(RangeSelector.prototype, \"x\", {\n        get: function () {\n            return this.mask.x;\n        },\n        set: function (value) {\n            this.mask.x = value;\n            this.updateHandles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"y\", {\n        get: function () {\n            return this.mask.y;\n        },\n        set: function (value) {\n            this.mask.y = value;\n            this.updateHandles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"width\", {\n        get: function () {\n            return this.mask.width;\n        },\n        set: function (value) {\n            this.mask.width = value;\n            this.updateHandles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"height\", {\n        get: function () {\n            return this.mask.height;\n        },\n        set: function (value) {\n            this.mask.height = value;\n            this.updateHandles();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"min\", {\n        get: function () {\n            return this.mask.min;\n        },\n        set: function (value) {\n            this.mask.min = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"max\", {\n        get: function () {\n            return this.mask.max;\n        },\n        set: function (value) {\n            this.mask.max = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RangeSelector.prototype.updateHandles = function () {\n        var _a = this, minHandle = _a.minHandle, maxHandle = _a.maxHandle, x = _a.x, y = _a.y, width = _a.width, height = _a.height, mask = _a.mask;\n        minHandle.centerX = x + width * mask.min;\n        maxHandle.centerX = x + width * mask.max;\n        minHandle.centerY = maxHandle.centerY = y + height / 2;\n    };\n    RangeSelector.prototype.computeBBox = function () {\n        return this.mask.computeBBox();\n    };\n    RangeSelector.prototype.computeVisibleRangeBBox = function () {\n        return this.mask.computeVisibleRangeBBox();\n    };\n    RangeSelector.prototype.render = function (ctx) {\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.matrix.toContext(ctx);\n        var _a = this, mask = _a.mask, minHandle = _a.minHandle, maxHandle = _a.maxHandle;\n        [mask, minHandle, maxHandle].forEach(function (child) {\n            ctx.save();\n            if (child.visible) {\n                child.render(ctx);\n            }\n            ctx.restore();\n        });\n    };\n    RangeSelector.className = 'Range';\n    RangeSelector.defaults = {\n        x: 0,\n        y: 0,\n        width: 200,\n        height: 30,\n        min: 0,\n        max: 1\n    };\n    return RangeSelector;\n}(Group));\nexport { RangeSelector };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { deepMerge, getValue, isObject } from \"../../util/object\";\nimport { copy } from \"../../util/array\";\nimport { Padding } from \"../../util/padding\";\nimport { Chart } from \"../chart\";\nvar palette = {\n    fills: [\n        '#f3622d',\n        '#fba71b',\n        '#57b757',\n        '#41a9c9',\n        '#4258c9',\n        '#9a42c8',\n        '#c84164',\n        '#888888'\n    ],\n    strokes: [\n        '#aa4520',\n        '#b07513',\n        '#3d803d',\n        '#2d768d',\n        '#2e3e8d',\n        '#6c2e8c',\n        '#8c2d46',\n        '#5f5f5f'\n    ]\n};\nvar ChartTheme = /** @class */ (function () {\n    function ChartTheme(options) {\n        var defaults = this.createChartConfigPerSeries(this.getDefaults());\n        if (isObject(options)) {\n            var mergeOptions_1 = { arrayMerge: arrayMerge };\n            options = deepMerge({}, options, mergeOptions_1);\n            var overrides_1 = options.overrides;\n            if (overrides_1) {\n                if (isObject(overrides_1.common)) {\n                    ChartTheme.seriesTypes.concat(['cartesian', 'polar']).forEach(function (seriesType) {\n                        defaults[seriesType] = deepMerge(defaults[seriesType], overrides_1.common, mergeOptions_1);\n                    });\n                }\n                if (overrides_1.cartesian) {\n                    defaults.cartesian = deepMerge(defaults.cartesian, overrides_1.cartesian, mergeOptions_1);\n                    ChartTheme.cartesianSeriesTypes.forEach(function (seriesType) {\n                        defaults[seriesType] = deepMerge(defaults[seriesType], overrides_1.cartesian, mergeOptions_1);\n                    });\n                }\n                if (overrides_1.polar) {\n                    defaults.polar = deepMerge(defaults.polar, overrides_1.polar, mergeOptions_1);\n                    ChartTheme.polarSeriesTypes.forEach(function (seriesType) {\n                        defaults[seriesType] = deepMerge(defaults[seriesType], overrides_1.polar, mergeOptions_1);\n                    });\n                }\n                ChartTheme.seriesTypes.forEach(function (seriesType) {\n                    var _a;\n                    var chartConfig = overrides_1[seriesType];\n                    if (chartConfig) {\n                        if (chartConfig.series) {\n                            chartConfig.series = (_a = {}, _a[seriesType] = chartConfig.series, _a);\n                        }\n                        defaults[seriesType] = deepMerge(defaults[seriesType], chartConfig, mergeOptions_1);\n                    }\n                });\n            }\n        }\n        this.palette = options && options.palette ? options.palette : this.getPalette();\n        this.config = Object.freeze(defaults);\n    }\n    ChartTheme.prototype.getPalette = function () {\n        return palette;\n    };\n    ChartTheme.getAxisDefaults = function () {\n        return {\n            top: {},\n            right: {},\n            bottom: {},\n            left: {},\n            title: {\n                padding: {\n                    top: 10,\n                    right: 10,\n                    bottom: 10,\n                    left: 10\n                },\n                text: 'Axis Title',\n                fontStyle: undefined,\n                fontWeight: 'bold',\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                color: 'rgb(70, 70, 70)'\n            },\n            label: {\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                padding: 5,\n                rotation: 0,\n                color: 'rgb(87, 87, 87)',\n                formatter: undefined\n            },\n            line: {\n                width: 1,\n                color: 'rgb(195, 195, 195)'\n            },\n            tick: {\n                width: 1,\n                size: 6,\n                color: 'rgb(195, 195, 195)',\n                count: 10\n            },\n            gridStyle: [{\n                    stroke: 'rgb(219, 219, 219)',\n                    lineDash: [4, 2]\n                }]\n        };\n    };\n    ChartTheme.getSeriesDefaults = function () {\n        return {\n            tooltip: {\n                enabled: true,\n                renderer: undefined,\n                format: undefined\n            },\n            visible: true,\n            showInLegend: true\n        };\n    };\n    ChartTheme.getBarSeriesDefaults = function () {\n        return __assign(__assign({}, this.getSeriesDefaults()), { flipXY: false, fillOpacity: 1, strokeOpacity: 1, xKey: '', xName: '', yKeys: [], yNames: [], grouped: false, normalizedTo: undefined, strokeWidth: 1, lineDash: undefined, lineDashOffset: 0, tooltipRenderer: undefined, highlightStyle: {\n                fill: 'yellow'\n            }, label: {\n                enabled: false,\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                color: 'rgb(70, 70, 70)',\n                formatter: undefined\n            }, shadow: {\n                enabled: false,\n                color: 'rgba(0, 0, 0, 0.5)',\n                xOffset: 3,\n                yOffset: 3,\n                blur: 5\n            } });\n    };\n    ChartTheme.getCartesianSeriesMarkerDefaults = function () {\n        return {\n            enabled: true,\n            shape: 'circle',\n            size: 6,\n            maxSize: 30,\n            strokeWidth: 1,\n            formatter: undefined\n        };\n    };\n    ChartTheme.getChartDefaults = function () {\n        return {\n            width: 600,\n            height: 300,\n            autoSize: true,\n            background: {\n                visible: true,\n                fill: 'white'\n            },\n            padding: {\n                top: 20,\n                right: 20,\n                bottom: 20,\n                left: 20\n            },\n            title: {\n                enabled: false,\n                padding: {\n                    top: 10,\n                    right: 10,\n                    bottom: 10,\n                    left: 10\n                },\n                text: 'Title',\n                fontStyle: undefined,\n                fontWeight: 'bold',\n                fontSize: 16,\n                fontFamily: this.fontFamily,\n                color: 'rgb(70, 70, 70)'\n            },\n            subtitle: {\n                enabled: false,\n                padding: {\n                    top: 10,\n                    right: 10,\n                    bottom: 10,\n                    left: 10\n                },\n                text: 'Subtitle',\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                color: 'rgb(140, 140, 140)'\n            },\n            legend: {\n                enabled: true,\n                position: 'right',\n                spacing: 20,\n                item: {\n                    paddingX: 16,\n                    paddingY: 8,\n                    marker: {\n                        shape: undefined,\n                        size: 15,\n                        strokeWidth: 1,\n                        padding: 8\n                    },\n                    label: {\n                        color: 'black',\n                        fontStyle: undefined,\n                        fontWeight: undefined,\n                        fontSize: 12,\n                        fontFamily: this.fontFamily\n                    }\n                }\n            },\n            tooltip: {\n                enabled: true,\n                tracking: true,\n                delay: 0,\n                class: Chart.defaultTooltipClass\n            }\n        };\n    };\n    ChartTheme.prototype.createChartConfigPerSeries = function (config) {\n        var typeToAliases = {\n            cartesian: ChartTheme.cartesianSeriesTypes,\n            polar: ChartTheme.polarSeriesTypes\n        };\n        var _loop_1 = function (type) {\n            typeToAliases[type].forEach(function (alias) {\n                if (!config[alias]) {\n                    config[alias] = deepMerge({}, config[type], { arrayMerge: arrayMerge });\n                }\n            });\n        };\n        for (var type in typeToAliases) {\n            _loop_1(type);\n        }\n        return config;\n    };\n    ChartTheme.prototype.getConfig = function (path) {\n        return getValue(this.config, path);\n    };\n    /**\n     * Meant to be overridden in subclasses. For example:\n     * ```\n     *     getDefaults() {\n     *         const subclassDefaults = { ... };\n     *         return this.mergeWithParentDefaults(subclassDefaults);\n     *     }\n     * ```\n     */\n    ChartTheme.prototype.getDefaults = function () {\n        return deepMerge({}, ChartTheme.defaults, { arrayMerge: arrayMerge });\n    };\n    ChartTheme.prototype.mergeWithParentDefaults = function (defaults) {\n        var mergeOptions = { arrayMerge: arrayMerge };\n        var proto = Object.getPrototypeOf(Object.getPrototypeOf(this));\n        if (proto === Object.prototype) {\n            var config = deepMerge({}, ChartTheme.defaults, mergeOptions);\n            config = deepMerge(config, defaults, mergeOptions);\n            return config;\n        }\n        var parentDefaults = proto.getDefaults();\n        return deepMerge(parentDefaults, defaults, mergeOptions);\n    };\n    ChartTheme.prototype.setSeriesColors = function (series, seriesOptions, firstColorIndex) {\n        var palette = this.palette;\n        var colorCount = this.getSeriesColorCount(seriesOptions);\n        if (colorCount === Infinity) {\n            series.setColors(palette.fills, palette.strokes);\n        }\n        else {\n            var fills = copy(palette.fills, firstColorIndex, colorCount);\n            var strokes = copy(palette.strokes, firstColorIndex, colorCount);\n            series.setColors(fills, strokes);\n            firstColorIndex += colorCount;\n        }\n        return firstColorIndex;\n    };\n    /**\n     * This would typically correspond to the number of dependent variables the series plots.\n     * If the color count is not fixed, for example it's data-dependent with one color per data point,\n     * return Infinity to fetch all unique colors and manage them in the series.\n     */\n    ChartTheme.prototype.getSeriesColorCount = function (seriesOptions) {\n        var type = seriesOptions.type;\n        switch (type) {\n            case 'bar':\n            case 'column':\n            case 'area':\n                return seriesOptions.yKeys ? seriesOptions.yKeys.length : 0;\n            case 'pie':\n                return Infinity;\n            default:\n                return 1;\n        }\n    };\n    ChartTheme.fontFamily = 'Verdana, sans-serif';\n    ChartTheme.cartesianDefaults = __assign(__assign({}, ChartTheme.getChartDefaults()), { axes: {\n            number: __assign({}, ChartTheme.getAxisDefaults()),\n            category: __assign({}, ChartTheme.getAxisDefaults()),\n            groupedCategory: __assign({}, ChartTheme.getAxisDefaults()),\n            time: __assign({}, ChartTheme.getAxisDefaults())\n        }, series: {\n            column: __assign(__assign({}, ChartTheme.getBarSeriesDefaults()), { flipXY: false }),\n            bar: __assign(__assign({}, ChartTheme.getBarSeriesDefaults()), { flipXY: true }),\n            line: __assign(__assign({}, ChartTheme.getSeriesDefaults()), { title: undefined, xKey: '', xName: '', yKey: '', yName: '', strokeWidth: 2, strokeOpacity: 1, lineDash: undefined, lineDashOffset: 0, tooltipRenderer: undefined, highlightStyle: {\n                    fill: 'yellow'\n                }, marker: __assign({}, ChartTheme.getCartesianSeriesMarkerDefaults()) }),\n            scatter: __assign(__assign({}, ChartTheme.getSeriesDefaults()), { title: undefined, xKey: '', yKey: '', sizeKey: undefined, labelKey: undefined, xName: '', yName: '', sizeName: 'Size', labelName: 'Label', strokeWidth: 2, fillOpacity: 1, strokeOpacity: 1, tooltipRenderer: undefined, highlightStyle: {\n                    fill: 'yellow'\n                }, marker: __assign({}, ChartTheme.getCartesianSeriesMarkerDefaults()) }),\n            area: __assign(__assign({}, ChartTheme.getSeriesDefaults()), { title: undefined, xKey: '', xName: '', yKeys: [], yNames: [], normalizedTo: undefined, fillOpacity: 0.8, strokeOpacity: 1, strokeWidth: 2, lineDash: undefined, lineDashOffset: 0, shadow: {\n                    enabled: false,\n                    color: 'rgba(0, 0, 0, 0.5)',\n                    xOffset: 3,\n                    yOffset: 3,\n                    blur: 5\n                }, tooltipRenderer: undefined, highlightStyle: {\n                    fill: 'yellow'\n                }, marker: __assign(__assign({}, ChartTheme.getCartesianSeriesMarkerDefaults()), { enabled: false }) }),\n            histogram: __assign(__assign({}, ChartTheme.getSeriesDefaults()), { title: undefined, xKey: '', yKey: '', xName: '', yName: '', strokeWidth: 1, fillOpacity: 1, strokeOpacity: 1, lineDash: undefined, lineDashOffset: 0, areaPlot: false, binCount: undefined, bins: undefined, aggregation: 'sum', tooltipRenderer: undefined, highlightStyle: {\n                    fill: 'yellow'\n                }, label: {\n                    enabled: false,\n                    fontStyle: undefined,\n                    fontWeight: undefined,\n                    fontSize: 12,\n                    fontFamily: ChartTheme.fontFamily,\n                    color: 'rgb(70, 70, 70)',\n                    formatter: undefined\n                } })\n        }, navigator: {\n            enabled: false,\n            height: 30,\n            min: 0,\n            max: 1,\n            mask: {\n                fill: '#999999',\n                stroke: '#999999',\n                strokeWidth: 1,\n                fillOpacity: 0.2\n            },\n            minHandle: {\n                fill: '#f2f2f2',\n                stroke: '#999999',\n                strokeWidth: 1,\n                width: 8,\n                height: 16,\n                gripLineGap: 2,\n                gripLineLength: 8\n            },\n            maxHandle: {\n                fill: '#f2f2f2',\n                stroke: '#999999',\n                strokeWidth: 1,\n                width: 8,\n                height: 16,\n                gripLineGap: 2,\n                gripLineLength: 8\n            }\n        } });\n    ChartTheme.defaults = {\n        cartesian: ChartTheme.cartesianDefaults,\n        groupedCategory: ChartTheme.cartesianDefaults,\n        polar: __assign(__assign({}, ChartTheme.getChartDefaults()), { series: {\n                pie: __assign(__assign({}, ChartTheme.getSeriesDefaults()), { title: {\n                        enabled: true,\n                        padding: new Padding(0),\n                        text: '',\n                        fontStyle: undefined,\n                        fontWeight: undefined,\n                        fontSize: 12,\n                        fontFamily: ChartTheme.fontFamily,\n                        color: 'rgb(70, 70, 70)'\n                    }, angleKey: '', angleName: '', radiusKey: undefined, radiusName: undefined, labelKey: undefined, labelName: undefined, label: {\n                        enabled: true,\n                        fontStyle: undefined,\n                        fontWeight: undefined,\n                        fontSize: 12,\n                        fontFamily: ChartTheme.fontFamily,\n                        color: 'rgb(70, 70, 70)',\n                        offset: 3,\n                        minAngle: 20\n                    }, callout: {\n                        length: 10,\n                        strokeWidth: 2\n                    }, fillOpacity: 1, strokeOpacity: 1, strokeWidth: 1, lineDash: undefined, lineDashOffset: 0, rotation: 0, outerRadiusOffset: 0, innerRadiusOffset: 0, highlightStyle: {\n                        fill: 'yellow'\n                    }, shadow: {\n                        enabled: false,\n                        color: 'rgba(0, 0, 0, 0.5)',\n                        xOffset: 3,\n                        yOffset: 3,\n                        blur: 5\n                    } })\n            } }),\n        hierarchy: __assign(__assign({}, ChartTheme.getChartDefaults()), { series: {\n                treemap: __assign({}, ChartTheme.getSeriesDefaults())\n            } })\n    };\n    ChartTheme.cartesianSeriesTypes = ['line', 'area', 'bar', 'column', 'scatter', 'histogram'];\n    ChartTheme.polarSeriesTypes = ['pie'];\n    ChartTheme.seriesTypes = ChartTheme.cartesianSeriesTypes.concat(ChartTheme.polarSeriesTypes);\n    return ChartTheme;\n}());\nexport { ChartTheme };\nfunction arrayMerge(target, source, options) {\n    return source;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { ChartTheme } from \"./chartTheme\";\nvar DarkTheme = /** @class */ (function (_super) {\n    __extends(DarkTheme, _super);\n    function DarkTheme(options) {\n        return _super.call(this, options) || this;\n    }\n    DarkTheme.prototype.getDefaults = function () {\n        var fontColor = 'rgb(200, 200, 200)';\n        var mutedFontColor = 'rgb(150, 150, 150)';\n        var axisDefaults = {\n            title: {\n                color: fontColor\n            },\n            label: {\n                color: fontColor\n            },\n            gridStyle: [{\n                    stroke: 'rgb(88, 88, 88)',\n                    lineDash: [4, 2]\n                }]\n        };\n        var seriesLabelDefaults = {\n            label: {\n                color: fontColor\n            }\n        };\n        var chartDefaults = {\n            background: {\n                fill: 'rgb(34, 38, 41)'\n            },\n            title: {\n                color: fontColor\n            },\n            subtitle: {\n                color: mutedFontColor\n            },\n            axes: {\n                number: __assign({}, axisDefaults),\n                category: __assign({}, axisDefaults),\n                time: __assign({}, axisDefaults)\n            },\n            legend: {\n                item: {\n                    label: {\n                        color: fontColor\n                    }\n                }\n            }\n        };\n        return this.mergeWithParentDefaults({\n            cartesian: __assign(__assign({}, chartDefaults), { series: {\n                    bar: __assign({}, seriesLabelDefaults),\n                    column: __assign({}, seriesLabelDefaults),\n                    histogram: __assign({}, seriesLabelDefaults)\n                } }),\n            polar: __assign(__assign({}, chartDefaults), { series: {\n                    pie: __assign(__assign({}, seriesLabelDefaults), { title: {\n                            color: fontColor\n                        } })\n                } })\n        });\n    };\n    return DarkTheme;\n}(ChartTheme));\nexport { DarkTheme };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DarkTheme } from \"./darkTheme\";\nvar palette = {\n    fills: [\n        '#f44336',\n        '#e91e63',\n        '#9c27b0',\n        '#673ab7',\n        '#3f51b5',\n        '#2196f3',\n        '#03a9f4',\n        '#00bcd4',\n        '#009688',\n        '#4caf50',\n        '#8bc34a',\n        '#cddc39',\n        '#ffeb3b',\n        '#ffc107',\n        '#ff9800',\n        '#ff5722'\n    ],\n    strokes: [\n        '#ab2f26',\n        '#a31545',\n        '#6d1b7b',\n        '#482980',\n        '#2c397f',\n        '#1769aa',\n        '#0276ab',\n        '#008494',\n        '#00695f',\n        '#357a38',\n        '#618834',\n        '#909a28',\n        '#b3a429',\n        '#b38705',\n        '#b36a00',\n        '#b33d18'\n    ]\n};\nvar MaterialDark = /** @class */ (function (_super) {\n    __extends(MaterialDark, _super);\n    function MaterialDark() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MaterialDark.prototype.getPalette = function () {\n        return palette;\n    };\n    return MaterialDark;\n}(DarkTheme));\nexport { MaterialDark };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ChartTheme } from \"./chartTheme\";\nvar palette = {\n    fills: [\n        '#f44336',\n        '#e91e63',\n        '#9c27b0',\n        '#673ab7',\n        '#3f51b5',\n        '#2196f3',\n        '#03a9f4',\n        '#00bcd4',\n        '#009688',\n        '#4caf50',\n        '#8bc34a',\n        '#cddc39',\n        '#ffeb3b',\n        '#ffc107',\n        '#ff9800',\n        '#ff5722'\n    ],\n    strokes: [\n        '#ab2f26',\n        '#a31545',\n        '#6d1b7b',\n        '#482980',\n        '#2c397f',\n        '#1769aa',\n        '#0276ab',\n        '#008494',\n        '#00695f',\n        '#357a38',\n        '#618834',\n        '#909a28',\n        '#b3a429',\n        '#b38705',\n        '#b36a00',\n        '#b33d18'\n    ]\n};\nvar MaterialLight = /** @class */ (function (_super) {\n    __extends(MaterialLight, _super);\n    function MaterialLight() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MaterialLight.prototype.getPalette = function () {\n        return palette;\n    };\n    return MaterialLight;\n}(ChartTheme));\nexport { MaterialLight };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DarkTheme } from \"./darkTheme\";\nvar palette = {\n    fills: [\n        '#c16068',\n        '#a2bf8a',\n        '#ebcc87',\n        '#80a0c3',\n        '#b58dae',\n        '#85c0d1'\n    ],\n    strokes: [\n        '#874349',\n        '#718661',\n        '#a48f5f',\n        '#5a7088',\n        '#7f637a',\n        '#5d8692'\n    ]\n};\nvar PastelDark = /** @class */ (function (_super) {\n    __extends(PastelDark, _super);\n    function PastelDark() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PastelDark.prototype.getPalette = function () {\n        return palette;\n    };\n    return PastelDark;\n}(DarkTheme));\nexport { PastelDark };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ChartTheme } from \"./chartTheme\";\nvar palette = {\n    fills: [\n        '#c16068',\n        '#a2bf8a',\n        '#ebcc87',\n        '#80a0c3',\n        '#b58dae',\n        '#85c0d1'\n    ],\n    strokes: [\n        '#874349',\n        '#718661',\n        '#a48f5f',\n        '#5a7088',\n        '#7f637a',\n        '#5d8692'\n    ]\n};\nvar PastelLight = /** @class */ (function (_super) {\n    __extends(PastelLight, _super);\n    function PastelLight() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PastelLight.prototype.getPalette = function () {\n        return palette;\n    };\n    return PastelLight;\n}(ChartTheme));\nexport { PastelLight };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DarkTheme } from \"./darkTheme\";\nvar palette = {\n    fills: [\n        '#febe76',\n        '#ff7979',\n        '#badc58',\n        '#f9ca23',\n        '#f0932b',\n        '#eb4c4b',\n        '#6ab04c',\n        '#7ed6df',\n        '#e056fd',\n        '#686de0'\n    ],\n    strokes: [\n        '#b28553',\n        '#b35555',\n        '#829a3e',\n        '#ae8d19',\n        '#a8671e',\n        '#a43535',\n        '#4a7b35',\n        '#58969c',\n        '#9d3cb1',\n        '#494c9d'\n    ]\n};\nvar SolarDark = /** @class */ (function (_super) {\n    __extends(SolarDark, _super);\n    function SolarDark() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SolarDark.prototype.getPalette = function () {\n        return palette;\n    };\n    return SolarDark;\n}(DarkTheme));\nexport { SolarDark };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ChartTheme } from \"./chartTheme\";\nvar palette = {\n    fills: [\n        '#febe76',\n        '#ff7979',\n        '#badc58',\n        '#f9ca23',\n        '#f0932b',\n        '#eb4c4b',\n        '#6ab04c',\n        '#7ed6df',\n        '#e056fd',\n        '#686de0'\n    ],\n    strokes: [\n        '#b28553',\n        '#b35555',\n        '#829a3e',\n        '#ae8d19',\n        '#a8671e',\n        '#a43535',\n        '#4a7b35',\n        '#58969c',\n        '#9d3cb1',\n        '#494c9d'\n    ]\n};\nvar SolarLight = /** @class */ (function (_super) {\n    __extends(SolarLight, _super);\n    function SolarLight() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SolarLight.prototype.getPalette = function () {\n        return palette;\n    };\n    return SolarLight;\n}(ChartTheme));\nexport { SolarLight };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DarkTheme } from \"./darkTheme\";\nvar palette = {\n    fills: [\n        '#5BC0EB',\n        '#FDE74C',\n        '#9BC53D',\n        '#E55934',\n        '#FA7921',\n        '#fa3081'\n    ],\n    strokes: [\n        '#4086a4',\n        '#b1a235',\n        '#6c8a2b',\n        '#a03e24',\n        '#af5517',\n        '#af225a'\n    ]\n};\nvar VividDark = /** @class */ (function (_super) {\n    __extends(VividDark, _super);\n    function VividDark() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VividDark.prototype.getPalette = function () {\n        return palette;\n    };\n    return VividDark;\n}(DarkTheme));\nexport { VividDark };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ChartTheme } from \"./chartTheme\";\nvar palette = {\n    fills: [\n        '#5BC0EB',\n        '#FDE74C',\n        '#9BC53D',\n        '#E55934',\n        '#FA7921',\n        '#fa3081'\n    ],\n    strokes: [\n        '#4086a4',\n        '#b1a235',\n        '#6c8a2b',\n        '#a03e24',\n        '#af5517',\n        '#af225a'\n    ]\n};\nvar VividLight = /** @class */ (function (_super) {\n    __extends(VividLight, _super);\n    function VividLight() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VividLight.prototype.getPalette = function () {\n        return palette;\n    };\n    return VividLight;\n}(ChartTheme));\nexport { VividLight };\n","import value from \"./value\";\nexport default function (a, b) {\n    var nb = b ? b.length : 0;\n    var na = a ? Math.min(nb, a.length) : 0;\n    var x = new Array(na);\n    var c = new Array(nb);\n    var i;\n    for (i = 0; i < na; ++i) {\n        x[i] = value(a[i], b[i]);\n    }\n    for (; i < nb; ++i) {\n        c[i] = b[i];\n    }\n    return function (t) {\n        for (i = 0; i < na; ++i) {\n            c[i] = x[i](t);\n        }\n        return c;\n    };\n}\n","import number from \"./number\";\nimport { Color } from \"../util/color\";\nexport default function (a, b) {\n    if (typeof a === 'string') {\n        try {\n            a = Color.fromString(a);\n        }\n        catch (e) {\n            a = Color.fromArray([0, 0, 0]);\n        }\n    }\n    if (typeof b === 'string') {\n        try {\n            b = Color.fromString(b);\n        }\n        catch (e) {\n            b = Color.fromArray([0, 0, 0]);\n        }\n    }\n    var red = number(a.r, b.r);\n    var green = number(a.g, b.g);\n    var blue = number(a.b, b.b);\n    var alpha = number(a.a, b.a);\n    return function (t) {\n        return Color.fromArray([red(t), green(t), blue(t), alpha(t)]).toRgbaString();\n    };\n}\n","export default (function (x) { return function () { return x; }; });\n","export default function (a, b) {\n    var date = new Date;\n    var msA = +a;\n    var msB = +b;\n    return function (t) {\n        date.setTime(msA * (1 - t) + msB * t);\n        return date;\n    };\n}\n","export default function (a, b) {\n    a = +a;\n    b = +b;\n    return function (t) { return a * (1 - t) + b * t; };\n}\n","import value from \"./value\";\nexport default function (a, b) {\n    var i = {};\n    var c = {};\n    var k;\n    if (a === null || typeof a !== 'object') {\n        a = {};\n    }\n    if (b === null || typeof b !== 'object') {\n        b = {};\n    }\n    for (k in b) {\n        if (k in a) {\n            i[k] = value(a[k], b[k]);\n        }\n        else {\n            c[k] = b[k];\n        }\n    }\n    return function (t) {\n        for (k in i) {\n            c[k] = i[k](t);\n        }\n        return c;\n    };\n}\n","import constant from \"./constant\";\nimport number from \"./number\";\nimport date from \"./date\";\nimport array from \"./array\";\nimport object from \"./object\";\nimport color from \"./color\";\nimport { Color } from \"../util/color\";\nexport default function (a, b) {\n    var t = typeof b;\n    var c;\n    if (b == null || t === 'boolean') {\n        return constant(b);\n    }\n    if (t === 'number') {\n        return number(a, b);\n    }\n    if (t === 'string') {\n        try {\n            c = Color.fromString(b);\n            b = c;\n            return color(a, b);\n        }\n        catch (e) {\n            // return string(a, b);\n        }\n    }\n    if (b instanceof Color) {\n        return color(a, b);\n    }\n    if (b instanceof Date) {\n        return date(a, b);\n    }\n    if (Array.isArray(b)) {\n        return array(a, b);\n    }\n    if (typeof b.valueOf !== 'function' && typeof b.toString !== 'function' || isNaN(b)) {\n        return object(a, b);\n    }\n    return number(a, b);\n}\n","var HierarchyNode = /** @class */ (function () {\n    function HierarchyNode(data) {\n        this.value = 0;\n        this.depth = 0;\n        this.height = 0;\n        this.parent = undefined;\n        this.children = undefined;\n        this.data = data;\n    }\n    HierarchyNode.prototype.countFn = function (node) {\n        var sum = 0, children = node.children;\n        if (!children || !children.length) {\n            sum = 1;\n        }\n        else {\n            var i = children.length;\n            while (--i >= 0) {\n                sum += children[i].value;\n            }\n        }\n        node.value = sum;\n    };\n    HierarchyNode.prototype.count = function () {\n        return this.eachAfter(this.countFn);\n    };\n    HierarchyNode.prototype.each = function (callback, scope) {\n        var _this = this;\n        var index = -1;\n        this.iterator(function (node) {\n            callback.call(scope, node, ++index, _this);\n        });\n        return this;\n    };\n    /**\n     * Invokes the given callback for each node in post-order traversal.\n     * @param callback\n     * @param scope\n     */\n    HierarchyNode.prototype.eachAfter = function (callback, scope) {\n        var node = this;\n        var nodes = [node];\n        var next = [];\n        while (node = nodes.pop()) {\n            next.push(node);\n            var children = node.children;\n            if (children) {\n                for (var i = 0, n = children.length; i < n; ++i) {\n                    nodes.push(children[i]);\n                }\n            }\n        }\n        var index = -1;\n        while (node = next.pop()) {\n            callback.call(scope, node, ++index, this);\n        }\n        return this;\n    };\n    /**\n     * Invokes the given callback for each node in pre-order traversal.\n     * @param callback\n     * @param scope\n     */\n    HierarchyNode.prototype.eachBefore = function (callback, scope) {\n        var node = this;\n        var nodes = [node];\n        var index = -1;\n        while (node = nodes.pop()) {\n            callback.call(scope, node, ++index, this);\n            var children = node.children;\n            if (children) {\n                for (var i = children.length - 1; i >= 0; --i) {\n                    var child = children[i];\n                    nodes.push(child);\n                }\n            }\n        }\n        return this;\n    };\n    HierarchyNode.prototype.find = function (callback, scope) {\n        var _this = this;\n        var index = -1;\n        var result;\n        this.iterator(function (node) {\n            if (callback.call(scope, node, ++index, _this)) {\n                result = node;\n                return false;\n            }\n        });\n        return result;\n    };\n    HierarchyNode.prototype.sum = function (value) {\n        return this.eachAfter(function (node) {\n            var sum = +value(node.data) || 0;\n            var children = node.children;\n            if (children) {\n                var i = children.length;\n                while (--i >= 0) {\n                    sum += children[i].value;\n                }\n            }\n            node.value = sum;\n        });\n    };\n    HierarchyNode.prototype.sort = function (compare) {\n        return this.eachBefore(function (node) {\n            if (node.children) {\n                node.children.sort(compare);\n            }\n        });\n    };\n    HierarchyNode.prototype.path = function (end) {\n        var start = this;\n        var ancestor = leastCommonAncestor(start, end);\n        var nodes = [start];\n        while (start !== ancestor) {\n            start = start.parent;\n            nodes.push(start);\n        }\n        var k = nodes.length;\n        while (end !== ancestor) {\n            nodes.splice(k, 0, end);\n            end = end.parent;\n        }\n        // const otherBranch = [];\n        // while (end !== ancestor) {\n        //     otherBranch.push(end);\n        //     end = end.parent;\n        // }\n        // nodes.concat(otherBranch.reverse());\n        return nodes;\n    };\n    HierarchyNode.prototype.ancestors = function () {\n        var node = this;\n        var nodes = [node];\n        while (node = node.parent) {\n            nodes.push(node);\n        }\n        return nodes;\n    };\n    HierarchyNode.prototype.descendants = function () {\n        var nodes = [];\n        this.iterator(function (node) { return nodes.push(node); });\n        return nodes;\n    };\n    HierarchyNode.prototype.leaves = function () {\n        var leaves = [];\n        this.eachBefore(function (node) {\n            if (!node.children) {\n                leaves.push(node);\n            }\n        });\n        return leaves;\n    };\n    HierarchyNode.prototype.links = function () {\n        var root = this;\n        var links = [];\n        root.each(function (node) {\n            if (node !== root) { // Don’t include the root’s parent, if any.\n                links.push({ source: node.parent, target: node });\n            }\n        });\n        return links;\n    };\n    HierarchyNode.prototype.copy = function () {\n        // TODO\n    };\n    HierarchyNode.prototype.iterator = function (callback) {\n        var node = this;\n        var next = [node];\n        var current;\n        doLoop: do {\n            current = next.reverse();\n            next = [];\n            while (node = current.pop()) {\n                if (callback(node) === false) {\n                    break doLoop;\n                }\n                var children = node.children;\n                if (children) {\n                    for (var i = 0, n = children.length; i < n; ++i) {\n                        next.push(children[i]);\n                    }\n                }\n            }\n        } while (next.length);\n    };\n    return HierarchyNode;\n}());\nexport { HierarchyNode };\nexport function hierarchy(data, children) {\n    if (data instanceof Map) {\n        data = [undefined, data];\n        if (children === undefined) {\n            children = mapChildren;\n        }\n    }\n    else if (children === undefined) {\n        children = objectChildren;\n    }\n    var root = new HierarchyNode(data);\n    var nodes = [root];\n    var node;\n    var child, childs, i, n;\n    while (node = nodes.pop()) {\n        if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n            node.children = childs;\n            for (i = n - 1; i >= 0; --i) {\n                nodes.push(child = childs[i] = new HierarchyNode(childs[i]));\n                child.parent = node;\n                child.depth = node.depth + 1;\n            }\n        }\n    }\n    return root.eachBefore(computeHeight);\n}\nfunction computeHeight(node) {\n    var height = 0;\n    do {\n        node.height = height;\n    } while ((node = node.parent) && (node.height < ++height));\n}\nfunction mapChildren(d) {\n    return Array.isArray(d) ? d[1] : undefined;\n}\nfunction objectChildren(d) {\n    return d.children;\n}\nfunction leastCommonAncestor(a, b) {\n    if (!(a && b)) {\n        return undefined;\n    }\n    if (a === b) {\n        return a;\n    }\n    var aNodes = a.ancestors();\n    var bNodes = b.ancestors();\n    var c = undefined;\n    a = aNodes.pop();\n    b = bNodes.pop();\n    while (a === b) {\n        c = a;\n        a = aNodes.pop();\n        b = bNodes.pop();\n    }\n    return c;\n}\n","import { find } from \"../util/array\";\n/**\n * The tree layout is calculated in abstract x/y coordinates, where the root is at (0, 0)\n * and the tree grows downward from the root.\n */\nvar TreeNode = /** @class */ (function () {\n    function TreeNode(label, parent, number) {\n        if (label === void 0) { label = ''; }\n        if (number === void 0) { number = 0; }\n        this.x = 0;\n        this.y = 0;\n        this.subtreeLeft = NaN;\n        this.subtreeRight = NaN;\n        this.screenX = 0;\n        this.screenY = 0;\n        this.children = [];\n        this.leafCount = 0;\n        this.prelim = 0;\n        this.mod = 0;\n        this.ancestor = this;\n        this.change = 0;\n        this.shift = 0;\n        this.label = label;\n        // screenX and screenY are meant to be recomputed from (layout) x and y\n        // when the tree is resized (without performing another layout)\n        this.parent = parent;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.number = number;\n    }\n    TreeNode.prototype.getLeftSibling = function () {\n        return this.number > 0 && this.parent ? this.parent.children[this.number - 1] : undefined;\n    };\n    TreeNode.prototype.getLeftmostSibling = function () {\n        return this.number > 0 && this.parent ? this.parent.children[0] : undefined;\n    };\n    // traverse the left contour of a subtree, return the successor of v on this contour\n    TreeNode.prototype.nextLeft = function () {\n        return this.children ? this.children[0] : this.thread;\n    };\n    // traverse the right contour of a subtree, return the successor of v on this contour\n    TreeNode.prototype.nextRight = function () {\n        return this.children ? this.children[this.children.length - 1] : this.thread;\n    };\n    TreeNode.prototype.getSiblings = function () {\n        var _this = this;\n        return this.parent ? this.parent.children.filter(function (_, i) { return i !== _this.number; }) : [];\n    };\n    return TreeNode;\n}());\n/**\n * Converts an array of ticks, where each tick has an array of labels, to a label tree.\n * If `pad` is `true`, will ensure that every branch matches the depth of the tree by\n * creating empty labels.\n */\nexport function ticksToTree(ticks, pad) {\n    if (pad === void 0) { pad = true; }\n    var root = new TreeNode();\n    var depth = 0;\n    if (pad) {\n        ticks.forEach(function (tick) { return depth = Math.max(depth, tick.labels.length); });\n    }\n    ticks.forEach(function (tick) {\n        if (pad) {\n            while (tick.labels.length < depth) {\n                tick.labels.unshift('');\n            }\n        }\n        insertTick(root, tick);\n    });\n    return root;\n}\nfunction insertTick(root, tick) {\n    var pathParts = tick.labels.slice().reverse(); // path elements from root to leaf label\n    var lastPartIndex = pathParts.length - 1;\n    pathParts.forEach(function (pathPart, partIndex) {\n        var children = root.children;\n        var existingNode = find(children, function (child) { return child.label === pathPart; });\n        var isNotLeaf = partIndex !== lastPartIndex;\n        if (existingNode && isNotLeaf) { // the isNotLeaf check is to allow duplicate leafs\n            root = existingNode;\n        }\n        else {\n            var node = new TreeNode(pathPart, root);\n            node.number = children.length;\n            children.push(node);\n            if (isNotLeaf) {\n                root = node;\n            }\n        }\n    });\n}\n// Shift the subtree.\nfunction moveSubtree(wm, wp, shift) {\n    var subtrees = wp.number - wm.number;\n    var ratio = shift / subtrees;\n    wp.change -= ratio;\n    wp.shift += shift;\n    wm.change += ratio;\n    wp.prelim += shift;\n    wp.mod += shift;\n}\nfunction ancestor(vim, v, defaultAncestor) {\n    return v.getSiblings().indexOf(vim.ancestor) >= 0 ? vim.ancestor : defaultAncestor;\n}\n// Spaces out the children.\nfunction executeShifts(v) {\n    var children = v.children;\n    if (children) {\n        var shift = 0;\n        var change = 0;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var w = children[i];\n            w.prelim += shift;\n            w.mod += shift;\n            change += w.change;\n            shift += w.shift + change;\n        }\n    }\n}\n// Moves current subtree with v as the root if some nodes are conflicting in space.\nfunction apportion(v, defaultAncestor, distance) {\n    var w = v.getLeftSibling();\n    if (w) {\n        var vop = v;\n        var vip = v;\n        var vim = w;\n        var vom = vip.getLeftmostSibling();\n        var sip = vip.mod;\n        var sop = vop.mod;\n        var sim = vim.mod;\n        var som = vom.mod;\n        while (vim.nextRight() && vip.nextLeft()) {\n            vim = vim.nextRight();\n            vip = vip.nextLeft();\n            vom = vom.nextLeft();\n            vop = vop.nextRight();\n            vop.ancestor = v;\n            var shift = (vim.prelim + sim) - (vip.prelim + sip) + distance;\n            if (shift > 0) {\n                moveSubtree(ancestor(vim, v, defaultAncestor), v, shift);\n                sip += shift;\n                sop += shift;\n            }\n            sim += vim.mod;\n            sip += vip.mod;\n            som += vom.mod;\n            sop += vop.mod;\n        }\n        if (vim.nextRight() && !vop.nextRight()) {\n            vop.thread = vim.nextRight();\n            vop.mod += sim - sop;\n        }\n        else {\n            if (vip.nextLeft() && !vom.nextLeft()) {\n                vom.thread = vip.nextLeft();\n                vom.mod += sip - som;\n            }\n            defaultAncestor = v;\n        }\n    }\n    return defaultAncestor;\n}\n// Compute the preliminary x-coordinate of node and its children (recursively).\nfunction firstWalk(node, distance) {\n    var children = node.children;\n    if (children.length) {\n        var defaultAncestor_1 = children[0];\n        children.forEach(function (child) {\n            firstWalk(child, distance);\n            defaultAncestor_1 = apportion(child, defaultAncestor_1, distance);\n        });\n        executeShifts(node);\n        var midpoint = (children[0].prelim + children[children.length - 1].prelim) / 2;\n        var leftSibling = node.getLeftSibling();\n        if (leftSibling) {\n            node.prelim = leftSibling.prelim + distance;\n            node.mod = node.prelim - midpoint;\n        }\n        else {\n            node.prelim = midpoint;\n        }\n    }\n    else {\n        var leftSibling = node.getLeftSibling();\n        node.prelim = leftSibling ? leftSibling.prelim + distance : 0;\n    }\n}\nvar Dimensions = /** @class */ (function () {\n    function Dimensions() {\n        this.top = Infinity;\n        this.right = -Infinity;\n        this.bottom = -Infinity;\n        this.left = Infinity;\n    }\n    Dimensions.prototype.update = function (node, xy) {\n        var _a = xy(node), x = _a.x, y = _a.y;\n        if (x > this.right) {\n            this.right = x;\n        }\n        if (x < this.left) {\n            this.left = x;\n        }\n        if (y > this.bottom) {\n            this.bottom = y;\n        }\n        if (y < this.top) {\n            this.top = y;\n        }\n    };\n    return Dimensions;\n}());\nfunction secondWalk(v, m, layout) {\n    v.x = v.prelim + m;\n    v.y = v.depth;\n    layout.update(v);\n    v.children.forEach(function (w) { return secondWalk(w, m + v.mod, layout); });\n}\n// After the second walk the parent nodes are positioned at the center of their immediate children.\n// If we want the parent nodes to be positioned at the center of the subtree for which they are roots,\n// we need a third walk to adjust the positions.\nfunction thirdWalk(v) {\n    var children = v.children;\n    var leafCount = 0;\n    children.forEach(function (w) {\n        thirdWalk(w);\n        if (w.children.length) {\n            leafCount += w.leafCount;\n        }\n        else {\n            leafCount++;\n        }\n    });\n    v.leafCount = leafCount;\n    if (children.length) {\n        v.subtreeLeft = children[0].subtreeLeft;\n        v.subtreeRight = children[v.children.length - 1].subtreeRight;\n        v.x = (v.subtreeLeft + v.subtreeRight) / 2;\n    }\n    else {\n        v.subtreeLeft = v.x;\n        v.subtreeRight = v.x;\n    }\n}\nexport function treeLayout(root) {\n    var layout = new TreeLayout;\n    firstWalk(root, 1);\n    secondWalk(root, -root.prelim, layout);\n    thirdWalk(root);\n    return layout;\n}\nvar TreeLayout = /** @class */ (function () {\n    function TreeLayout() {\n        this.dimensions = new Dimensions;\n        this.leafCount = 0;\n        this.nodes = [];\n        // One might want to process leaf nodes separately from the rest of the tree.\n        // For example, position labels corresponding to leafs vertically, rather than horizontally.\n        this.leafNodes = [];\n        this.nonLeafNodes = [];\n        this.depth = 0;\n    }\n    TreeLayout.prototype.update = function (node) {\n        this.dimensions.update(node, function (node) { return ({ x: node.x, y: node.y }); });\n        if (!node.children.length) {\n            this.leafCount++;\n            this.leafNodes.push(node);\n        }\n        else {\n            this.nonLeafNodes.push(node);\n        }\n        if (node.depth > this.depth) {\n            this.depth = node.depth;\n        }\n        this.nodes.push(node);\n    };\n    TreeLayout.prototype.resize = function (width, height, shiftX, shiftY, flipX) {\n        if (shiftX === void 0) { shiftX = 0; }\n        if (shiftY === void 0) { shiftY = 0; }\n        if (flipX === void 0) { flipX = false; }\n        var xSteps = this.leafCount - 1;\n        var ySteps = this.depth;\n        var dimensions = this.dimensions;\n        var scalingX = 1;\n        var scalingY = 1;\n        if (width > 0 && xSteps) {\n            var existingSpacingX = (dimensions.right - dimensions.left) / xSteps;\n            var desiredSpacingX = width / xSteps;\n            scalingX = desiredSpacingX / existingSpacingX;\n            if (flipX) {\n                scalingX = -scalingX;\n            }\n        }\n        if (height > 0 && ySteps) {\n            var existingSpacingY = (dimensions.bottom - dimensions.top) / ySteps;\n            var desiredSpacingY = height / ySteps;\n            scalingY = desiredSpacingY / existingSpacingY;\n        }\n        var screenDimensions = new Dimensions();\n        this.nodes.forEach(function (node) {\n            node.screenX = node.x * scalingX;\n            node.screenY = node.y * scalingY;\n            screenDimensions.update(node, function (node) { return ({ x: node.screenX, y: node.screenY }); });\n        });\n        // Normalize so that root top and leftmost leaf left start at zero.\n        var offsetX = -screenDimensions.left;\n        var offsetY = -screenDimensions.top;\n        this.nodes.forEach(function (node) {\n            node.screenX += offsetX + shiftX;\n            node.screenY += offsetY + shiftY;\n        });\n    };\n    return TreeLayout;\n}());\nexport { TreeLayout };\nfunction logTree(root, formatter) {\n    root.children.forEach(function (child) { return logTree(child, formatter); });\n    if (formatter) {\n        console.log(formatter(root));\n    }\n    else {\n        console.log(root);\n    }\n}\n","function slice(parent, x0, y0, x1, y1) {\n    var nodes = parent.children;\n    var k = parent.value && (y1 - y0) / parent.value;\n    nodes.forEach(function (node) {\n        node.x0 = x0;\n        node.x1 = x1;\n        node.y0 = y0;\n        node.y1 = y0 += node.value * k;\n    });\n}\nfunction dice(parent, x0, y0, x1, y1) {\n    var nodes = parent.children;\n    var k = parent.value && (x1 - x0) / parent.value;\n    nodes.forEach(function (node) {\n        node.x0 = x0;\n        node.x1 = x0 += node.value * k;\n        node.y0 = y0;\n        node.y1 = y1;\n    });\n}\nfunction roundNode(node) {\n    node.x0 = Math.round(node.x0);\n    node.y0 = Math.round(node.y0);\n    node.x1 = Math.round(node.x1);\n    node.y1 = Math.round(node.y1);\n}\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n    var rows = [];\n    var nodes = parent.children;\n    var n = nodes.length;\n    var value = parent.value;\n    var i0 = 0;\n    var i1 = 0;\n    var dx;\n    var dy;\n    var nodeValue;\n    var sumValue;\n    var minValue;\n    var maxValue;\n    var newRatio;\n    var minRatio;\n    var alpha;\n    var beta;\n    while (i0 < n) {\n        dx = x1 - x0;\n        dy = y1 - y0;\n        // Find the next non-empty node.\n        do {\n            sumValue = nodes[i1++].value;\n        } while (!sumValue && i1 < n);\n        minValue = maxValue = sumValue;\n        alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n        beta = sumValue * sumValue * alpha;\n        minRatio = Math.max(maxValue / beta, beta / minValue);\n        // Keep adding nodes while the aspect ratio maintains or improves.\n        for (; i1 < n; ++i1) {\n            nodeValue = nodes[i1].value;\n            sumValue += nodeValue;\n            if (nodeValue < minValue) {\n                minValue = nodeValue;\n            }\n            if (nodeValue > maxValue) {\n                maxValue = nodeValue;\n            }\n            beta = sumValue * sumValue * alpha;\n            newRatio = Math.max(maxValue / beta, beta / minValue);\n            if (newRatio > minRatio) {\n                sumValue -= nodeValue;\n                break;\n            }\n            minRatio = newRatio;\n        }\n        // Position and record the row orientation.\n        var row = {\n            value: sumValue,\n            dice: dx < dy,\n            children: nodes.slice(i0, i1)\n        };\n        rows.push(row);\n        if (row.dice) {\n            dice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n        }\n        else {\n            slice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n        }\n        value -= sumValue;\n        i0 = i1;\n    }\n    return rows;\n}\nvar phi = (1 + Math.sqrt(5)) / 2;\nvar squarify = (function custom(ratio) {\n    function squarify(parent, x0, y0, x1, y1) {\n        squarifyRatio(ratio, parent, x0, y0, x1, y1);\n    }\n    squarify.ratio = function (x) { return custom((x = +x) > 1 ? x : 1); };\n    return squarify;\n})(phi);\nvar Treemap = /** @class */ (function () {\n    function Treemap() {\n        this.paddingStack = [0];\n        this.dx = 1;\n        this.dy = 1;\n        this.round = true;\n        this.tile = squarify;\n        this.paddingInner = function (_) { return 0; };\n        this.paddingTop = function (_) { return 0; };\n        this.paddingRight = function (_) { return 0; };\n        this.paddingBottom = function (_) { return 0; };\n        this.paddingLeft = function (_) { return 0; };\n    }\n    Object.defineProperty(Treemap.prototype, \"size\", {\n        get: function () {\n            return [this.dx, this.dy];\n        },\n        set: function (size) {\n            this.dx = size[0];\n            this.dy = size[1];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Treemap.prototype.processData = function (root) {\n        root.x0 = 0;\n        root.y0 = 0;\n        root.x1 = this.dx;\n        root.y1 = this.dy;\n        root.eachBefore(this.positionNode.bind(this));\n        this.paddingStack = [0];\n        if (this.round) {\n            root.eachBefore(roundNode);\n        }\n        return root;\n    };\n    Treemap.prototype.positionNode = function (node) {\n        var p = this.paddingStack[node.depth];\n        var x0 = node.x0 + p;\n        var y0 = node.y0 + p;\n        var x1 = node.x1 - p;\n        var y1 = node.y1 - p;\n        if (x1 < x0) {\n            x0 = x1 = (x0 + x1) / 2;\n        }\n        if (y1 < y0) {\n            y0 = y1 = (y0 + y1) / 2;\n        }\n        node.x0 = x0;\n        node.y0 = y0;\n        node.x1 = x1;\n        node.y1 = y1;\n        if (node.children) {\n            p = this.paddingStack[node.depth + 1] = this.paddingInner(node) / 2;\n            x0 += this.paddingLeft(node) - p;\n            y0 += this.paddingTop(node) - p;\n            x1 -= this.paddingRight(node) - p;\n            y1 -= this.paddingBottom(node) - p;\n            if (x1 < x0) {\n                x0 = x1 = (x0 + x1) / 2;\n            }\n            if (y1 < y0) {\n                y0 = y1 = (y0 + y1) / 2;\n            }\n            this.tile(node, x0, y0, x1, y1);\n        }\n    };\n    return Treemap;\n}());\nexport { Treemap };\n","export * from \"./caption\";\nexport * from \"./chart/axis/numberAxis\";\nexport * from \"./chart/axis/categoryAxis\";\nexport * from \"./chart/axis/groupedCategoryAxis\";\nexport * from \"./chart/axis/timeAxis\";\nexport * from \"./chart/cartesianChart\";\nexport * from \"./chart/hierarchyChart\";\nexport * from \"./chart/chart\";\nexport * from \"./chart/chartAxis\";\nexport * from \"./chart/groupedCategoryChart\";\nexport * from \"./chart/polarChart\";\nexport * from \"./chart/marker/marker\";\nexport * from \"./chart/legend\";\nexport * from \"./chart/series/cartesian/areaSeries\";\nexport * from \"./chart/series/cartesian/barSeries\";\nexport * from \"./chart/series/cartesian/lineSeries\";\nexport * from \"./chart/series/cartesian/scatterSeries\";\nexport * from \"./chart/series/cartesian/histogramSeries\";\nexport * from \"./chart/series/hierarchy/treemapSeries\";\nexport * from \"./chart/series/polar/pieSeries\";\nexport * from \"./scale/bandScale\";\nexport * from \"./scale/linearScale\";\nexport * from \"./scene/clipRect\";\nexport * from \"./scene/dropShadow\";\nexport * from \"./scene/group\";\nexport * from \"./scene/scene\";\nexport * from \"./scene/shape/arc\";\nexport * from \"./scene/shape/line\";\nexport * from \"./scene/shape/path\";\nexport * from \"./scene/shape/rect\";\nexport * from \"./scene/shape/sector\";\nexport * from \"./scene/shape/shape\";\nexport * from \"./util/angle\";\nexport * from \"./util/array\";\nexport * from \"./util/padding\";\nimport { millisecond } from \"./util/time/millisecond\";\nimport { second } from \"./util/time/second\";\nimport { minute } from \"./util/time/minute\";\nimport { hour } from \"./util/time/hour\";\nimport { day } from \"./util/time/day\";\nimport { sunday, monday, tuesday, wednesday, thursday, friday, saturday } from \"./util/time/week\";\nimport { month } from \"./util/time/month\";\nimport { year } from \"./util/time/year\";\nimport { utcMinute } from \"./util/time/utcMinute\";\nimport { utcHour } from \"./util/time/utcHour\";\nimport { utcDay } from \"./util/time/utcDay\";\nimport { utcMonth } from \"./util/time/utcMonth\";\nimport { utcYear } from \"./util/time/utcYear\";\nexport var time = {\n    millisecond: millisecond,\n    second: second,\n    minute: minute,\n    hour: hour,\n    day: day,\n    sunday: sunday, monday: monday, tuesday: tuesday, wednesday: wednesday, thursday: thursday, friday: friday, saturday: saturday,\n    month: month,\n    year: year,\n    utcMinute: utcMinute,\n    utcHour: utcHour,\n    utcDay: utcDay,\n    utcMonth: utcMonth,\n    utcYear: utcYear\n};\nexport * from \"./chart/agChart\";\nexport * from \"./chart/themes/chartTheme\";\n","/**\n * Maps a discrete domain to a continuous numeric range.\n * See https://github.com/d3/d3-scale#band-scales for more info.\n */\nvar BandScale = /** @class */ (function () {\n    function BandScale() {\n        /**\n         * Maps datum to its index in the {@link domain} array.\n         * Used to check for duplicate datums (not allowed).\n         */\n        this.index = new Map();\n        /**\n         * The output range values for datum at each index.\n         */\n        this.ordinalRange = [];\n        /**\n         * Contains unique datums only. Since `{}` is used in place of `Map`\n         * for IE11 compatibility, the datums are converted `toString` before\n         * the uniqueness check.\n         */\n        this._domain = [];\n        this._range = [0, 1];\n        this._bandwidth = 1;\n        /**\n         * The ratio of the range that is reserved for space between bands.\n         */\n        this._paddingInner = 0;\n        /**\n         * The ratio of the range that is reserved for space before the first\n         * and after the last band.\n         */\n        this._paddingOuter = 0;\n        this._round = false;\n        /**\n         * How the leftover range is distributed.\n         * `0.5` - equal distribution of space before the first and after the last band,\n         * with bands effectively centered within the range.\n         */\n        this._align = 0.5;\n    }\n    Object.defineProperty(BandScale.prototype, \"domain\", {\n        get: function () {\n            return this._domain;\n        },\n        set: function (values) {\n            var domain = this._domain;\n            domain.length = 0;\n            this.index = new Map();\n            var index = this.index;\n            // In case one wants to have duplicate domain values, for example, two 'Italy' categories,\n            // one should use objects rather than strings for domain values like so:\n            // { toString: () => 'Italy' }\n            // { toString: () => 'Italy' }\n            values.forEach(function (value) {\n                if (index.get(value) === undefined) {\n                    index.set(value, domain.push(value) - 1);\n                }\n            });\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"range\", {\n        get: function () {\n            return this._range;\n        },\n        set: function (values) {\n            this._range[0] = values[0];\n            this._range[1] = values[1];\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BandScale.prototype.ticks = function () {\n        return this._domain;\n    };\n    BandScale.prototype.convert = function (d) {\n        var i = this.index.get(d);\n        if (i === undefined) {\n            return NaN;\n        }\n        var r = this.ordinalRange[i];\n        if (r === undefined) {\n            return NaN;\n        }\n        return r;\n    };\n    Object.defineProperty(BandScale.prototype, \"bandwidth\", {\n        get: function () {\n            return this._bandwidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"padding\", {\n        get: function () {\n            return this._paddingInner;\n        },\n        set: function (value) {\n            value = Math.max(0, Math.min(1, value));\n            this._paddingInner = value;\n            this._paddingOuter = value;\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"paddingInner\", {\n        get: function () {\n            return this._paddingInner;\n        },\n        set: function (value) {\n            this._paddingInner = Math.max(0, Math.min(1, value)); // [0, 1]\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"paddingOuter\", {\n        get: function () {\n            return this._paddingOuter;\n        },\n        set: function (value) {\n            this._paddingOuter = Math.max(0, Math.min(1, value)); // [0, 1]\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"round\", {\n        get: function () {\n            return this._round;\n        },\n        set: function (value) {\n            this._round = value;\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"align\", {\n        get: function () {\n            return this._align;\n        },\n        set: function (value) {\n            this._align = Math.max(0, Math.min(1, value)); // [0, 1]\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BandScale.prototype.rescale = function () {\n        var _a;\n        var n = this._domain.length;\n        if (!n) {\n            return;\n        }\n        var _b = this._range, a = _b[0], b = _b[1];\n        var reversed = b < a;\n        if (reversed) {\n            _a = [b, a], a = _a[0], b = _a[1];\n        }\n        var step = (b - a) / Math.max(1, n - this._paddingInner + this._paddingOuter * 2);\n        if (this._round) {\n            step = Math.floor(step);\n        }\n        a += (b - a - step * (n - this._paddingInner)) * this._align;\n        this._bandwidth = step * (1 - this._paddingInner);\n        if (this._round) {\n            a = Math.round(a);\n            this._bandwidth = Math.round(this._bandwidth);\n        }\n        var values = [];\n        for (var i = 0; i < n; i++) {\n            values.push(a + step * i);\n        }\n        this.ordinalRange = reversed ? values.reverse() : values;\n    };\n    return BandScale;\n}());\nexport { BandScale };\n","import interpolateValue from \"../interpolate/value\";\nimport interpolateNumber from \"../interpolate/number\";\nimport { bisectRight } from \"../util/bisect\";\nimport { ascending } from \"../util/compare\";\nexport var constant = function (x) { return function () { return x; }; };\nexport var identity = function (x) { return x; };\nfunction clamper(domain) {\n    var _a;\n    var a = domain[0];\n    var b = domain[domain.length - 1];\n    if (a > b) {\n        _a = [b, a], a = _a[0], b = _a[1];\n    }\n    return function (x) { return Math.max(a, Math.min(b, x)); };\n}\nvar ContinuousScale = /** @class */ (function () {\n    function ContinuousScale() {\n        /**\n         * The output value of the scale for `undefined` or `NaN` input values.\n         */\n        this.unknown = undefined;\n        this._clamp = identity;\n        this._domain = [0, 1];\n        this._range = [0, 1];\n        this.transform = identity; // transforms domain value\n        this.untransform = identity; // untransforms domain value\n        this._interpolate = interpolateValue;\n        this.rescale();\n    }\n    Object.defineProperty(ContinuousScale.prototype, \"clamp\", {\n        get: function () {\n            return this._clamp !== identity;\n        },\n        set: function (value) {\n            this._clamp = value ? clamper(this.domain) : identity;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ContinuousScale.prototype.setDomain = function (values) {\n        this._domain = Array.prototype.map.call(values, function (v) { return +v; });\n        if (this._clamp !== identity) {\n            this._clamp = clamper(this.domain);\n        }\n        this.rescale();\n    };\n    ContinuousScale.prototype.getDomain = function () {\n        return this._domain.slice();\n    };\n    Object.defineProperty(ContinuousScale.prototype, \"domain\", {\n        get: function () {\n            return this.getDomain();\n        },\n        set: function (values) {\n            this.setDomain(values);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ContinuousScale.prototype, \"range\", {\n        get: function () {\n            return this._range.slice();\n        },\n        set: function (values) {\n            this._range = Array.prototype.slice.call(values);\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ContinuousScale.prototype, \"interpolate\", {\n        get: function () {\n            return this._interpolate;\n        },\n        set: function (value) {\n            this._interpolate = value;\n            this.rescale();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ContinuousScale.prototype.rescale = function () {\n        if (Math.min(this.domain.length, this.range.length) > 2) {\n            this.piecewise = this.polymap;\n        }\n        else {\n            this.piecewise = this.bimap;\n        }\n        this.output = undefined;\n        this.input = undefined;\n    };\n    /**\n     * Returns a function that converts `x` in `[a, b]` to `t` in `[0, 1]`. Non-clamping.\n     * @param a\n     * @param b\n     */\n    ContinuousScale.prototype.normalize = function (a, b) {\n        return (b -= (a = +a))\n            ? function (x) { return (x - a) / b; }\n            : constant(isNaN(b) ? NaN : 0.5);\n    };\n    ContinuousScale.prototype.bimap = function (domain, range, interpolate) {\n        var x0 = domain[0];\n        var x1 = domain[1];\n        var y0 = range[0];\n        var y1 = range[1];\n        var xt;\n        var ty;\n        if (x1 < x0) {\n            xt = this.normalize(x1, x0);\n            ty = interpolate(y1, y0);\n        }\n        else {\n            xt = this.normalize(x0, x1);\n            ty = interpolate(y0, y1);\n        }\n        return function (x) { return ty(xt(x)); }; // domain value x --> t in [0, 1] --> range value y\n    };\n    ContinuousScale.prototype.polymap = function (domain, range, interpolate) {\n        var _this = this;\n        // number of segments in the polylinear scale\n        var n = Math.min(domain.length, range.length) - 1;\n        if (domain[n] < domain[0]) {\n            domain = domain.slice().reverse();\n            range = range.slice().reverse();\n        }\n        // deinterpolators from domain segment value to t\n        var dt = Array.from({ length: n }, function (_, i) { return _this.normalize(domain[i], domain[i + 1]); });\n        // reinterpolators from t to range segment value\n        var tr = Array.from({ length: n }, function (_, i) { return interpolate(range[i], range[i + 1]); });\n        return function (x) {\n            var i = bisectRight(domain, x, ascending, 1, n) - 1; // Find the domain segment that `x` belongs to.\n            // This also tells us which deinterpolator/reinterpolator pair to use.\n            return tr[i](dt[i](x));\n        };\n    };\n    ContinuousScale.prototype.convert = function (x) {\n        x = +x;\n        if (isNaN(x)) {\n            return this.unknown;\n        }\n        else {\n            if (!this.output) {\n                this.output = this.piecewise(this.domain.map(this.transform), this.range, this.interpolate);\n            }\n            return this.output(this.transform(this._clamp(x)));\n        }\n    };\n    ContinuousScale.prototype.invert = function (y) {\n        if (!this.input) {\n            this.input = this.piecewise(this.range, this.domain.map(this.transform), interpolateNumber);\n        }\n        return this._clamp(this.untransform(this.input(y)));\n    };\n    return ContinuousScale;\n}());\nexport default ContinuousScale;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport ContinuousScale from \"./continuousScale\";\nimport ticks, { tickIncrement } from \"../util/ticks\";\n/**\n * Maps continuous domain to a continuous range.\n */\nvar LinearScale = /** @class */ (function (_super) {\n    __extends(LinearScale, _super);\n    function LinearScale() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LinearScale.prototype.ticks = function (count) {\n        if (count === void 0) { count = 10; }\n        var d = this._domain;\n        return ticks(d[0], d[d.length - 1], count);\n    };\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     * @param count Tick count.\n     */\n    LinearScale.prototype.nice = function (count) {\n        if (count === void 0) { count = 10; }\n        var d = this.domain;\n        var i0 = 0;\n        var i1 = d.length - 1;\n        var start = d[i0];\n        var stop = d[i1];\n        var step;\n        if (stop < start) {\n            step = start;\n            start = stop;\n            stop = step;\n            step = i0;\n            i0 = i1;\n            i1 = step;\n        }\n        step = tickIncrement(start, stop, count);\n        if (step > 0) {\n            start = Math.floor(start / step) * step;\n            stop = Math.ceil(stop / step) * step;\n            step = tickIncrement(start, stop, count);\n        }\n        else if (step < 0) {\n            start = Math.ceil(start * step) / step;\n            stop = Math.floor(stop * step) / step;\n            step = tickIncrement(start, stop, count);\n        }\n        if (step > 0) {\n            d[i0] = Math.floor(start / step) * step;\n            d[i1] = Math.ceil(stop / step) * step;\n            this.domain = d;\n        }\n        else if (step < 0) {\n            d[i0] = Math.ceil(start * step) / step;\n            d[i1] = Math.floor(stop * step) / step;\n            this.domain = d;\n        }\n    };\n    return LinearScale;\n}(ContinuousScale));\nexport { LinearScale };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport ContinuousScale from \"./continuousScale\";\nimport timeMillisecond from \"../util/time/millisecond\";\nimport timeSecond from \"../util/time/second\";\nimport timeMinute from \"../util/time/minute\";\nimport timeHour from \"../util/time/hour\";\nimport timeDay from \"../util/time/day\";\nimport timeWeek from \"../util/time/week\";\nimport timeMonth from \"../util/time/month\";\nimport timeYear from \"../util/time/year\";\nimport { durationSecond, durationMinute, durationHour, durationDay, durationWeek, durationMonth, durationYear } from \"../util/time/duration\";\nimport { complexBisectRight } from \"../util/bisect\";\nimport { tickStep } from \"../util/ticks\";\nimport { locale } from \"../util/time/format/defaultLocale\";\nvar TimeScale = /** @class */ (function (_super) {\n    __extends(TimeScale, _super);\n    function TimeScale() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.year = timeYear;\n        _this.month = timeMonth;\n        _this.week = timeWeek;\n        _this.day = timeDay;\n        _this.hour = timeHour;\n        _this.minute = timeMinute;\n        _this.second = timeSecond;\n        _this.millisecond = timeMillisecond;\n        _this.format = locale.format;\n        /**\n         * Array of default tick intervals in the following format:\n         *\n         *     [\n         *         interval (unit of time),\n         *         number of units (step),\n         *         the length of that number of units in milliseconds\n         *     ]\n         */\n        _this.tickIntervals = [\n            [_this.second, 1, durationSecond],\n            [_this.second, 5, 5 * durationSecond],\n            [_this.second, 15, 15 * durationSecond],\n            [_this.second, 30, 30 * durationSecond],\n            [_this.minute, 1, durationMinute],\n            [_this.minute, 5, 5 * durationMinute],\n            [_this.minute, 15, 15 * durationMinute],\n            [_this.minute, 30, 30 * durationMinute],\n            [_this.hour, 1, durationHour],\n            [_this.hour, 3, 3 * durationHour],\n            [_this.hour, 6, 6 * durationHour],\n            [_this.hour, 12, 12 * durationHour],\n            [_this.day, 1, durationDay],\n            [_this.day, 2, 2 * durationDay],\n            [_this.week, 1, durationWeek],\n            [_this.month, 1, durationMonth],\n            [_this.month, 3, 3 * durationMonth],\n            [_this.year, 1, durationYear]\n        ];\n        _this.formatMillisecond = _this.format('.%L');\n        _this.formatSecond = _this.format(':%S');\n        _this.formatMinute = _this.format('%I:%M');\n        _this.formatHour = _this.format('%I %p');\n        _this.formatDay = _this.format('%a %d');\n        _this.formatWeek = _this.format('%b %d');\n        _this.formatMonth = _this.format('%B');\n        _this.formatYear = _this.format('%Y');\n        _this._domain = [new Date(2000, 0, 1), new Date(2000, 0, 2)];\n        return _this;\n    }\n    TimeScale.prototype.defaultTickFormat = function (date) {\n        return (this.second.floor(date) < date\n            ? this.formatMillisecond\n            : this.minute.floor(date) < date\n                ? this.formatSecond\n                : this.hour.floor(date) < date\n                    ? this.formatMinute\n                    : this.day.floor(date) < date\n                        ? this.formatHour\n                        : this.month.floor(date) < date\n                            ? (this.week.floor(date) < date ? this.formatDay : this.formatWeek)\n                            : this.year.floor(date) < date\n                                ? this.formatMonth\n                                : this.formatYear)(date);\n    };\n    /**\n     *\n     * @param interval If the `interval` is a number, it's interpreted as the desired tick count\n     * and the method tries to pick an appropriate interval automatically, based on the extent of the domain.\n     * If the `interval` is `undefined`, it defaults to `10`.\n     * If the `interval` is a time interval, simply use it.\n     * @param start The start time (timestamp).\n     * @param stop The end time (timestamp).\n     * @param step Number of intervals between ticks.\n     */\n    TimeScale.prototype.tickInterval = function (interval, start, stop, step) {\n        var _a;\n        if (typeof interval === 'number') {\n            var tickCount = interval;\n            var tickIntervals = this.tickIntervals;\n            var target = Math.abs(stop - start) / tickCount;\n            var i = complexBisectRight(tickIntervals, target, function (interval) { return interval[2]; });\n            if (i === tickIntervals.length) {\n                step = tickStep(start / durationYear, stop / durationYear, tickCount);\n                interval = this.year;\n            }\n            else if (i) {\n                _a = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i], interval = _a[0], step = _a[1];\n            }\n            else {\n                step = Math.max(tickStep(start, stop, interval), 1);\n                interval = this.millisecond;\n            }\n        }\n        return step == undefined ? interval : interval.every(step);\n    };\n    Object.defineProperty(TimeScale.prototype, \"domain\", {\n        get: function () {\n            return _super.prototype.getDomain.call(this).map(function (t) { return new Date(t); });\n        },\n        set: function (values) {\n            _super.prototype.setDomain.call(this, Array.prototype.map.call(values, function (t) { return t instanceof Date ? +t : +new Date(+t); }));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TimeScale.prototype.invert = function (y) {\n        return new Date(_super.prototype.invert.call(this, y));\n    };\n    /**\n     * Returns uniformly-spaced dates that represent the scale's domain.\n     * @param interval The desired tick count or a time interval object.\n     */\n    TimeScale.prototype.ticks = function (interval) {\n        if (interval === void 0) { interval = 10; }\n        var d = _super.prototype.getDomain.call(this);\n        var t0 = d[0];\n        var t1 = d[d.length - 1];\n        var reverse = t1 < t0;\n        if (reverse) {\n            var _ = t0;\n            t0 = t1;\n            t1 = _;\n        }\n        var t = this.tickInterval(interval, t0, t1);\n        var i = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n        return reverse ? i.reverse() : i;\n    };\n    /**\n     * Returns a time format function suitable for displaying tick values.\n     * @param count Ignored. Used only to satisfy the {@link Scale} interface.\n     * @param specifier If the specifier string is provided, this method is equivalent to\n     * the {@link TimeLocaleObject.format} method.\n     * If no specifier is provided, this method returns the default time format function.\n     */\n    TimeScale.prototype.tickFormat = function (count, specifier) {\n        return specifier == undefined ? this.defaultTickFormat.bind(this) : this.format(specifier);\n    };\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     * This method typically modifies the scale’s domain, and may only extend the bounds to the nearest round value.\n     * @param interval\n     */\n    TimeScale.prototype.nice = function (interval) {\n        if (interval === void 0) { interval = 10; }\n        var d = _super.prototype.getDomain.call(this);\n        var i = this.tickInterval(interval, d[0], d[d.length - 1]);\n        if (i) {\n            this.domain = this._nice(d, i);\n        }\n    };\n    TimeScale.prototype._nice = function (domain, interval) {\n        var _a, _b;\n        domain = domain.slice();\n        var i0 = 0;\n        var i1 = domain.length - 1;\n        var x0 = domain[i0];\n        var x1 = domain[i1];\n        if (x1 < x0) {\n            _a = [i1, i0], i0 = _a[0], i1 = _a[1];\n            _b = [x1, x0], x0 = _b[0], x1 = _b[1];\n        }\n        domain[i0] = interval.floor(x0);\n        domain[i1] = interval.ceil(x1);\n        return domain;\n    };\n    return TimeScale;\n}(ContinuousScale));\nexport { TimeScale };\n","// For small data structs like a bounding box, objects are superior to arrays\n// in terms of performance (by 3-4% in Chrome 71, Safari 12 and by 20% in Firefox 64).\n// They are also self descriptive and harder to abuse.\n// For example, one has to do:\n// `ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);`\n// rather than become enticed by the much slower:\n// `ctx.strokeRect(...bbox);`\n// https://jsperf.com/array-vs-object-create-access\nvar BBox = /** @class */ (function () {\n    function BBox(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    BBox.prototype.isValid = function () {\n        return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height);\n    };\n    BBox.prototype.dilate = function (value) {\n        this.x -= value;\n        this.y -= value;\n        this.width += value * 2;\n        this.height += value * 2;\n    };\n    BBox.prototype.containsPoint = function (x, y) {\n        return x >= this.x && x <= (this.x + this.width)\n            && y >= this.y && y <= (this.y + this.height);\n    };\n    BBox.prototype.render = function (ctx, params) {\n        if (params === void 0) { params = BBox.noParams; }\n        ctx.save();\n        if (params.resetTransform) {\n            ctx.setTransform(1, 0, 0, 1, 0, 0);\n        }\n        ctx.strokeStyle = params.strokeStyle || 'cyan';\n        ctx.lineWidth = params.lineWidth || 1;\n        ctx.strokeRect(this.x, this.y, this.width, this.height);\n        if (params.label) {\n            ctx.fillStyle = params.fillStyle || 'black';\n            ctx.textBaseline = 'bottom';\n            ctx.fillText(params.label, this.x, this.y);\n        }\n        ctx.restore();\n    };\n    BBox.noParams = {};\n    return BBox;\n}());\nexport { BBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Node } from \"./node\";\nimport { Path2D } from \"./path2D\";\nimport { BBox } from \"./bbox\";\n/**\n * Acts as `Group` node but with specified bounds that form a rectangle.\n * Any parts of the child nodes outside that rectangle will not be visible.\n * Unlike the `Group` node, the `ClipRect` node cannot be transformed.\n */\nvar ClipRect = /** @class */ (function (_super) {\n    __extends(ClipRect, _super);\n    function ClipRect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContainerNode = true;\n        _this.path = new Path2D();\n        _this._enabled = true;\n        _this._dirtyPath = true;\n        _this._x = 0;\n        _this._y = 0;\n        _this._width = 10;\n        _this._height = 10;\n        return _this;\n    }\n    ClipRect.prototype.containsPoint = function (x, y) {\n        var point = this.transformPoint(x, y);\n        return point.x >= this.x && point.x <= this.x + this.width\n            && point.y >= this.y && point.y <= this.y + this.height;\n    };\n    Object.defineProperty(ClipRect.prototype, \"enabled\", {\n        get: function () {\n            return this._enabled;\n        },\n        set: function (value) {\n            if (this._enabled !== value) {\n                this._enabled = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"dirtyPath\", {\n        get: function () {\n            return this._dirtyPath;\n        },\n        set: function (value) {\n            if (this._dirtyPath !== value) {\n                this._dirtyPath = value;\n                if (value) {\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ClipRect.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ClipRect.prototype.updatePath = function () {\n        var path = this.path;\n        path.clear();\n        path.rect(this.x, this.y, this.width, this.height);\n        this.dirtyPath = false;\n    };\n    ClipRect.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        return new BBox(x, y, width, height);\n    };\n    ClipRect.prototype.render = function (ctx) {\n        if (this.enabled) {\n            if (this.dirtyPath) {\n                this.updatePath();\n            }\n            this.scene.appendPath(this.path);\n            ctx.clip();\n        }\n        var children = this.children;\n        var n = children.length;\n        for (var i = 0; i < n; i++) {\n            ctx.save();\n            var child = children[i];\n            if (child.visible) {\n                child.render(ctx);\n            }\n            ctx.restore();\n        }\n        // debug\n        // this.computeBBox().render(ctx, {\n        //     label: this.id,\n        //     resetTransform: true,\n        //     fillStyle: 'rgba(0, 0, 0, 0.5)'\n        // });\n    };\n    ClipRect.className = 'ClipRect';\n    return ClipRect;\n}(Node));\nexport { ClipRect };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Observable, reactive } from \"../util/observable\";\nvar DropShadow = /** @class */ (function (_super) {\n    __extends(DropShadow, _super);\n    function DropShadow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enabled = true;\n        _this.color = 'rgba(0, 0, 0, 0.5)';\n        _this.xOffset = 0;\n        _this.yOffset = 0;\n        _this.blur = 5;\n        return _this;\n    }\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"enabled\", void 0);\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"color\", void 0);\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"xOffset\", void 0);\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"yOffset\", void 0);\n    __decorate([\n        reactive('change')\n    ], DropShadow.prototype, \"blur\", void 0);\n    return DropShadow;\n}(Observable));\nexport { DropShadow };\n","var Gradient = /** @class */ (function () {\n    function Gradient() {\n        this.stops = [];\n    }\n    return Gradient;\n}());\nexport { Gradient };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Gradient } from \"./gradient\";\nvar LinearGradient = /** @class */ (function (_super) {\n    __extends(LinearGradient, _super);\n    function LinearGradient() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.angle = 0;\n        return _this;\n    }\n    LinearGradient.prototype.generateGradient = function (ctx, bbox) {\n        var stops = this.stops;\n        var radians = (this.angle % 360) * Math.PI / 180;\n        var cos = Math.cos(radians);\n        var sin = Math.sin(radians);\n        var w = bbox.width;\n        var h = bbox.height;\n        var cx = bbox.x + w * 0.5;\n        var cy = bbox.y + h * 0.5;\n        if (w > 0 && h > 0) {\n            var l = (Math.sqrt(h * h + w * w) * Math.abs(Math.cos(radians - Math.atan(h / w)))) / 2;\n            var gradient_1 = ctx.createLinearGradient(cx + cos * l, cy + sin * l, cx - cos * l, cy - sin * l);\n            stops.forEach(function (stop) {\n                gradient_1.addColorStop(stop.offset, stop.color);\n            });\n            return gradient_1;\n        }\n        return 'black';\n    };\n    return LinearGradient;\n}(Gradient));\nexport { LinearGradient };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Node } from \"./node\";\nimport { BBox } from \"./bbox\";\nimport { Matrix } from \"./matrix\";\nvar Group = /** @class */ (function (_super) {\n    __extends(Group, _super);\n    function Group() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContainerNode = true;\n        return _this;\n    }\n    // We consider a group to be boundless, thus any point belongs to it.\n    Group.prototype.containsPoint = function (x, y) {\n        return true;\n    };\n    Group.prototype.computeBBox = function () {\n        var left = Infinity;\n        var right = -Infinity;\n        var top = Infinity;\n        var bottom = -Infinity;\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.children.forEach(function (child) {\n            if (!child.visible) {\n                return;\n            }\n            var bbox = child.computeBBox();\n            if (!bbox) {\n                return;\n            }\n            if (!(child instanceof Group)) {\n                if (child.dirtyTransform) {\n                    child.computeTransformMatrix();\n                }\n                var matrix = Matrix.flyweight(child.matrix);\n                var parent_1 = child.parent;\n                while (parent_1) {\n                    matrix.preMultiplySelf(parent_1.matrix);\n                    parent_1 = parent_1.parent;\n                }\n                matrix.transformBBox(bbox, 0, bbox);\n            }\n            var x = bbox.x;\n            var y = bbox.y;\n            if (x < left) {\n                left = x;\n            }\n            if (y < top) {\n                top = y;\n            }\n            if (x + bbox.width > right) {\n                right = x + bbox.width;\n            }\n            if (y + bbox.height > bottom) {\n                bottom = y + bbox.height;\n            }\n        });\n        return new BBox(left, top, right - left, bottom - top);\n    };\n    Group.prototype.render = function (ctx) {\n        // A group can have `scaling`, `rotation`, `translation` properties\n        // that are applied to the canvas context before children are rendered,\n        // so all children can be transformed at once.\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.matrix.toContext(ctx);\n        var children = this.children;\n        var n = children.length;\n        for (var i = 0; i < n; i++) {\n            ctx.save();\n            var child = children[i];\n            if (child.visible) {\n                child.render(ctx);\n            }\n            ctx.restore();\n        }\n        // debug\n        // this.computeBBox().render(ctx, {\n        //     label: this.id,\n        //     resetTransform: true,\n        //     fillStyle: 'rgba(0, 0, 0, 0.5)'\n        // });\n    };\n    Group.className = 'Group';\n    return Group;\n}(Node));\nexport { Group };\n","import { cubicRoots } from \"./polyRoots\";\n/**\n * Returns the intersection point for the given pair of line segments, or null,\n * if the segments are parallel or don't intersect.\n * Based on http://paulbourke.net/geometry/pointlineplane/\n */\nexport function segmentIntersection(ax1, ay1, ax2, ay2, bx1, by1, bx2, by2) {\n    var d = (ax2 - ax1) * (by2 - by1) - (ay2 - ay1) * (bx2 - bx1);\n    if (d === 0) { // The lines are parallel.\n        return null;\n    }\n    var ua = ((bx2 - bx1) * (ay1 - by1) - (ax1 - bx1) * (by2 - by1)) / d;\n    var ub = ((ax2 - ax1) * (ay1 - by1) - (ay2 - ay1) * (ax1 - bx1)) / d;\n    if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n        return {\n            x: ax1 + ua * (ax2 - ax1),\n            y: ay1 + ua * (ay2 - ay1)\n        };\n    }\n    return null; // The intersection point is outside either or both segments.\n}\n/**\n * Returns intersection points of the given cubic curve and the line segment.\n * Takes in x/y components of cubic control points and line segment start/end points\n * as parameters.\n */\nexport function cubicSegmentIntersections(px1, py1, px2, py2, px3, py3, px4, py4, x1, y1, x2, y2) {\n    var intersections = [];\n    // Find line equation coefficients.\n    var A = y1 - y2;\n    var B = x2 - x1;\n    var C = x1 * (y2 - y1) - y1 * (x2 - x1);\n    // Find cubic Bezier curve equation coefficients from control points.\n    var bx = bezierCoefficients(px1, px2, px3, px4);\n    var by = bezierCoefficients(py1, py2, py3, py4);\n    var a = A * bx[0] + B * by[0]; // t^3\n    var b = A * bx[1] + B * by[1]; // t^2\n    var c = A * bx[2] + B * by[2]; // t\n    var d = A * bx[3] + B * by[3] + C; // 1\n    var roots = cubicRoots(a, b, c, d);\n    // Verify that the roots are within bounds of the linear segment.\n    for (var i = 0; i < roots.length; i++) {\n        var t = roots[i];\n        var tt = t * t;\n        var ttt = t * tt;\n        // Find the cartesian plane coordinates for the parametric root `t`.\n        var x = bx[0] * ttt + bx[1] * tt + bx[2] * t + bx[3];\n        var y = by[0] * ttt + by[1] * tt + by[2] * t + by[3];\n        // The parametric cubic roots we found are intersection points\n        // with an infinite line, and so the x/y coordinates above are as well.\n        // Make sure the x/y is also within the bounds of the given segment.\n        var s = void 0;\n        if (x1 !== x2) {\n            s = (x - x1) / (x2 - x1);\n        }\n        else { // the line is vertical\n            s = (y - y1) / (y2 - y1);\n        }\n        if (s >= 0 && s <= 1) {\n            intersections.push({ x: x, y: y });\n        }\n    }\n    return intersections;\n}\n/**\n * Returns the given coordinates vector multiplied by the coefficient matrix\n * of the parametric cubic Bézier equation.\n */\nexport function bezierCoefficients(P1, P2, P3, P4) {\n    return [\n        -P1 + 3 * P2 - 3 * P3 + P4,\n        3 * P1 - 6 * P2 + 3 * P3,\n        -3 * P1 + 3 * P2,\n        P1 //                 | 1  0  0  0| |P4|\n    ];\n}\n","import { BBox } from \"./bbox\";\n/**\n * As of Jan 8, 2019, Firefox still doesn't implement\n * `getTransform(): DOMMatrix;`\n * `setTransform(transform?: DOMMatrix2DInit)`\n * in the `CanvasRenderingContext2D`.\n * Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=928150\n * IE11 and Edge 44 also don't have the support.\n * Thus this class, to keep track of the current transform and\n * combine transformations.\n * Standards:\n * https://html.spec.whatwg.org/dev/canvas.html\n * https://www.w3.org/TR/geometry-1/\n */\nvar Matrix = /** @class */ (function () {\n    function Matrix(elements) {\n        if (elements === void 0) { elements = [1, 0, 0, 1, 0, 0]; }\n        this.elements = elements;\n    }\n    Matrix.prototype.setElements = function (elements) {\n        var e = this.elements;\n        // `this.elements = elements.slice()` is 4-5 times slower\n        // (in Chrome 71 and FF 64) than manually copying elements,\n        // since slicing allocates new memory.\n        // The performance of passing parameters individually\n        // vs as an array is about the same in both browsers, so we\n        // go with a single (array of elements) parameter, because\n        // `setElements(elements)` and `setElements([a, b, c, d, e, f])`\n        // calls give us roughly the same performance, versus\n        // `setElements(...elements)` and `setElements(a, b, c, d, e, f)`,\n        // where the spread operator causes a 20-30x performance drop\n        // (30x when compiled to ES5's `.apply(this, elements)`\n        //  20x when used natively).\n        e[0] = elements[0];\n        e[1] = elements[1];\n        e[2] = elements[2];\n        e[3] = elements[3];\n        e[4] = elements[4];\n        e[5] = elements[5];\n        return this;\n    };\n    Matrix.prototype.setIdentityElements = function () {\n        var e = this.elements;\n        e[0] = 1;\n        e[1] = 0;\n        e[2] = 0;\n        e[3] = 1;\n        e[4] = 0;\n        e[5] = 0;\n        return this;\n    };\n    Object.defineProperty(Matrix.prototype, \"identity\", {\n        get: function () {\n            var e = this.elements;\n            return e[0] === 1 && e[1] === 0 && e[2] === 0 &&\n                e[3] === 1 && e[4] === 0 && e[5] === 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"a\", {\n        get: function () {\n            return this.elements[0];\n        },\n        set: function (value) {\n            this.elements[0] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"b\", {\n        get: function () {\n            return this.elements[1];\n        },\n        set: function (value) {\n            this.elements[1] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"c\", {\n        get: function () {\n            return this.elements[2];\n        },\n        set: function (value) {\n            this.elements[2] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"d\", {\n        get: function () {\n            return this.elements[3];\n        },\n        set: function (value) {\n            this.elements[3] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"e\", {\n        get: function () {\n            return this.elements[4];\n        },\n        set: function (value) {\n            this.elements[4] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"f\", {\n        get: function () {\n            return this.elements[5];\n        },\n        set: function (value) {\n            this.elements[5] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Performs the AxB matrix multiplication and saves the result\n     * to `C`, if given, or to `A` otherwise.\n     */\n    Matrix.prototype.AxB = function (A, B, C) {\n        var m11 = A[0], m12 = A[1], m21 = A[2], m22 = A[3], m31 = A[4], m32 = A[5];\n        var o11 = B[0], o12 = B[1], o21 = B[2], o22 = B[3], o31 = B[4], o32 = B[5];\n        C = C || A;\n        C[0] = m11 * o11 + m21 * o12;\n        C[1] = m12 * o11 + m22 * o12;\n        C[2] = m11 * o21 + m21 * o22;\n        C[3] = m12 * o21 + m22 * o22;\n        C[4] = m11 * o31 + m21 * o32 + m31;\n        C[5] = m12 * o31 + m22 * o32 + m32;\n    };\n    /**\n     * The `other` matrix gets post-multiplied to the current matrix.\n     * Returns the current matrix.\n     * @param other\n     */\n    Matrix.prototype.multiplySelf = function (other) {\n        this.AxB(this.elements, other.elements);\n        return this;\n    };\n    /**\n     * The `other` matrix gets post-multiplied to the current matrix.\n     * Returns a new matrix.\n     * @param other\n     */\n    Matrix.prototype.multiply = function (other) {\n        var elements = new Array(6);\n        this.AxB(this.elements, other.elements, elements);\n        return new Matrix(elements);\n    };\n    Matrix.prototype.preMultiplySelf = function (other) {\n        this.AxB(other.elements, this.elements, this.elements);\n        return this;\n    };\n    /**\n     * Returns the inverse of this matrix as a new matrix.\n     */\n    Matrix.prototype.inverse = function () {\n        var _a = this.elements, a = _a[0], b = _a[1], c = _a[2], d = _a[3], e = _a[4], f = _a[5];\n        var rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        return new Matrix([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n    };\n    /**\n     * Save the inverse of this matrix to the given matrix.\n     */\n    Matrix.prototype.inverseTo = function (other) {\n        var _a = this.elements, a = _a[0], b = _a[1], c = _a[2], d = _a[3], e = _a[4], f = _a[5];\n        var rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        other.setElements([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n        return this;\n    };\n    Matrix.prototype.invertSelf = function () {\n        var elements = this.elements;\n        var a = elements[0], b = elements[1], c = elements[2], d = elements[3], e = elements[4], f = elements[5];\n        var rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        elements[0] = d;\n        elements[1] = -b;\n        elements[2] = -c;\n        elements[3] = a;\n        elements[4] = c * f - d * e;\n        elements[5] = b * e - a * f;\n        return this;\n    };\n    Matrix.prototype.clone = function () {\n        return new Matrix(this.elements.slice());\n    };\n    Matrix.prototype.transformPoint = function (x, y) {\n        var e = this.elements;\n        return {\n            x: x * e[0] + y * e[2] + e[4],\n            y: x * e[1] + y * e[3] + e[5]\n        };\n    };\n    Matrix.prototype.transformBBox = function (bbox, radius, target) {\n        if (radius === void 0) { radius = 0; }\n        var elements = this.elements;\n        var xx = elements[0];\n        var xy = elements[1];\n        var yx = elements[2];\n        var yy = elements[3];\n        var h_w = bbox.width * 0.5;\n        var h_h = bbox.height * 0.5;\n        var cx = bbox.x + h_w;\n        var cy = bbox.y + h_h;\n        var w, h;\n        if (radius) {\n            h_w -= radius;\n            h_h -= radius;\n            var sx = Math.sqrt(xx * xx + yx * yx);\n            var sy = Math.sqrt(xy * xy + yy * yy);\n            w = Math.abs(h_w * xx) + Math.abs(h_h * yx) + Math.abs(sx * radius);\n            h = Math.abs(h_w * xy) + Math.abs(h_h * yy) + Math.abs(sy * radius);\n        }\n        else {\n            w = Math.abs(h_w * xx) + Math.abs(h_h * yx);\n            h = Math.abs(h_w * xy) + Math.abs(h_h * yy);\n        }\n        if (!target) {\n            target = new BBox(0, 0, 0, 0);\n        }\n        target.x = cx * xx + cy * yx + elements[4] - w;\n        target.y = cx * xy + cy * yy + elements[5] - h;\n        target.width = w + w;\n        target.height = h + h;\n        return target;\n    };\n    Matrix.prototype.toContext = function (ctx) {\n        // It's fair to say that matrix multiplications are not cheap.\n        // However, updating path definitions on every frame isn't either, so\n        // it may be cheaper to just translate paths. It's also fair to\n        // say, that most paths will have to be re-rendered anyway, say\n        // rectangle paths in a bar chart, where an animation would happen when\n        // the data set changes and existing bars are morphed into new ones.\n        // Or a pie chart, where old sectors are also morphed into new ones.\n        // Same for the line chart. The only plausible case where translating\n        // existing paths would be enough, is the scatter chart, where marker\n        // icons, typically circles, stay the same size. But if circle radii\n        // are bound to some data points, even circle paths would have to be\n        // updated. And thus it makes sense to optimize for fewer matrix\n        // transforms, where transform matrices of paths are mostly identity\n        // matrices and `x`/`y`, `centerX`/`centerY` and similar properties\n        // are used to define a path at specific coordinates. And only groups\n        // are used to collectively apply a transform to a set of nodes.\n        // If the matrix is mostly identity (95% of the time),\n        // the `if (this.isIdentity)` check can make this call 3-4 times\n        // faster on average: https://jsperf.com/matrix-check-first-vs-always-set\n        if (this.identity) {\n            return;\n        }\n        var e = this.elements;\n        ctx.transform(e[0], e[1], e[2], e[3], e[4], e[5]);\n    };\n    Matrix.flyweight = function (elements) {\n        if (elements) {\n            if (elements instanceof Matrix) {\n                Matrix.matrix.setElements(elements.elements);\n            }\n            else {\n                Matrix.matrix.setElements(elements);\n            }\n        }\n        else {\n            Matrix.matrix.setIdentityElements();\n        }\n        return Matrix.matrix;\n    };\n    Matrix.matrix = new Matrix();\n    return Matrix;\n}());\nexport { Matrix };\n","import { Matrix } from \"./matrix\";\nimport { createId } from \"../util/id\";\nexport var PointerEvents;\n(function (PointerEvents) {\n    PointerEvents[PointerEvents[\"All\"] = 0] = \"All\";\n    PointerEvents[PointerEvents[\"None\"] = 1] = \"None\";\n})(PointerEvents || (PointerEvents = {}));\n/**\n * Abstract scene graph node.\n * Each node can have zero or one parent and belong to zero or one scene.\n */\nvar Node = /** @class */ (function () {\n    function Node() {\n        /**\n         * Unique node ID in the form `ClassName-NaturalNumber`.\n         */\n        this.id = createId(this);\n        /**\n         * Some number to identify this node, typically within a `Group` node.\n         * Usually this will be some enum value used as a selector.\n         */\n        this.tag = NaN;\n        /**\n         * To simplify the type system (especially in Selections) we don't have the `Parent` node\n         * (one that has children). Instead, we mimic HTML DOM, where any node can have children.\n         * But we still need to distinguish regular leaf nodes from container leafs somehow.\n         */\n        this.isContainerNode = false;\n        this._children = [];\n        // Used to check for duplicate nodes.\n        this.childSet = {}; // new Set<Node>()\n        // These matrices may need to have package level visibility\n        // for performance optimization purposes.\n        this.matrix = new Matrix();\n        this.inverseMatrix = new Matrix();\n        this._dirtyTransform = false;\n        this._scalingX = 1;\n        this._scalingY = 1;\n        /**\n         * The center of scaling.\n         * The default value of `null` means the scaling center will be\n         * determined automatically, as the center of the bounding box\n         * of a node.\n         */\n        this._scalingCenterX = null;\n        this._scalingCenterY = null;\n        this._rotationCenterX = null;\n        this._rotationCenterY = null;\n        /**\n         * Rotation angle in radians.\n         * The value is set as is. No normalization to the [-180, 180) or [0, 360)\n         * interval is performed.\n         */\n        this._rotation = 0;\n        this._translationX = 0;\n        this._translationY = 0;\n        /**\n         * Each time a property of the node that effects how it renders changes\n         * the `dirty` property of the node should be set to `true`. The change\n         * to the `dirty` property of the node will propagate up to its parents\n         * and eventually to the scene, at which point an animation frame callback\n         * will be scheduled to rerender the scene and its nodes and reset the `dirty`\n         * flags of all nodes and the {@link Scene._dirty | Scene} back to `false`.\n         * Since changes to node properties are not rendered immediately, it's possible\n         * to change as many properties on as many nodes as needed and the rendering\n         * will still only happen once in the next animation frame callback.\n         * The animation frame callback is only scheduled if it hasn't been already.\n         */\n        this._dirty = true;\n        this._visible = true;\n        this.pointerEvents = PointerEvents.All;\n    }\n    /**\n     * This is meaningfully faster than `instanceof` and should be the preferred way\n     * of checking inside loops.\n     * @param node\n     */\n    Node.isNode = function (node) {\n        return node ? node.matrix !== undefined : false;\n    };\n    Node.prototype._setScene = function (value) {\n        this._scene = value;\n        var children = this.children;\n        var n = children.length;\n        for (var i = 0; i < n; i++) {\n            children[i]._setScene(value);\n        }\n    };\n    Object.defineProperty(Node.prototype, \"scene\", {\n        get: function () {\n            return this._scene;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype._setParent = function (value) {\n        this._parent = value;\n    };\n    Object.defineProperty(Node.prototype, \"parent\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"children\", {\n        get: function () {\n            return this._children;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype.countChildren = function (depth) {\n        if (depth === void 0) { depth = Node.MAX_SAFE_INTEGER; }\n        if (depth <= 0) {\n            return 0;\n        }\n        var children = this.children;\n        var n = children.length;\n        var size = n;\n        for (var i = 0; i < n; i++) {\n            size += children[i].countChildren(depth - 1);\n        }\n        return size;\n    };\n    /**\n     * Appends one or more new node instances to this parent.\n     * If one needs to:\n     * - move a child to the end of the list of children\n     * - move a child from one parent to another (including parents in other scenes)\n     * one should use the {@link insertBefore} method instead.\n     * @param nodes A node or nodes to append.\n     */\n    Node.prototype.append = function (nodes) {\n        // Passing a single parameter to an open-ended version of `append`\n        // would be 30-35% slower than this.\n        if (Node.isNode(nodes)) {\n            nodes = [nodes];\n        }\n        // The function takes an array rather than having open-ended\n        // arguments like `...nodes: Node[]` because the latter is\n        // transpiled to a function where the `arguments` object\n        // is copied to a temporary array inside a loop.\n        // So an array is created either way. And if we already have\n        // an array of nodes we want to add, we have to use the prohibitively\n        // expensive spread operator to pass it to the function,\n        // and, on top of that, the copy of the `arguments` is still made.\n        var n = nodes.length;\n        for (var i = 0; i < n; i++) {\n            var node = nodes[i];\n            if (node.parent) {\n                throw new Error(node + \" already belongs to another parent: \" + node.parent + \".\");\n            }\n            if (node.scene) {\n                throw new Error(node + \" already belongs a scene: \" + node.scene + \".\");\n            }\n            if (this.childSet[node.id]) {\n                // Cast to `any` to avoid `Property 'name' does not exist on type 'Function'`.\n                throw new Error(\"Duplicate \" + node.constructor.name + \" node: \" + node);\n            }\n            this._children.push(node);\n            this.childSet[node.id] = true;\n            node._setParent(this);\n            node._setScene(this.scene);\n        }\n        this.dirty = true;\n    };\n    Node.prototype.appendChild = function (node) {\n        if (node.parent) {\n            throw new Error(node + \" already belongs to another parent: \" + node.parent + \".\");\n        }\n        if (node.scene) {\n            throw new Error(node + \" already belongs a scene: \" + node.scene + \".\");\n        }\n        if (this.childSet[node.id]) {\n            // Cast to `any` to avoid `Property 'name' does not exist on type 'Function'`.\n            throw new Error(\"Duplicate \" + node.constructor.name + \" node: \" + node);\n        }\n        this._children.push(node);\n        this.childSet[node.id] = true;\n        node._setParent(this);\n        node._setScene(this.scene);\n        this.dirty = true;\n        return node;\n    };\n    Node.prototype.removeChild = function (node) {\n        if (node.parent === this) {\n            var i = this.children.indexOf(node);\n            if (i >= 0) {\n                this._children.splice(i, 1);\n                delete this.childSet[node.id];\n                node._setParent();\n                node._setScene();\n                this.dirty = true;\n                return node;\n            }\n        }\n        throw new Error(\"The node to be removed is not a child of this node.\");\n    };\n    /**\n     * Inserts the node `node` before the existing child node `nextNode`.\n     * If `nextNode` is null, insert `node` at the end of the list of children.\n     * If the `node` belongs to another parent, it is first removed.\n     * Returns the `node`.\n     * @param node\n     * @param nextNode\n     */\n    Node.prototype.insertBefore = function (node, nextNode) {\n        var parent = node.parent;\n        if (node.parent) {\n            node.parent.removeChild(node);\n        }\n        if (nextNode && nextNode.parent === this) {\n            var i = this.children.indexOf(nextNode);\n            if (i >= 0) {\n                this._children.splice(i, 0, node);\n                this.childSet[node.id] = true;\n                node._setParent(this);\n                node._setScene(this.scene);\n            }\n            else {\n                throw new Error(nextNode + \" has \" + parent + \" as the parent, \"\n                    + \"but is not in its list of children.\");\n            }\n            this.dirty = true;\n        }\n        else {\n            this.append(node);\n        }\n        return node;\n    };\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        get: function () {\n            var parent = this.parent;\n            if (parent) {\n                var children = parent.children;\n                var index = children.indexOf(this);\n                if (index >= 0 && index <= children.length - 1) {\n                    return children[index + 1];\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype.transformPoint = function (x, y) {\n        var matrix = Matrix.flyweight(this.matrix);\n        var parent = this.parent;\n        while (parent) {\n            matrix.preMultiplySelf(parent.matrix);\n            parent = parent.parent;\n        }\n        return matrix.invertSelf().transformPoint(x, y);\n    };\n    Node.prototype.inverseTransformPoint = function (x, y) {\n        var matrix = Matrix.flyweight(this.matrix);\n        var parent = this.parent;\n        while (parent) {\n            matrix.preMultiplySelf(parent.matrix);\n            parent = parent.parent;\n        }\n        return matrix.transformPoint(x, y);\n    };\n    Object.defineProperty(Node.prototype, \"dirtyTransform\", {\n        get: function () {\n            return this._dirtyTransform;\n        },\n        set: function (value) {\n            this._dirtyTransform = value;\n            if (value) {\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"scalingX\", {\n        get: function () {\n            return this._scalingX;\n        },\n        set: function (value) {\n            if (this._scalingX !== value) {\n                this._scalingX = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"scalingY\", {\n        get: function () {\n            return this._scalingY;\n        },\n        set: function (value) {\n            if (this._scalingY !== value) {\n                this._scalingY = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"scalingCenterX\", {\n        get: function () {\n            return this._scalingCenterX;\n        },\n        set: function (value) {\n            if (this._scalingCenterX !== value) {\n                this._scalingCenterX = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"scalingCenterY\", {\n        get: function () {\n            return this._scalingCenterY;\n        },\n        set: function (value) {\n            if (this._scalingCenterY !== value) {\n                this._scalingCenterY = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"rotationCenterX\", {\n        get: function () {\n            return this._rotationCenterX;\n        },\n        set: function (value) {\n            if (this._rotationCenterX !== value) {\n                this._rotationCenterX = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"rotationCenterY\", {\n        get: function () {\n            return this._rotationCenterY;\n        },\n        set: function (value) {\n            if (this._rotationCenterY !== value) {\n                this._rotationCenterY = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"rotation\", {\n        get: function () {\n            return this._rotation;\n        },\n        set: function (value) {\n            if (this._rotation !== value) {\n                this._rotation = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"rotationDeg\", {\n        get: function () {\n            return this.rotation / Math.PI * 180;\n        },\n        /**\n         * For performance reasons the rotation angle's internal representation\n         * is in radians. Therefore, don't expect to get the same number you set.\n         * Even with integer angles about a quarter of them from 0 to 359 cannot\n         * be converted to radians and back without precision loss.\n         * For example:\n         *\n         *     node.rotationDeg = 11;\n         *     console.log(node.rotationDeg); // 10.999999999999998\n         *\n         * @param value Rotation angle in degrees.\n         */\n        set: function (value) {\n            this.rotation = value / 180 * Math.PI;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"translationX\", {\n        get: function () {\n            return this._translationX;\n        },\n        set: function (value) {\n            if (this._translationX !== value) {\n                this._translationX = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"translationY\", {\n        get: function () {\n            return this._translationY;\n        },\n        set: function (value) {\n            if (this._translationY !== value) {\n                this._translationY = value;\n                this.dirtyTransform = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype.containsPoint = function (x, y) {\n        return false;\n    };\n    /**\n     * Hit testing method.\n     * Recursively checks if the given point is inside this node or any of its children.\n     * Returns the first matching node or `undefined`.\n     * Nodes that render later (show on top) are hit tested first.\n     * @param x\n     * @param y\n     */\n    Node.prototype.pickNode = function (x, y) {\n        if (!this.visible || this.pointerEvents === PointerEvents.None || !this.containsPoint(x, y)) {\n            return;\n        }\n        var children = this.children;\n        if (children.length) {\n            // Nodes added later should be hit-tested first,\n            // as they are rendered on top of the previously added nodes.\n            for (var i = children.length - 1; i >= 0; i--) {\n                var hit = children[i].pickNode(x, y);\n                if (hit) {\n                    return hit;\n                }\n            }\n        }\n        else if (!this.isContainerNode) { // a leaf node, but not a container leaf\n            return this;\n        }\n    };\n    Node.prototype.computeBBox = function () { return; };\n    Node.prototype.computeBBoxCenter = function () {\n        var bbox = this.computeBBox && this.computeBBox();\n        if (bbox) {\n            return [\n                bbox.x + bbox.width * 0.5,\n                bbox.y + bbox.height * 0.5\n            ];\n        }\n        return [0, 0];\n    };\n    Node.prototype.computeTransformMatrix = function () {\n        // TODO: transforms without center of scaling and rotation correspond directly\n        //       to `setAttribute('transform', 'translate(tx, ty) rotate(rDeg) scale(sx, sy)')`\n        //       in SVG. Our use cases will mostly require positioning elements (rects, circles)\n        //       within a group, rotating groups at right angles (e.g. for axis) and translating\n        //       groups. We shouldn't even need `scale(1, -1)` (invert vertically), since this\n        //       can be done using D3-like scales already by inverting the output range.\n        //       So for now, just assume that centers of scaling and rotation are at the origin.\n        // const [bbcx, bbcy] = this.computeBBoxCenter();\n        var _a = [0, 0], bbcx = _a[0], bbcy = _a[1];\n        var sx = this.scalingX;\n        var sy = this.scalingY;\n        var scx;\n        var scy;\n        if (sx === 1 && sy === 1) {\n            scx = 0;\n            scy = 0;\n        }\n        else {\n            scx = this.scalingCenterX === null ? bbcx : this.scalingCenterX;\n            scy = this.scalingCenterY === null ? bbcy : this.scalingCenterY;\n        }\n        var r = this.rotation;\n        var cos = Math.cos(r);\n        var sin = Math.sin(r);\n        var rcx;\n        var rcy;\n        if (r === 0) {\n            rcx = 0;\n            rcy = 0;\n        }\n        else {\n            rcx = this.rotationCenterX === null ? bbcx : this.rotationCenterX;\n            rcy = this.rotationCenterY === null ? bbcy : this.rotationCenterY;\n        }\n        var tx = this.translationX;\n        var ty = this.translationY;\n        // The transform matrix `M` is a result of the following transformations:\n        // 1) translate the center of scaling to the origin\n        // 2) scale\n        // 3) translate back\n        // 4) translate the center of rotation to the origin\n        // 5) rotate\n        // 6) translate back\n        // 7) translate\n        //         (7)          (6)             (5)             (4)           (3)           (2)           (1)\n        //     | 1 0 tx |   | 1 0 rcx |   | cos -sin 0 |   | 1 0 -rcx |   | 1 0 scx |   | sx 0 0 |   | 1 0 -scx |\n        // M = | 0 1 ty | * | 0 1 rcy | * | sin  cos 0 | * | 0 1 -rcy | * | 0 1 scy | * | 0 sy 0 | * | 0 1 -scy |\n        //     | 0 0  1 |   | 0 0  1  |   |  0    0  1 |   | 0 0  1   |   | 0 0  1  |   | 0  0 0 |   | 0 0  1   |\n        // Translation after steps 1-4 above:\n        var tx4 = scx * (1 - sx) - rcx;\n        var ty4 = scy * (1 - sy) - rcy;\n        this.dirtyTransform = false;\n        this.matrix.setElements([\n            cos * sx, sin * sx,\n            -sin * sy, cos * sy,\n            cos * tx4 - sin * ty4 + rcx + tx,\n            sin * tx4 + cos * ty4 + rcy + ty\n        ]).inverseTo(this.inverseMatrix);\n    };\n    Object.defineProperty(Node.prototype, \"dirty\", {\n        get: function () {\n            return this._dirty;\n        },\n        set: function (value) {\n            // TODO: check if we are already dirty (e.g. if (this._dirty !== value))\n            //       if we are, then all parents and the scene have been\n            //       notified already, and we are doing redundant work\n            //       (but test if this is indeed the case)\n            this._dirty = value;\n            if (value) {\n                if (this.parent) {\n                    this.parent.dirty = true;\n                }\n                else if (this.scene) {\n                    this.scene.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"visible\", {\n        get: function () {\n            return this._visible;\n        },\n        set: function (value) {\n            if (this._visible !== value) {\n                this._visible = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.MAX_SAFE_INTEGER = Math.pow(2, 53) - 1; // Number.MAX_SAFE_INTEGER\n    return Node;\n}());\nexport { Node };\n","import { cubicSegmentIntersections, segmentIntersection } from \"./intersection\";\nvar Path2D = /** @class */ (function () {\n    function Path2D() {\n        // The methods of this class will likely be called many times per animation frame,\n        // and any allocation can trigger a GC cycle during animation, so we attempt\n        // to minimize the number of allocations.\n        this.commands = [];\n        this.params = [];\n        this._closedPath = false;\n    }\n    Path2D.prototype.moveTo = function (x, y) {\n        if (this.xy) {\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.xy = [x, y];\n        }\n        this.commands.push('M');\n        this.params.push(x, y);\n    };\n    Path2D.prototype.lineTo = function (x, y) {\n        if (this.xy) {\n            this.commands.push('L');\n            this.params.push(x, y);\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.moveTo(x, y);\n        }\n    };\n    Path2D.prototype.rect = function (x, y, width, height) {\n        this.moveTo(x, y);\n        this.lineTo(x + width, y);\n        this.lineTo(x + width, y + height);\n        this.lineTo(x, y + height);\n        this.closePath();\n    };\n    /**\n     * Adds an arc segment to the path definition.\n     * https://www.w3.org/TR/SVG11/paths.html#PathDataEllipticalArcCommands\n     * @param rx The major-axis radius.\n     * @param ry The minor-axis radius.\n     * @param rotation The x-axis rotation, expressed in radians.\n     * @param fA The large arc flag. `1` to use angle > π.\n     * @param fS The sweep flag. `1` for the arc that goes to `x`/`y` clockwise.\n     * @param x2 The x coordinate to arc to.\n     * @param y2 The y coordinate to arc to.\n     */\n    Path2D.prototype.arcTo = function (rx, ry, rotation, fA, fS, x2, y2) {\n        // Convert from endpoint to center parametrization:\n        // https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n        var xy = this.xy;\n        if (!xy) {\n            return;\n        }\n        if (rx < 0) {\n            rx = -rx;\n        }\n        if (ry < 0) {\n            ry = -ry;\n        }\n        var x1 = xy[0];\n        var y1 = xy[1];\n        var hdx = (x1 - x2) / 2;\n        var hdy = (y1 - y2) / 2;\n        var sinPhi = Math.sin(rotation);\n        var cosPhi = Math.cos(rotation);\n        var xp = cosPhi * hdx + sinPhi * hdy;\n        var yp = -sinPhi * hdx + cosPhi * hdy;\n        var ratX = xp / rx;\n        var ratY = yp / ry;\n        var lambda = ratX * ratX + ratY * ratY;\n        var cx = (x1 + x2) / 2;\n        var cy = (y1 + y2) / 2;\n        var cpx = 0;\n        var cpy = 0;\n        if (lambda >= 1) {\n            lambda = Math.sqrt(lambda);\n            rx *= lambda;\n            ry *= lambda;\n            // me gives lambda == cpx == cpy == 0;\n        }\n        else {\n            lambda = Math.sqrt(1 / lambda - 1);\n            if (fA === fS) {\n                lambda = -lambda;\n            }\n            cpx = lambda * rx * ratY;\n            cpy = -lambda * ry * ratX;\n            cx += cosPhi * cpx - sinPhi * cpy;\n            cy += sinPhi * cpx + cosPhi * cpy;\n        }\n        var theta1 = Math.atan2((yp - cpy) / ry, (xp - cpx) / rx);\n        var deltaTheta = Math.atan2((-yp - cpy) / ry, (-xp - cpx) / rx) - theta1;\n        // if (fS) {\n        //     if (deltaTheta <= 0) {\n        //         deltaTheta += Math.PI * 2;\n        //     }\n        // }\n        // else {\n        //     if (deltaTheta >= 0) {\n        //         deltaTheta -= Math.PI * 2;\n        //     }\n        // }\n        this.cubicArc(cx, cy, rx, ry, rotation, theta1, theta1 + deltaTheta, 1 - fS);\n    };\n    /**\n     * Approximates an elliptical arc with up to four cubic Bézier curves.\n     * @param commands The string array to write SVG command letters to.\n     * @param params The number array to write SVG command parameters (cubic control points) to.\n     * @param cx The x-axis coordinate for the ellipse's center.\n     * @param cy The y-axis coordinate for the ellipse's center.\n     * @param rx The ellipse's major-axis radius.\n     * @param ry The ellipse's minor-axis radius.\n     * @param phi The rotation for this ellipse, expressed in radians.\n     * @param theta1 The starting angle, measured clockwise from the positive x-axis and expressed in radians.\n     * @param theta2 The ending angle, measured clockwise from the positive x-axis and expressed in radians.\n     * @param anticlockwise The arc control points are always placed clockwise from `theta1` to `theta2`,\n     * even when `theta1 > theta2`, unless this flag is set to `1`.\n     */\n    Path2D.cubicArc = function (commands, params, cx, cy, rx, ry, phi, theta1, theta2, anticlockwise) {\n        if (anticlockwise) {\n            var temp = theta1;\n            theta1 = theta2;\n            theta2 = temp;\n        }\n        var start = params.length;\n        // See https://pomax.github.io/bezierinfo/#circles_cubic\n        // Arc of unit circle (start angle = 0, end angle <= π/2) in cubic Bézier coordinates:\n        // S = [1, 0]\n        // C1 = [1, f]\n        // C2 = [cos(θ) + f * sin(θ), sin(θ) - f * cos(θ)]\n        // E = [cos(θ), sin(θ)]\n        // f = 4/3 * tan(θ/4)\n        var f90 = 0.5522847498307935; // f for θ = π/2 is 4/3 * (Math.sqrt(2) - 1)\n        var sinTheta1 = Math.sin(theta1);\n        var cosTheta1 = Math.cos(theta1);\n        var sinPhi = Math.sin(phi);\n        var cosPhi = Math.cos(phi);\n        var rightAngle = Math.PI / 2;\n        // Since we know how to draw an arc of a unit circle with a cubic Bézier,\n        // to draw an elliptical arc with arbitrary rotation and radii we:\n        // 1) rotate the Bézier coordinates that represent a circular arc by θ\n        // 2) scale the circular arc separately along the x/y axes, making it elliptical\n        // 3) rotate elliptical arc by φ\n        // |cos(φ) -sin(φ)| |sx  0| |cos(θ) -sin(θ)| -> |xx xy|\n        // |sin(φ)  cos(φ)| | 0 sy| |sin(θ)  cos(θ)| -> |yx yy|\n        var xx = cosPhi * cosTheta1 * rx - sinPhi * sinTheta1 * ry;\n        var yx = sinPhi * cosTheta1 * rx + cosPhi * sinTheta1 * ry;\n        var xy = -cosPhi * sinTheta1 * rx - sinPhi * cosTheta1 * ry;\n        var yy = -sinPhi * sinTheta1 * rx + cosPhi * cosTheta1 * ry;\n        // TODO: what if delta between θ1 and θ2 is greater than 2π?\n        // Always draw clockwise from θ1 to θ2.\n        theta2 -= theta1;\n        if (theta2 < 0) {\n            theta2 += Math.PI * 2;\n        }\n        // Multiplying each point [x, y] by:\n        // |xx xy cx| |x|\n        // |yx yy cy| |y|\n        // | 0  0  1| |1|\n        // TODO: This move command may be redundant, if we are already at this point.\n        // The coordinates of the point calculated here may differ ever so slightly\n        // because of precision error.\n        commands.push('M');\n        params.push(xx + cx, yx + cy);\n        while (theta2 >= rightAngle) {\n            theta2 -= rightAngle;\n            commands.push('C');\n            // Temp workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=993330\n            // Revert this commit when fixed ^^.\n            var lastX = xy + cx;\n            params.push(xx + xy * f90 + cx, yx + yy * f90 + cy, xx * f90 + xy + cx, yx * f90 + yy + cy, Math.abs(lastX) < 1e-8 ? 0 : lastX, yy + cy);\n            // Prepend π/2 rotation matrix.\n            // |xx xy| | 0 1| -> | xy -xx|\n            // |yx yy| |-1 0| -> | yy -yx|\n            // [xx, yx, xy, yy] = [xy, yy, -xx, -yx];\n            // Compared to swapping with a temp variable, destructuring is:\n            // - 10% faster in Chrome 70\n            // - 99% slower in Firefox 63\n            // Temp variable solution is 45% faster in FF than Chrome.\n            // https://jsperf.com/multi-swap\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=1165569\n            var temp = xx;\n            xx = xy;\n            xy = -temp;\n            temp = yx;\n            yx = yy;\n            yy = -temp;\n        }\n        if (theta2) {\n            var f = 4 / 3 * Math.tan(theta2 / 4);\n            var sinPhi2 = Math.sin(theta2);\n            var cosPhi2 = Math.cos(theta2);\n            var C2x = cosPhi2 + f * sinPhi2;\n            var C2y = sinPhi2 - f * cosPhi2;\n            commands.push('C');\n            // Temp workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=993330\n            // Revert this commit when fixed ^^.\n            var lastX = xx * cosPhi2 + xy * sinPhi2 + cx;\n            params.push(xx + xy * f + cx, yx + yy * f + cy, xx * C2x + xy * C2y + cx, yx * C2x + yy * C2y + cy, Math.abs(lastX) < 1e-8 ? 0 : lastX, yx * cosPhi2 + yy * sinPhi2 + cy);\n        }\n        if (anticlockwise) {\n            for (var i = start, j = params.length - 2; i < j; i += 2, j -= 2) {\n                var temp = params[i];\n                params[i] = params[j];\n                params[j] = temp;\n                temp = params[i + 1];\n                params[i + 1] = params[j + 1];\n                params[j + 1] = temp;\n            }\n        }\n    };\n    Path2D.prototype.cubicArc = function (cx, cy, rx, ry, phi, theta1, theta2, anticlockwise) {\n        var commands = this.commands;\n        var params = this.params;\n        var start = commands.length;\n        Path2D.cubicArc(commands, params, cx, cy, rx, ry, phi, theta1, theta2, anticlockwise);\n        var x = params[params.length - 2];\n        var y = params[params.length - 1];\n        if (this.xy) {\n            commands[start] = 'L';\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.xy = [x, y];\n        }\n    };\n    /**\n     * Returns the `[x, y]` coordinates of the curve at `t`.\n     * @param points `(n + 1) * 2` control point coordinates for a Bézier curve of n-th order.\n     * @param t\n     */\n    Path2D.prototype.deCasteljau = function (points, t) {\n        var n = points.length;\n        if (n < 2 || n % 2 === 1) {\n            throw new Error('Fewer than two points or not an even count.');\n        }\n        else if (n === 2 || t === 0) {\n            return points.slice(0, 2);\n        }\n        else if (t === 1) {\n            return points.slice(-2);\n        }\n        else {\n            var newPoints = [];\n            var last = n - 2;\n            for (var i = 0; i < last; i += 2) {\n                newPoints.push((1 - t) * points[i] + t * points[i + 2], // x\n                (1 - t) * points[i + 1] + t * points[i + 3] // y\n                );\n            }\n            return this.deCasteljau(newPoints, t);\n        }\n    };\n    /**\n     * Approximates the given curve using `n` line segments.\n     * @param points `(n + 1) * 2` control point coordinates for a Bézier curve of n-th order.\n     * @param n\n     */\n    Path2D.prototype.approximateCurve = function (points, n) {\n        var xy = this.deCasteljau(points, 0);\n        this.moveTo(xy[0], xy[1]);\n        var step = 1 / n;\n        for (var t = step; t <= 1; t += step) {\n            var xy_1 = this.deCasteljau(points, t);\n            this.lineTo(xy_1[0], xy_1[1]);\n        }\n    };\n    /**\n     * Adds a quadratic curve segment to the path definition.\n     * Note: the given quadratic segment is converted and stored as a cubic one.\n     * @param cx x-component of the curve's control point\n     * @param cy y-component of the curve's control point\n     * @param x x-component of the end point\n     * @param y y-component of the end point\n     */\n    Path2D.prototype.quadraticCurveTo = function (cx, cy, x, y) {\n        if (!this.xy) {\n            this.moveTo(cx, cy);\n        }\n        // See https://pomax.github.io/bezierinfo/#reordering\n        this.cubicCurveTo((this.xy[0] + 2 * cx) / 3, (this.xy[1] + 2 * cy) / 3, // 1/3 start + 2/3 control\n        (2 * cx + x) / 3, (2 * cy + y) / 3, // 2/3 control + 1/3 end\n        x, y);\n    };\n    Path2D.prototype.cubicCurveTo = function (cx1, cy1, cx2, cy2, x, y) {\n        if (!this.xy) {\n            this.moveTo(cx1, cy1);\n        }\n        this.commands.push('C');\n        this.params.push(cx1, cy1, cx2, cy2, x, y);\n        this.xy[0] = x;\n        this.xy[1] = y;\n    };\n    Object.defineProperty(Path2D.prototype, \"closedPath\", {\n        get: function () {\n            return this._closedPath;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Path2D.prototype.closePath = function () {\n        if (this.xy) {\n            this.xy = undefined;\n            this.commands.push('Z');\n            this._closedPath = true;\n        }\n    };\n    Path2D.prototype.clear = function () {\n        this.commands.length = 0;\n        this.params.length = 0;\n        this.xy = undefined;\n        this._closedPath = false;\n    };\n    Path2D.prototype.isPointInPath = function (x, y) {\n        var commands = this.commands;\n        var params = this.params;\n        var cn = commands.length;\n        // Hit testing using ray casting method, where the ray's origin is some point\n        // outside the path. In this case, an offscreen point that is remote enough, so that\n        // even if the path itself is large and is partially offscreen, the ray's origin\n        // will likely be outside the path anyway. To test if the given point is inside the\n        // path or not, we cast a ray from the origin to the given point and check the number\n        // of intersections of this segment with the path. If the number of intersections is\n        // even, then the ray both entered and exited the path an equal number of times,\n        // therefore the point is outside the path, and inside the path, if the number of\n        // intersections is odd. Since the path is compound, we check if the ray segment\n        // intersects with each of the path's segments, which can be either a line segment\n        // (one or no intersection points) or a Bézier curve segment (up to 3 intersection\n        // points).\n        var ox = -10000;\n        var oy = -10000;\n        // the starting point of the  current path\n        var sx = NaN;\n        var sy = NaN;\n        // the previous point of the current path\n        var px = 0;\n        var py = 0;\n        var intersectionCount = 0;\n        for (var ci = 0, pi = 0; ci < cn; ci++) {\n            switch (commands[ci]) {\n                case 'M':\n                    if (!isNaN(sx)) {\n                        if (segmentIntersection(sx, sy, px, py, ox, oy, x, y)) {\n                            intersectionCount++;\n                        }\n                    }\n                    sx = px = params[pi++];\n                    sy = py = params[pi++];\n                    break;\n                case 'L':\n                    if (segmentIntersection(px, py, px = params[pi++], py = params[pi++], ox, oy, x, y)) {\n                        intersectionCount++;\n                    }\n                    break;\n                case 'C':\n                    intersectionCount += cubicSegmentIntersections(px, py, params[pi++], params[pi++], params[pi++], params[pi++], px = params[pi++], py = params[pi++], ox, oy, x, y).length;\n                    break;\n                case 'Z':\n                    if (!isNaN(sx)) {\n                        if (segmentIntersection(sx, sy, px, py, ox, oy, x, y)) {\n                            intersectionCount++;\n                        }\n                    }\n                    break;\n            }\n        }\n        return intersectionCount % 2 === 1;\n    };\n    Path2D.fromString = function (value) {\n        var path = new Path2D();\n        path.setFromString(value);\n        return path;\n    };\n    /**\n     * Split the SVG path at command letters,\n     * then extract the command letter and parameters from each substring.\n     * @param value\n     */\n    Path2D.parseSvgPath = function (value) {\n        return value.trim().split(Path2D.splitCommandsRe).map(function (part) {\n            var strParams = part.match(Path2D.matchParamsRe);\n            return {\n                command: part.substr(0, 1),\n                params: strParams ? strParams.map(parseFloat) : []\n            };\n        });\n    };\n    Path2D.prettifySvgPath = function (value) {\n        return Path2D.parseSvgPath(value).map(function (d) { return d.command + d.params.join(','); }).join('\\n');\n    };\n    /**\n     * See https://www.w3.org/TR/SVG11/paths.html\n     * @param value\n     */\n    Path2D.prototype.setFromString = function (value) {\n        var _this = this;\n        this.clear();\n        var parts = Path2D.parseSvgPath(value);\n        // Current point.\n        var x;\n        var y;\n        // Last control point. Used to calculate the reflection point\n        // for `S`, `s`, `T`, `t` commands.\n        var cpx;\n        var cpy;\n        var lastCommand;\n        function checkQuadraticCP() {\n            if (!lastCommand.match(Path2D.quadraticCommandRe)) {\n                cpx = x;\n                cpy = y;\n            }\n        }\n        function checkCubicCP() {\n            if (!lastCommand.match(Path2D.cubicCommandRe)) {\n                cpx = x;\n                cpy = y;\n            }\n        }\n        // But that will make compiler complain about x/y, cpx/cpy\n        // being used without being set first.\n        parts.forEach(function (part) {\n            var p = part.params;\n            var n = p.length;\n            var i = 0;\n            switch (part.command) {\n                case 'M':\n                    _this.moveTo(x = p[i++], y = p[i++]);\n                    while (i < n) {\n                        _this.lineTo(x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'm':\n                    _this.moveTo(x += p[i++], y += p[i++]);\n                    while (i < n) {\n                        _this.lineTo(x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'L':\n                    while (i < n) {\n                        _this.lineTo(x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'l':\n                    while (i < n) {\n                        _this.lineTo(x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'C':\n                    while (i < n) {\n                        _this.cubicCurveTo(p[i++], p[i++], cpx = p[i++], cpy = p[i++], x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'c':\n                    while (i < n) {\n                        _this.cubicCurveTo(x + p[i++], y + p[i++], cpx = x + p[i++], cpy = y + p[i++], x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'S':\n                    checkCubicCP();\n                    while (i < n) {\n                        _this.cubicCurveTo(x + x - cpx, y + y - cpy, cpx = p[i++], cpy = p[i++], x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 's':\n                    checkCubicCP();\n                    while (i < n) {\n                        _this.cubicCurveTo(x + x - cpx, y + y - cpy, cpx = x + p[i++], cpy = y + p[i++], x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'Q':\n                    while (i < n) {\n                        _this.quadraticCurveTo(cpx = p[i++], cpy = p[i++], x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'q':\n                    while (i < n) {\n                        _this.quadraticCurveTo(cpx = x + p[i++], cpy = y + p[i++], x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'T':\n                    checkQuadraticCP();\n                    while (i < n) {\n                        _this.quadraticCurveTo(cpx = x + x - cpx, cpy = y + y - cpy, x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 't':\n                    checkQuadraticCP();\n                    while (i < n) {\n                        _this.quadraticCurveTo(cpx = x + x - cpx, cpy = y + y - cpy, x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'A':\n                    while (i < n) {\n                        _this.arcTo(p[i++], p[i++], p[i++] * Math.PI / 180, p[i++], p[i++], x = p[i++], y = p[i++]);\n                    }\n                    break;\n                case 'a':\n                    while (i < n) {\n                        _this.arcTo(p[i++], p[i++], p[i++] * Math.PI / 180, p[i++], p[i++], x += p[i++], y += p[i++]);\n                    }\n                    break;\n                case 'Z':\n                case 'z':\n                    _this.closePath();\n                    break;\n                case 'H':\n                    while (i < n) {\n                        _this.lineTo(x = p[i++], y);\n                    }\n                    break;\n                case 'h':\n                    while (i < n) {\n                        _this.lineTo(x += p[i++], y);\n                    }\n                    break;\n                case 'V':\n                    while (i < n) {\n                        _this.lineTo(x, y = p[i++]);\n                    }\n                    break;\n                case 'v':\n                    while (i < n) {\n                        _this.lineTo(x, y += p[i++]);\n                    }\n                    break;\n            }\n            lastCommand = part.command;\n        });\n    };\n    Path2D.prototype.toString = function () {\n        var c = this.commands;\n        var p = this.params;\n        var cn = c.length;\n        var out = [];\n        for (var ci = 0, pi = 0; ci < cn; ci++) {\n            switch (c[ci]) {\n                case 'M':\n                    out.push('M' + p[pi++] + ',' + p[pi++]);\n                    break;\n                case 'L':\n                    out.push('L' + p[pi++] + ',' + p[pi++]);\n                    break;\n                case 'C':\n                    out.push('C' + p[pi++] + ',' + p[pi++] + ' ' +\n                        p[pi++] + ',' + p[pi++] + ' ' +\n                        p[pi++] + ',' + p[pi++]);\n                    break;\n                case 'Z':\n                    out.push('Z');\n                    break;\n            }\n        }\n        return out.join('');\n    };\n    Path2D.prototype.toPrettyString = function () {\n        return Path2D.prettifySvgPath(this.toString());\n    };\n    Path2D.prototype.toSvg = function () {\n        return Path2D.xmlDeclaration + \"\\n<svg width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 50 50\\\" version=\\\"1.1\\\" xmlns=\\\"\" + Path2D.xmlns + \"\\\">\\n    <path d=\\\"\" + this.toString() + \"\\\" style=\\\"fill:none;stroke:#000;stroke-width:0.5;\\\"/>\\n</svg>\";\n    };\n    Path2D.prototype.toDebugSvg = function () {\n        var d = Path2D.prettifySvgPath(this.toString());\n        return Path2D.xmlDeclaration + \"\\n<svg width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 100 100\\\" version=\\\"1.1\\\" xmlns=\\\"\" + Path2D.xmlns + \"\\\">\\n    <path d=\\\"\" + d + \"\\\" style=\\\"fill:none;stroke:#000;stroke-width:0.5;\\\"/>\\n</svg>\";\n    };\n    /**\n     * Returns an array of sub-paths of this Path,\n     * where each sub-path is represented exclusively by cubic segments.\n     */\n    Path2D.prototype.toCubicPaths = function () {\n        // Each sub-path is an array of `(n * 3 + 1) * 2` numbers,\n        // where `n` is the number of segments.\n        var paths = [];\n        var params = this.params;\n        // current path\n        var path;\n        // the starting point of the  current path\n        var sx;\n        var sy;\n        // the previous point of the current path\n        var px;\n        var py;\n        var i = 0; // current parameter\n        this.commands.forEach(function (command) {\n            switch (command) {\n                case 'M':\n                    path = [\n                        sx = px = params[i++],\n                        sy = py = params[i++]\n                    ];\n                    paths.push(path);\n                    break;\n                case 'L':\n                    var x = params[i++];\n                    var y = params[i++];\n                    // Place control points along the line `a + (b - a) * t`\n                    // at t = 1/3 and 2/3:\n                    path.push((px + px + x) / 3, (py + py + y) / 3, (px + x + x) / 3, (py + y + y) / 3, px = x, py = y);\n                    break;\n                case 'C':\n                    path.push(params[i++], params[i++], params[i++], params[i++], px = params[i++], py = params[i++]);\n                    break;\n                case 'Z':\n                    path.push((px + px + sx) / 3, (py + py + sy) / 3, (px + sx + sx) / 3, (py + sy + sy) / 3, px = sx, py = sy);\n                    break;\n            }\n        });\n        return paths;\n    };\n    Path2D.cubicPathToString = function (path) {\n        var n = path.length;\n        if (!(n % 2 === 0 && (n / 2 - 1) / 2 >= 1)) {\n            throw new Error('Invalid path.');\n        }\n        return 'M' + path.slice(0, 2).join(',') + 'C' + path.slice(2).join(',');\n    };\n    Path2D.splitCommandsRe = /(?=[AaCcHhLlMmQqSsTtVvZz])/g;\n    Path2D.matchParamsRe = /-?[0-9]*\\.?\\d+/g;\n    Path2D.quadraticCommandRe = /[QqTt]/;\n    Path2D.cubicCommandRe = /[CcSs]/;\n    Path2D.xmlDeclaration = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n    Path2D.xmlns = 'http://www.w3.org/2000/svg';\n    return Path2D;\n}());\nexport { Path2D };\n","// @ts-ignore Suppress tsc error: Property 'sign' does not exist on type 'Math'\nvar sign = Math.sign ? Math.sign : function (x) {\n    x = +x;\n    if (x === 0 || isNaN(x)) {\n        return x;\n    }\n    return x > 0 ? 1 : -1;\n};\n/**\n * Finds the roots of a parametric linear equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n */\nexport function linearRoot(a, b) {\n    var t = -b / a;\n    return (a !== 0 && t >= 0 && t <= 1) ? [t] : [];\n}\n/**\n * Finds the roots of a parametric quadratic equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n */\nexport function quadraticRoots(a, b, c) {\n    if (a === 0) {\n        return linearRoot(b, c);\n    }\n    var D = b * b - 4 * a * c; // The polynomial's discriminant.\n    var roots = [];\n    if (D === 0) { // A single real root.\n        var t = -b / (2 * a);\n        if (t >= 0 && t <= 1) {\n            roots.push(t);\n        }\n    }\n    else if (D > 0) { // A pair of distinct real roots.\n        var rD = Math.sqrt(D);\n        var t1 = (-b - rD) / (2 * a);\n        var t2 = (-b + rD) / (2 * a);\n        if (t1 >= 0 && t1 <= 1) {\n            roots.push(t1);\n        }\n        if (t2 >= 0 && t2 <= 1) {\n            roots.push(t2);\n        }\n    }\n    // else -> Complex roots.\n    return roots;\n}\n/**\n * Finds the roots of a parametric cubic equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n * Returns an array of parametric intersection locations along the cubic,\n * excluding out-of-bounds intersections (before or after the end point\n * or in the imaginary plane).\n * An adaptation of http://www.particleincell.com/blog/2013/cubic-line-intersection/\n */\nexport function cubicRoots(a, b, c, d) {\n    if (a === 0) {\n        return quadraticRoots(b, c, d);\n    }\n    var A = b / a;\n    var B = c / a;\n    var C = d / a;\n    var Q = (3 * B - A * A) / 9;\n    var R = (9 * A * B - 27 * C - 2 * A * A * A) / 54;\n    var D = Q * Q * Q + R * R; // The polynomial's discriminant.\n    var third = 1 / 3;\n    var roots = [];\n    if (D >= 0) { // Complex or duplicate roots.\n        var rD = Math.sqrt(D);\n        var S = sign(R + rD) * Math.pow(Math.abs(R + rD), third);\n        var T = sign(R - rD) * Math.pow(Math.abs(R - rD), third);\n        var Im = Math.abs(Math.sqrt(3) * (S - T) / 2); // Complex part of the root pair.\n        var t = -third * A + (S + T); // A real root.\n        if (t >= 0 && t <= 1) {\n            roots.push(t);\n        }\n        if (Im === 0) {\n            var t_1 = -third * A - (S + T) / 2; // The real part of a complex root.\n            if (t_1 >= 0 && t_1 <= 1) {\n                roots.push(t_1);\n            }\n        }\n    }\n    else { // Distinct real roots.\n        var theta = Math.acos(R / Math.sqrt(-Q * Q * Q));\n        var thirdA = third * A;\n        var twoSqrtQ = 2 * Math.sqrt(-Q);\n        var t1 = twoSqrtQ * Math.cos(third * theta) - thirdA;\n        var t2 = twoSqrtQ * Math.cos(third * (theta + 2 * Math.PI)) - thirdA;\n        var t3 = twoSqrtQ * Math.cos(third * (theta + 4 * Math.PI)) - thirdA;\n        if (t1 >= 0 && t1 <= 1) {\n            roots.push(t1);\n        }\n        if (t2 >= 0 && t2 <= 1) {\n            roots.push(t2);\n        }\n        if (t3 >= 0 && t3 <= 1) {\n            roots.push(t3);\n        }\n    }\n    return roots;\n}\n","import { HdpiCanvas } from \"../canvas/hdpiCanvas\";\nimport { createId } from \"../util/id\";\nvar Scene = /** @class */ (function () {\n    // As a rule of thumb, constructors with no parameters are preferred.\n    // A few exceptions are:\n    // - we absolutely need to know something at construction time (document)\n    // - knowing something at construction time meaningfully improves performance (width, height)\n    function Scene(document, width, height) {\n        var _this = this;\n        if (document === void 0) { document = window.document; }\n        this.id = createId(this);\n        this._dirty = false;\n        this.animationFrameId = 0;\n        this._root = null;\n        this.debug = {\n            renderFrameIndex: false,\n            renderBoundingBoxes: false\n        };\n        this._frameIndex = 0;\n        this.render = function () {\n            var _a;\n            var _b = _this, ctx = _b.ctx, root = _b.root, pendingSize = _b.pendingSize;\n            _this.animationFrameId = 0;\n            if (pendingSize) {\n                (_a = _this.canvas).resize.apply(_a, pendingSize);\n                _this.pendingSize = undefined;\n            }\n            if (root && !root.visible) {\n                _this.dirty = false;\n                return;\n            }\n            // start with a blank canvas, clear previous drawing\n            ctx.clearRect(0, 0, _this.width, _this.height);\n            if (root) {\n                ctx.save();\n                if (root.visible) {\n                    root.render(ctx);\n                }\n                ctx.restore();\n            }\n            _this._frameIndex++;\n            if (_this.debug.renderFrameIndex) {\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, 40, 15);\n                ctx.fillStyle = 'black';\n                ctx.fillText(_this.frameIndex.toString(), 2, 10);\n            }\n            _this.dirty = false;\n        };\n        this.canvas = new HdpiCanvas(document, width, height);\n        this.ctx = this.canvas.context;\n    }\n    Object.defineProperty(Scene.prototype, \"container\", {\n        get: function () {\n            return this.canvas.container;\n        },\n        set: function (value) {\n            this.canvas.container = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.download = function (fileName) {\n        this.canvas.download(fileName);\n    };\n    Scene.prototype.getDataURL = function (type) {\n        return this.canvas.getDataURL(type);\n    };\n    Object.defineProperty(Scene.prototype, \"width\", {\n        get: function () {\n            return this.pendingSize ? this.pendingSize[0] : this.canvas.width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Scene.prototype, \"height\", {\n        get: function () {\n            return this.pendingSize ? this.pendingSize[1] : this.canvas.height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.resize = function (width, height) {\n        width = Math.round(width);\n        height = Math.round(height);\n        if (width === this.width && height === this.height) {\n            return;\n        }\n        this.pendingSize = [width, height];\n        this.dirty = true;\n    };\n    Object.defineProperty(Scene.prototype, \"dirty\", {\n        get: function () {\n            return this._dirty;\n        },\n        set: function (dirty) {\n            if (dirty && !this._dirty) {\n                this.animationFrameId = requestAnimationFrame(this.render);\n            }\n            this._dirty = dirty;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.cancelRender = function () {\n        if (this.animationFrameId) {\n            cancelAnimationFrame(this.animationFrameId);\n            this.animationFrameId = 0;\n            this._dirty = false;\n        }\n    };\n    Object.defineProperty(Scene.prototype, \"root\", {\n        get: function () {\n            return this._root;\n        },\n        set: function (node) {\n            if (node === this._root) {\n                return;\n            }\n            if (this._root) {\n                this._root._setScene();\n            }\n            this._root = node;\n            if (node) {\n                // If `node` is the root node of another scene ...\n                if (node.parent === null && node.scene && node.scene !== this) {\n                    node.scene.root = null;\n                }\n                node._setScene(this);\n            }\n            this.dirty = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.appendPath = function (path) {\n        var ctx = this.ctx;\n        var commands = path.commands;\n        var params = path.params;\n        var n = commands.length;\n        var j = 0;\n        ctx.beginPath();\n        for (var i = 0; i < n; i++) {\n            switch (commands[i]) {\n                case 'M':\n                    ctx.moveTo(params[j++], params[j++]);\n                    break;\n                case 'L':\n                    ctx.lineTo(params[j++], params[j++]);\n                    break;\n                case 'C':\n                    ctx.bezierCurveTo(params[j++], params[j++], params[j++], params[j++], params[j++], params[j++]);\n                    break;\n                case 'Z':\n                    ctx.closePath();\n                    break;\n            }\n        }\n    };\n    Object.defineProperty(Scene.prototype, \"frameIndex\", {\n        get: function () {\n            return this._frameIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.className = 'Scene';\n    return Scene;\n}());\nexport { Scene };\n","import { Node } from \"./node\";\nvar EnterNode = /** @class */ (function () {\n    function EnterNode(parent, datum) {\n        this.next = null;\n        this.scene = parent.scene;\n        this.parent = parent;\n        this.datum = datum;\n    }\n    EnterNode.prototype.appendChild = function (node) {\n        // This doesn't work without the `strict: true` in the `tsconfig.json`,\n        // so we must have two `if` checks below, instead of this single one.\n        // if (this.next && !Node.isNode(this.next)) {\n        //     throw new Error(`${this.next} is not a Node.`);\n        // }\n        if (this.next === null) {\n            return this.parent.insertBefore(node, null);\n        }\n        if (!Node.isNode(this.next)) {\n            throw new Error(this.next + \" is not a Node.\");\n        }\n        return this.parent.insertBefore(node, this.next);\n    };\n    EnterNode.prototype.insertBefore = function (node, nextNode) {\n        return this.parent.insertBefore(node, nextNode);\n    };\n    return EnterNode;\n}());\nexport { EnterNode };\n/**\n * G - type of the selected node(s).\n * GDatum - type of the datum of the selected node(s).\n * P - type of the parent node(s).\n * PDatum - type of the datum of the parent node(s).\n */\nvar Selection = /** @class */ (function () {\n    function Selection(groups, parents) {\n        this.groups = groups;\n        this.parents = parents;\n    }\n    Selection.select = function (node) {\n        return new Selection([[typeof node === 'function' ? node() : node]], [undefined]);\n    };\n    Selection.selectAll = function (nodes) {\n        return new Selection([nodes == null ? [] : nodes], [undefined]);\n    };\n    /**\n     * Creates new nodes, appends them to the nodes of this selection and returns them\n     * as a new selection. The created nodes inherit the datums and the parents of the nodes\n     * they replace.\n     * @param Class The constructor function to use to create the new nodes.\n     */\n    Selection.prototype.append = function (Class) {\n        return this.select(function (node) {\n            return node.appendChild(new Class());\n        });\n    };\n    /**\n     * Same as the {@link append}, but accepts a custom creator function with the\n     * {@link NodeSelector} signature rather than a constructor function.\n     * @param creator\n     */\n    Selection.prototype.appendFn = function (creator) {\n        return this.select(function (node, data, index, group) {\n            return node.appendChild(creator(node, data, index, group));\n        });\n    };\n    /**\n     * Runs the given selector that returns a single node for every node in each group.\n     * The original nodes are then replaced by the nodes returned by the selector\n     * and returned as a new selection.\n     * The selected nodes inherit the datums and the parents of the original nodes.\n     */\n    Selection.prototype.select = function (selector) {\n        var groups = this.groups;\n        var numGroups = groups.length;\n        var subgroups = [];\n        for (var j = 0; j < numGroups; j++) {\n            var group = groups[j];\n            var groupSize = group.length;\n            var subgroup = subgroups[j] = new Array(groupSize);\n            for (var i = 0; i < groupSize; i++) {\n                var node = group[i];\n                if (node) {\n                    var subnode = selector(node, node.datum, i, group);\n                    if (subnode) {\n                        subnode.datum = node.datum;\n                    }\n                    subgroup[i] = subnode;\n                }\n                // else this can be a group of the `enter` selection,\n                // for example, with no nodes at the i-th position,\n                // only nodes at the end of the group\n            }\n        }\n        return new Selection(subgroups, this.parents);\n    };\n    /**\n     * Same as {@link select}, but uses the given {@param Class} (constructor) as a selector.\n     * @param Class The constructor function to use to find matching nodes.\n     */\n    Selection.prototype.selectByClass = function (Class) {\n        return this.select(function (node) {\n            if (Node.isNode(node)) {\n                var children = node.children;\n                var n = children.length;\n                for (var i = 0; i < n; i++) {\n                    var child = children[i];\n                    if (child instanceof Class) {\n                        return child;\n                    }\n                }\n            }\n        });\n    };\n    Selection.prototype.selectByTag = function (tag) {\n        return this.select(function (node) {\n            if (Node.isNode(node)) {\n                var children = node.children;\n                var n = children.length;\n                for (var i = 0; i < n; i++) {\n                    var child = children[i];\n                    if (child.tag === tag) {\n                        return child;\n                    }\n                }\n            }\n        });\n    };\n    Selection.prototype.selectAllByClass = function (Class) {\n        return this.selectAll(function (node) {\n            var nodes = [];\n            if (Node.isNode(node)) {\n                var children = node.children;\n                var n = children.length;\n                for (var i = 0; i < n; i++) {\n                    var child = children[i];\n                    if (child instanceof Class) {\n                        nodes.push(child);\n                    }\n                }\n            }\n            return nodes;\n        });\n    };\n    Selection.prototype.selectAllByTag = function (tag) {\n        return this.selectAll(function (node) {\n            var nodes = [];\n            if (Node.isNode(node)) {\n                var children = node.children;\n                var n = children.length;\n                for (var i = 0; i < n; i++) {\n                    var child = children[i];\n                    if (child.tag === tag) {\n                        nodes.push(child);\n                    }\n                }\n            }\n            return nodes;\n        });\n    };\n    Selection.prototype.selectNone = function () {\n        return [];\n    };\n    /**\n     * Runs the given selector that returns a group of nodes for every node in each group.\n     * The original nodes are then replaced by the groups of nodes returned by the selector\n     * and returned as a new selection. The original nodes become the parent nodes for each\n     * group in the new selection. The selected nodes do not inherit the datums of the original nodes.\n     * If called without any parameters, creates a new selection with an empty group for each\n     * node in this selection.\n     */\n    Selection.prototype.selectAll = function (selectorAll) {\n        if (!selectorAll) {\n            selectorAll = this.selectNone;\n        }\n        // Each subgroup is populated with the selector (run on each group node) results.\n        var subgroups = [];\n        // In the new selection that we return, subgroups become groups,\n        // and group nodes become parents.\n        var parents = [];\n        var groups = this.groups;\n        var groupCount = groups.length;\n        for (var j = 0; j < groupCount; j++) {\n            var group = groups[j];\n            var groupLength = group.length;\n            for (var i = 0; i < groupLength; i++) {\n                var node = group[i];\n                if (node) {\n                    subgroups.push(selectorAll(node, node.datum, i, group));\n                    parents.push(node);\n                }\n            }\n        }\n        return new Selection(subgroups, parents);\n    };\n    /**\n     * Runs the given callback for every node in this selection and returns this selection.\n     * @param cb\n     */\n    Selection.prototype.each = function (cb) {\n        var groups = this.groups;\n        var numGroups = groups.length;\n        for (var j = 0; j < numGroups; j++) {\n            var group = groups[j];\n            var groupSize = group.length;\n            for (var i = 0; i < groupSize; i++) {\n                var node = group[i];\n                if (node) {\n                    cb(node, node.datum, i, group);\n                }\n            }\n        }\n        return this;\n    };\n    Selection.prototype.remove = function () {\n        return this.each(function (node) {\n            if (Node.isNode(node)) {\n                var parent_1 = node.parent;\n                if (parent_1) {\n                    parent_1.removeChild(node);\n                }\n            }\n        });\n    };\n    Selection.prototype.merge = function (other) {\n        var groups0 = this.groups;\n        var groups1 = other.groups;\n        var m0 = groups0.length;\n        var m1 = groups1.length;\n        var m = Math.min(m0, m1);\n        var merges = new Array(m0);\n        var j = 0;\n        for (; j < m; j++) {\n            var group0 = groups0[j];\n            var group1 = groups1[j];\n            var n = group0.length;\n            var merge = merges[j] = new Array(n);\n            for (var i = 0; i < n; i++) {\n                var node = group0[i] || group1[i];\n                merge[i] = node || undefined;\n            }\n        }\n        for (; j < m0; j++) {\n            merges[j] = groups0[j];\n        }\n        return new Selection(merges, this.parents);\n    };\n    /**\n     * Return the first non-null element in this selection.\n     * If the selection is empty, returns null.\n     */\n    Selection.prototype.node = function () {\n        var groups = this.groups;\n        var numGroups = groups.length;\n        for (var j = 0; j < numGroups; j++) {\n            var group = groups[j];\n            var groupSize = group.length;\n            for (var i = 0; i < groupSize; i++) {\n                var node = group[i];\n                if (node) {\n                    return node;\n                }\n            }\n        }\n        return null;\n    };\n    Selection.prototype.attr = function (name, value) {\n        this.each(function (node) {\n            node[name] = value;\n        });\n        return this;\n    };\n    Selection.prototype.attrFn = function (name, value) {\n        this.each(function (node, datum, index, group) {\n            node[name] = value(node, datum, index, group);\n        });\n        return this;\n    };\n    /**\n     * Invokes the given function once, passing in this selection.\n     * Returns this selection. Facilitates method chaining.\n     * @param cb\n     */\n    Selection.prototype.call = function (cb) {\n        cb(this);\n        return this;\n    };\n    Object.defineProperty(Selection.prototype, \"size\", {\n        /**\n         * Returns the total number of nodes in this selection.\n         */\n        get: function () {\n            var size = 0;\n            this.each(function () { return size++; });\n            return size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Selection.prototype, \"data\", {\n        /**\n         * Returns the array of data for the selected elements.\n         */\n        get: function () {\n            var data = [];\n            this.each(function (_, datum) { return data.push(datum); });\n            return data;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Selection.prototype, \"enter\", {\n        get: function () {\n            return new Selection(this.enterGroups ? this.enterGroups : [[]], this.parents);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Selection.prototype, \"exit\", {\n        get: function () {\n            return new Selection(this.exitGroups ? this.exitGroups : [[]], this.parents);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Binds the given value to each selected node and returns this selection\n     * with its {@link GDatum} type changed to the type of the given value.\n     * This method doesn't compute a join and doesn't affect indexes or the enter and exit selections.\n     * This method can also be used to clear bound data.\n     * @param value\n     */\n    Selection.prototype.setDatum = function (value) {\n        return this.each(function (node) {\n            node.datum = value;\n        });\n    };\n    Object.defineProperty(Selection.prototype, \"datum\", {\n        /**\n         * Returns the bound datum for the first non-null element in the selection.\n         * This is generally useful only if you know the selection contains exactly one element.\n         */\n        get: function () {\n            var node = this.node();\n            return node ? node.datum : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Binds the specified array of values with the selected nodes, returning a new selection\n     * that represents the _update_ selection: the nodes successfully bound to the values.\n     * Also defines the {@link enter} and {@link exit} selections on the returned selection,\n     * which can be used to add or remove the nodes to correspond to the new data.\n     * The `values` is an array of values of a particular type, or a function that returns\n     * an array of values for each group.\n     * When values are assigned to the nodes, they are stored in the {@link Node.datum} property.\n     * @param values\n     * @param key\n     */\n    Selection.prototype.setData = function (values, key) {\n        if (typeof values !== 'function') {\n            var data_1 = values;\n            values = function () { return data_1; };\n        }\n        var groups = this.groups;\n        var parents = this.parents;\n        var numGroups = groups.length;\n        var updateGroups = new Array(numGroups);\n        var enterGroups = new Array(numGroups);\n        var exitGroups = new Array(numGroups);\n        for (var j = 0; j < numGroups; j++) {\n            var group = groups[j];\n            var parent_2 = parents[j];\n            if (!parent_2) {\n                throw new Error(\"Group #\" + j + \" has no parent: \" + group);\n            }\n            var groupSize = group.length;\n            var data = values(parent_2, parent_2.datum, j, parents);\n            var dataSize = data.length;\n            var enterGroup = enterGroups[j] = new Array(dataSize);\n            var updateGroup = updateGroups[j] = new Array(dataSize);\n            var exitGroup = exitGroups[j] = new Array(groupSize);\n            if (key) {\n                this.bindKey(parent_2, group, enterGroup, updateGroup, exitGroup, data, key);\n            }\n            else {\n                this.bindIndex(parent_2, group, enterGroup, updateGroup, exitGroup, data);\n            }\n            // Now connect the enter nodes to their following update node, such that\n            // appendChild can insert the materialized enter node before this node,\n            // rather than at the end of the parent node.\n            for (var i0 = 0, i1 = 0; i0 < dataSize; i0++) {\n                var previous = enterGroup[i0];\n                if (previous) {\n                    if (i0 >= i1) {\n                        i1 = i0 + 1;\n                    }\n                    var next = void 0;\n                    while (!(next = updateGroup[i1]) && i1 < dataSize) {\n                        i1++;\n                    }\n                    previous.next = next || null;\n                }\n            }\n        }\n        var result = new Selection(updateGroups, parents);\n        result.enterGroups = enterGroups;\n        result.exitGroups = exitGroups;\n        return result;\n    };\n    Selection.prototype.bindIndex = function (parent, group, enter, update, exit, data) {\n        var groupSize = group.length;\n        var dataSize = data.length;\n        var i = 0;\n        for (; i < dataSize; i++) {\n            var node = group[i];\n            if (node) {\n                node.datum = data[i];\n                update[i] = node;\n            }\n            else { // more datums than group nodes\n                enter[i] = new EnterNode(parent, data[i]);\n            }\n        }\n        // more group nodes than datums\n        for (; i < groupSize; i++) {\n            var node = group[i];\n            if (node) {\n                exit[i] = node;\n            }\n        }\n    };\n    Selection.prototype.bindKey = function (parent, group, enter, update, exit, data, key) {\n        var groupSize = group.length;\n        var dataSize = data.length;\n        var keyValues = new Array(groupSize);\n        var nodeByKeyValue = {};\n        // Compute the key for each node.\n        // If multiple nodes have the same key, the duplicates are added to exit.\n        for (var i = 0; i < groupSize; i++) {\n            var node = group[i];\n            if (node) {\n                var keyValue = keyValues[i] = Selection.keyPrefix + key(node, node.datum, i, group);\n                if (keyValue in nodeByKeyValue) {\n                    exit[i] = node;\n                }\n                else {\n                    nodeByKeyValue[keyValue] = node;\n                }\n            }\n        }\n        // Compute the key for each datum.\n        // If there is a node associated with this key, join and add it to update.\n        // If there is not (or the key is a duplicate), add it to enter.\n        for (var i = 0; i < dataSize; i++) {\n            var keyValue = Selection.keyPrefix + key(parent, data[i], i, data);\n            var node = nodeByKeyValue[keyValue];\n            if (node) {\n                update[i] = node;\n                node.datum = data[i];\n                nodeByKeyValue[keyValue] = undefined;\n            }\n            else {\n                enter[i] = new EnterNode(parent, data[i]);\n            }\n        }\n        // Add any remaining nodes that were not bound to data to exit.\n        for (var i = 0; i < groupSize; i++) {\n            var node = group[i];\n            if (node && (nodeByKeyValue[keyValues[i]] === node)) {\n                exit[i] = node;\n            }\n        }\n    };\n    Selection.keyPrefix = '$'; // Protect against keys like '__proto__'.\n    return Selection;\n}());\nexport { Selection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { Path } from \"./path\";\nimport { BBox } from \"../bbox\";\nimport { normalizeAngle360 } from \"../../util/angle\";\nimport { chainObjects } from \"../../util/object\";\nimport { isEqual } from \"../../util/number\";\nexport var ArcType;\n(function (ArcType) {\n    ArcType[ArcType[\"Open\"] = 0] = \"Open\";\n    ArcType[ArcType[\"Chord\"] = 1] = \"Chord\";\n    ArcType[ArcType[\"Round\"] = 2] = \"Round\";\n})(ArcType || (ArcType = {}));\n/**\n * Elliptical arc node.\n */\nvar Arc = /** @class */ (function (_super) {\n    __extends(Arc, _super);\n    function Arc() {\n        var _this = _super.call(this) || this;\n        _this._centerX = 0;\n        _this._centerY = 0;\n        _this._radiusX = 10;\n        _this._radiusY = 10;\n        _this._startAngle = 0;\n        _this._endAngle = Math.PI * 2;\n        _this._counterClockwise = false;\n        /**\n         * The type of arc to render:\n         * - {@link ArcType.Open} - end points of the arc segment are not connected (default)\n         * - {@link ArcType.Chord} - end points of the arc segment are connected by a line segment\n         * - {@link ArcType.Round} - each of the end points of the arc segment are connected\n         *                           to the center of the arc\n         * Arcs with {@link ArcType.Open} do not support hit testing, even if they have their\n         * {@link Shape.fillStyle} set, because they are not closed paths. Hit testing support\n         * would require using two paths - one for rendering, another for hit testing - and there\n         * doesn't seem to be a compelling reason to do that, when one can just use {@link ArcType.Chord}\n         * to create a closed path.\n         */\n        _this._type = ArcType.Open;\n        _this.restoreOwnStyles();\n        return _this;\n    }\n    Object.defineProperty(Arc.prototype, \"centerX\", {\n        get: function () {\n            return this._centerX;\n        },\n        set: function (value) {\n            if (this._centerX !== value) {\n                this._centerX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"centerY\", {\n        get: function () {\n            return this._centerY;\n        },\n        set: function (value) {\n            if (this._centerY !== value) {\n                this._centerY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"radiusX\", {\n        get: function () {\n            return this._radiusX;\n        },\n        set: function (value) {\n            if (this._radiusX !== value) {\n                this._radiusX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"radiusY\", {\n        get: function () {\n            return this._radiusY;\n        },\n        set: function (value) {\n            if (this._radiusY !== value) {\n                this._radiusY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"startAngle\", {\n        get: function () {\n            return this._startAngle;\n        },\n        set: function (value) {\n            if (this._startAngle !== value) {\n                this._startAngle = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"endAngle\", {\n        get: function () {\n            return this._endAngle;\n        },\n        set: function (value) {\n            if (this._endAngle !== value) {\n                this._endAngle = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"fullPie\", {\n        get: function () {\n            return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"counterClockwise\", {\n        get: function () {\n            return this._counterClockwise;\n        },\n        set: function (value) {\n            if (this._counterClockwise !== value) {\n                this._counterClockwise = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Arc.prototype, \"type\", {\n        get: function () {\n            return this._type;\n        },\n        set: function (value) {\n            if (this._type !== value) {\n                this._type = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Arc.prototype.updatePath = function () {\n        var path = this.path;\n        path.clear(); // No need to recreate the Path, can simply clear the existing one.\n        // This is much faster than the native Path2D implementation even though this `cubicArc`\n        // method is pure TypeScript and actually produces the definition of an elliptical arc,\n        // where you can specify two radii and rotation, while Path2D's `arc` method simply produces\n        // a circular arc. Maybe it's due to the experimental nature of the Path2D class,\n        // maybe it's because we have to create a new instance of it on each render, who knows...\n        path.cubicArc(this.centerX, this.centerY, this.radiusX, this.radiusY, 0, this.startAngle, this.endAngle, this.counterClockwise ? 1 : 0);\n        if (this.type === ArcType.Chord) {\n            path.closePath();\n        }\n        else if (this.type === ArcType.Round && !this.fullPie) {\n            path.lineTo(this.centerX, this.centerY);\n            path.closePath();\n        }\n    };\n    Arc.prototype.computeBBox = function () {\n        // Only works with full arcs (circles) and untransformed ellipses.\n        return new BBox(this.centerX - this.radiusX, this.centerY - this.radiusY, this.radiusX * 2, this.radiusY * 2);\n    };\n    Arc.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return this.type !== ArcType.Open\n            && bbox.containsPoint(point.x, point.y)\n            && this.path.isPointInPath(point.x, point.y);\n    };\n    Arc.className = 'Arc';\n    Arc.defaultStyles = chainObjects(Shape.defaultStyles, {\n        lineWidth: 1,\n        fillStyle: null\n    });\n    return Arc;\n}(Path));\nexport { Arc };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { chainObjects } from \"../../util/object\";\nimport { BBox } from \"../bbox\";\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        var _this = _super.call(this) || this;\n        _this._x1 = 0;\n        _this._y1 = 0;\n        _this._x2 = 0;\n        _this._y2 = 0;\n        _this.restoreOwnStyles();\n        return _this;\n    }\n    Object.defineProperty(Line.prototype, \"x1\", {\n        get: function () {\n            // TODO: Investigate getter performance further in the context\n            //       of the scene graph.\n            //       In isolated benchmarks using a getter has the same\n            //       performance as a direct property access in Firefox 64.\n            //       But in Chrome 71 the getter is 60% slower than direct access.\n            //       Direct read is 4.5+ times slower in Chrome than it is in Firefox.\n            //       Property access and direct read have the same performance\n            //       in Safari 12, which is 2+ times faster than Firefox at this.\n            // https://jsperf.com/es5-getters-setters-versus-getter-setter-methods/18\n            // This is a know Chrome issue. They say it's not a regression, since\n            // the behavior is observed since M60, but jsperf.com history shows the\n            // 10x slowdown happened between Chrome 48 and Chrome 57.\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=908743\n            return this._x1;\n        },\n        set: function (value) {\n            if (this._x1 !== value) {\n                this._x1 = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Line.prototype, \"y1\", {\n        get: function () {\n            return this._y1;\n        },\n        set: function (value) {\n            if (this._y1 !== value) {\n                this._y1 = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Line.prototype, \"x2\", {\n        get: function () {\n            return this._x2;\n        },\n        set: function (value) {\n            if (this._x2 !== value) {\n                this._x2 = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Line.prototype, \"y2\", {\n        get: function () {\n            return this._y2;\n        },\n        set: function (value) {\n            if (this._y2 !== value) {\n                this._y2 = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Line.prototype.computeBBox = function () {\n        return new BBox(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);\n    };\n    Line.prototype.isPointInPath = function (x, y) {\n        return false;\n    };\n    Line.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Line.prototype.render = function (ctx) {\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.matrix.toContext(ctx);\n        var x1 = this.x1;\n        var y1 = this.y1;\n        var x2 = this.x2;\n        var y2 = this.y2;\n        // Align to the pixel grid if the line is strictly vertical\n        // or horizontal (but not both, i.e. a dot).\n        if (x1 === x2) {\n            var x = Math.round(x1) + Math.floor(this.strokeWidth) % 2 / 2;\n            x1 = x;\n            x2 = x;\n        }\n        else if (y1 === y2) {\n            var y = Math.round(y1) + Math.floor(this.strokeWidth) % 2 / 2;\n            y1 = y;\n            y2 = y;\n        }\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        this.fillStroke(ctx);\n        this.dirty = false;\n    };\n    Line.className = 'Line';\n    Line.defaultStyles = chainObjects(Shape.defaultStyles, {\n        fill: undefined,\n        strokeWidth: 1\n    });\n    return Line;\n}(Shape));\nexport { Line };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { Path2D } from \"../path2D\";\nvar Path = /** @class */ (function (_super) {\n    __extends(Path, _super);\n    function Path() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * Declare a path to retain for later rendering and hit testing\n         * using custom Path2D class. Think of it as a TypeScript version\n         * of the native Path2D (with some differences) that works in all browsers.\n         */\n        _this.path = new Path2D();\n        /**\n        * The path only has to be updated when certain attributes change.\n        * For example, if transform attributes (such as `translationX`)\n        * are changed, we don't have to update the path. The `dirtyPath` flag\n        * is how we keep track if the path has to be updated or not.\n        */\n        _this._dirtyPath = true;\n        /**\n         * Path definition in SVG path syntax:\n         * https://www.w3.org/TR/SVG11/paths.html#DAttribute\n         */\n        _this._svgPath = '';\n        return _this;\n    }\n    Object.defineProperty(Path.prototype, \"dirtyPath\", {\n        get: function () {\n            return this._dirtyPath;\n        },\n        set: function (value) {\n            if (this._dirtyPath !== value) {\n                this._dirtyPath = value;\n                if (value) {\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Path.prototype, \"svgPath\", {\n        get: function () {\n            return this._svgPath;\n        },\n        set: function (value) {\n            if (this._svgPath !== value) {\n                this._svgPath = value;\n                this.path.setFromString(value);\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Path.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        return this.path.closedPath && this.path.isPointInPath(point.x, point.y);\n    };\n    Path.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Path.prototype.updatePath = function () { };\n    Path.prototype.render = function (ctx) {\n        var scene = this.scene;\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        // if (scene.debug.renderBoundingBoxes) {\n        //     const bbox = this.computeBBox();\n        //     if (bbox) {\n        //         this.matrix.transformBBox(bbox).render(ctx);\n        //     }\n        // }\n        this.matrix.toContext(ctx);\n        if (this.dirtyPath) {\n            this.updatePath();\n            this.dirtyPath = false;\n        }\n        scene.appendPath(this.path);\n        this.fillStroke(ctx);\n        this.dirty = false;\n    };\n    Path.className = 'Path';\n    return Path;\n}(Shape));\nexport { Path };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Path } from \"./path\";\nimport { Shape } from \"./shape\";\nimport { BBox } from \"../bbox\";\nimport { LinearGradient } from \"../gradient/linearGradient\";\nimport { Color } from \"../../util/color\";\nexport var RectSizing;\n(function (RectSizing) {\n    RectSizing[RectSizing[\"Content\"] = 0] = \"Content\";\n    RectSizing[RectSizing[\"Border\"] = 1] = \"Border\";\n})(RectSizing || (RectSizing = {}));\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    function Rect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._x = 0;\n        _this._y = 0;\n        _this._width = 10;\n        _this._height = 10;\n        _this._radius = 0;\n        /**\n         * If `true`, the rect is aligned to the pixel grid for crisp looking lines.\n         * Animated rects may not look nice with this option enabled, for example\n         * when a rect is translated by a sub-pixel value on each frame.\n         */\n        _this._crisp = false;\n        _this._gradient = false;\n        _this.effectiveStrokeWidth = Shape.defaultStyles.strokeWidth;\n        /**\n         * Similar to https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing\n         */\n        _this._sizing = RectSizing.Content;\n        return _this;\n    }\n    Object.defineProperty(Rect.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"radius\", {\n        get: function () {\n            return this._radius;\n        },\n        set: function (value) {\n            if (this._radius !== value) {\n                this._radius = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"crisp\", {\n        get: function () {\n            return this._crisp;\n        },\n        set: function (value) {\n            if (this._crisp !== value) {\n                this._crisp = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"gradient\", {\n        get: function () {\n            return this._gradient;\n        },\n        set: function (value) {\n            if (this._gradient !== value) {\n                this._gradient = value;\n                this.updateGradientInstance();\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Rect.prototype.updateGradientInstance = function () {\n        if (this.gradient) {\n            var fill = this.fill;\n            if (fill) {\n                var gradient = new LinearGradient();\n                gradient.angle = 270;\n                gradient.stops = [{\n                        offset: 0,\n                        color: Color.fromString(fill).brighter().toString()\n                    }, {\n                        offset: 1,\n                        color: Color.fromString(fill).darker().toString()\n                    }];\n                this.gradientInstance = gradient;\n            }\n        }\n        else {\n            this.gradientInstance = undefined;\n        }\n    };\n    Object.defineProperty(Rect.prototype, \"fill\", {\n        get: function () {\n            return this._fill;\n        },\n        set: function (value) {\n            if (this._fill !== value) {\n                this._fill = value;\n                this.updateGradientInstance();\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                // Normally, when the `lineWidth` changes, we only need to repaint the rect\n                // without updating the path. If the `isCrisp` is set to `true` however,\n                // we need to update the path to make sure the new stroke aligns to\n                // the pixel grid. This is the reason we override the `lineWidth` setter\n                // and getter here.\n                if (this.crisp || this.sizing === RectSizing.Border) {\n                    this.dirtyPath = true;\n                }\n                else {\n                    this.effectiveStrokeWidth = value;\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"sizing\", {\n        get: function () {\n            return this._sizing;\n        },\n        set: function (value) {\n            if (this._sizing !== value) {\n                this._sizing = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Rect.prototype.updatePath = function () {\n        var borderSizing = this.sizing === RectSizing.Border;\n        var path = this.path;\n        path.clear();\n        var x = this.x;\n        var y = this.y;\n        var width = this.width;\n        var height = this.height;\n        var strokeWidth;\n        if (borderSizing) {\n            var halfWidth = width / 2;\n            var halfHeight = height / 2;\n            strokeWidth = Math.min(this.strokeWidth, halfWidth, halfHeight);\n            x = Math.min(x + strokeWidth / 2, x + halfWidth);\n            y = Math.min(y + strokeWidth / 2, y + halfHeight);\n            width = Math.max(width - strokeWidth, 0);\n            height = Math.max(height - strokeWidth, 0);\n        }\n        else {\n            strokeWidth = this.strokeWidth;\n        }\n        this.effectiveStrokeWidth = strokeWidth;\n        if (this.crisp && !borderSizing) {\n            var _a = this, a = _a.alignment, al = _a.align;\n            path.rect(al(a, x), al(a, y), al(a, x, width), al(a, y, height));\n        }\n        else {\n            path.rect(x, y, width, height);\n        }\n    };\n    Rect.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        return new BBox(x, y, width, height);\n    };\n    Rect.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return bbox.containsPoint(point.x, point.y);\n    };\n    Rect.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Rect.prototype.fillStroke = function (ctx) {\n        if (!this.scene) {\n            return;\n        }\n        var pixelRatio = this.scene.canvas.pixelRatio || 1;\n        if (this.fill) {\n            if (this.gradientInstance) {\n                ctx.fillStyle = this.gradientInstance.generateGradient(ctx, this.computeBBox());\n            }\n            else {\n                ctx.fillStyle = this.fill;\n            }\n            ctx.globalAlpha = this.opacity * this.fillOpacity;\n            // The canvas context scaling (depends on the device's pixel ratio)\n            // has no effect on shadows, so we have to account for the pixel ratio\n            // manually here.\n            var fillShadow = this.fillShadow;\n            if (fillShadow && fillShadow.enabled) {\n                ctx.shadowColor = fillShadow.color;\n                ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = fillShadow.blur * pixelRatio;\n            }\n            ctx.fill();\n        }\n        ctx.shadowColor = 'rgba(0, 0, 0, 0)';\n        if (this.stroke && this.effectiveStrokeWidth) {\n            ctx.strokeStyle = this.stroke;\n            ctx.globalAlpha = this.opacity * this.strokeOpacity;\n            ctx.lineWidth = this.effectiveStrokeWidth;\n            if (this.lineDash) {\n                ctx.setLineDash(this.lineDash);\n            }\n            if (this.lineDashOffset) {\n                ctx.lineDashOffset = this.lineDashOffset;\n            }\n            if (this.lineCap) {\n                ctx.lineCap = this.lineCap;\n            }\n            if (this.lineJoin) {\n                ctx.lineJoin = this.lineJoin;\n            }\n            var strokeShadow = this.strokeShadow;\n            if (strokeShadow && strokeShadow.enabled) {\n                ctx.shadowColor = strokeShadow.color;\n                ctx.shadowOffsetX = strokeShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = strokeShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = strokeShadow.blur * pixelRatio;\n            }\n            ctx.stroke();\n        }\n    };\n    Rect.className = 'Rect';\n    return Rect;\n}(Path));\nexport { Rect };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { Path2D } from \"../path2D\";\nimport { normalizeAngle360 } from \"../../util/angle\";\nimport { isEqual } from \"../../util/number\";\nimport { BBox } from \"../bbox\";\nvar Sector = /** @class */ (function (_super) {\n    __extends(Sector, _super);\n    function Sector() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.path = new Path2D();\n        _this._dirtyPath = true;\n        _this._centerX = 0;\n        _this._centerY = 0;\n        _this._centerOffset = 0;\n        _this._innerRadius = 10;\n        _this._outerRadius = 20;\n        _this._startAngle = 0;\n        _this._endAngle = Math.PI * 2;\n        _this._angleOffset = 0;\n        return _this;\n    }\n    Object.defineProperty(Sector.prototype, \"dirtyPath\", {\n        get: function () {\n            return this._dirtyPath;\n        },\n        set: function (value) {\n            if (this._dirtyPath !== value) {\n                this._dirtyPath = value;\n                if (value) {\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"centerX\", {\n        get: function () {\n            return this._centerX;\n        },\n        set: function (value) {\n            if (this._centerX !== value) {\n                this._centerX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"centerY\", {\n        get: function () {\n            return this._centerY;\n        },\n        set: function (value) {\n            if (this._centerY !== value) {\n                this._centerY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"centerOffset\", {\n        get: function () {\n            return this._centerOffset;\n        },\n        set: function (value) {\n            if (this._centerOffset !== value) {\n                this._centerOffset = Math.max(0, value);\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"innerRadius\", {\n        get: function () {\n            return this._innerRadius;\n        },\n        set: function (value) {\n            if (this._innerRadius !== value) {\n                this._innerRadius = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"outerRadius\", {\n        get: function () {\n            return this._outerRadius;\n        },\n        set: function (value) {\n            if (this._outerRadius !== value) {\n                this._outerRadius = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"startAngle\", {\n        get: function () {\n            return this._startAngle;\n        },\n        set: function (value) {\n            if (this._startAngle !== value) {\n                this._startAngle = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"endAngle\", {\n        get: function () {\n            return this._endAngle;\n        },\n        set: function (value) {\n            if (this._endAngle !== value) {\n                this._endAngle = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sector.prototype, \"angleOffset\", {\n        get: function () {\n            return this._angleOffset;\n        },\n        set: function (value) {\n            if (this._angleOffset !== value) {\n                this._angleOffset = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Sector.prototype.computeBBox = function () {\n        var radius = this.outerRadius;\n        return new BBox(this.centerX - radius, this.centerY - radius, radius * 2, radius * 2);\n    };\n    Sector.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        return this.path.isPointInPath(point.x, point.y);\n    };\n    Sector.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Object.defineProperty(Sector.prototype, \"fullPie\", {\n        get: function () {\n            return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Sector.prototype.updatePath = function () {\n        if (!this.dirtyPath) {\n            return;\n        }\n        var path = this.path;\n        var angleOffset = this.angleOffset;\n        var startAngle = Math.min(this.startAngle, this.endAngle) + angleOffset;\n        var endAngle = Math.max(this.startAngle, this.endAngle) + angleOffset;\n        var midAngle = (startAngle + endAngle) * 0.5;\n        var innerRadius = Math.min(this.innerRadius, this.outerRadius);\n        var outerRadius = Math.max(this.innerRadius, this.outerRadius);\n        var centerOffset = this.centerOffset;\n        var fullPie = this.fullPie;\n        var centerX = this.centerX;\n        var centerY = this.centerY;\n        path.clear();\n        if (centerOffset) {\n            centerX += centerOffset * Math.cos(midAngle);\n            centerY += centerOffset * Math.sin(midAngle);\n        }\n        if (!fullPie) {\n            path.moveTo(centerX + innerRadius * Math.cos(startAngle), centerY + innerRadius * Math.sin(startAngle));\n            // if (showTip) {\n            //     path.lineTo(\n            //         centerX + 0.5 * (innerRadius + outerRadius) * Math.cos(startAngle) + tipOffset * Math.cos(startAngle + Math.PI / 2),\n            //         centerY + 0.5 * (innerRadius + outerRadius) * Math.sin(startAngle) + tipOffset * Math.sin(startAngle + Math.PI / 2)\n            //     );\n            // }\n            path.lineTo(centerX + outerRadius * Math.cos(startAngle), centerY + outerRadius * Math.sin(startAngle));\n        }\n        path.cubicArc(centerX, centerY, outerRadius, outerRadius, 0, startAngle, endAngle, 0);\n        // path[fullPie ? 'moveTo' : 'lineTo'](\n        //     centerX + innerRadius * Math.cos(endAngle),\n        //     centerY + innerRadius * Math.sin(endAngle)\n        // );\n        if (fullPie) {\n            path.moveTo(centerX + innerRadius * Math.cos(endAngle), centerY + innerRadius * Math.sin(endAngle));\n        }\n        else {\n            // if (showTip) {\n            //     path.lineTo(\n            //         centerX + 0.5 * (innerRadius + outerRadius) * Math.cos(endAngle) + tipOffset * Math.cos(endAngle + Math.PI / 2),\n            //         centerY + 0.5 * (innerRadius + outerRadius) * Math.sin(endAngle) + tipOffset * Math.sin(endAngle + Math.PI / 2)\n            //     );\n            // }\n            // Temp workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=993330\n            // Revert this commit when fixed ^^.\n            var x = centerX + innerRadius * Math.cos(endAngle);\n            path.lineTo(Math.abs(x) < 1e-8 ? 0 : x, centerY + innerRadius * Math.sin(endAngle));\n        }\n        path.cubicArc(centerX, centerY, innerRadius, innerRadius, 0, endAngle, startAngle, 1);\n        path.closePath();\n        this.dirtyPath = false;\n    };\n    Sector.prototype.render = function (ctx) {\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        this.matrix.toContext(ctx);\n        this.updatePath();\n        this.scene.appendPath(this.path);\n        this.fillStroke(ctx);\n        this.dirty = false;\n    };\n    Sector.className = 'Sector';\n    return Sector;\n}(Shape));\nexport { Sector };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Node } from \"../node\";\nimport { chainObjects } from \"../../util/object\";\nvar Shape = /** @class */ (function (_super) {\n    __extends(Shape, _super);\n    function Shape() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.lastInstanceId = 0;\n        _this._fillOpacity = 1;\n        _this._strokeOpacity = 1;\n        _this._fill = Shape.defaultStyles.fill;\n        /**\n         * Note that `strokeStyle = null` means invisible stroke,\n         * while `lineWidth = 0` means no stroke, and sometimes this can mean different things.\n         * For example, a rect shape with an invisible stroke may not align to the pixel grid\n         * properly because the stroke affects the rules of alignment, and arc shapes forming\n         * a pie chart will have a gap between them if they have an invisible stroke, whereas\n         * there would be not gap if there was no stroke at all.\n         * The preferred way of making the stroke invisible is setting the `lineWidth` to zero,\n         * unless specific looks that is achieved by having an invisible stroke is desired.\n         */\n        _this._stroke = Shape.defaultStyles.stroke;\n        _this._strokeWidth = Shape.defaultStyles.strokeWidth;\n        _this._lineDash = Shape.defaultStyles.lineDash;\n        _this._lineDashOffset = Shape.defaultStyles.lineDashOffset;\n        _this._lineCap = Shape.defaultStyles.lineCap;\n        _this._lineJoin = Shape.defaultStyles.lineJoin;\n        _this._opacity = Shape.defaultStyles.opacity;\n        _this.onShadowChange = function () {\n            _this.dirty = true;\n        };\n        _this._fillShadow = Shape.defaultStyles.fillShadow;\n        _this._strokeShadow = Shape.defaultStyles.strokeShadow;\n        return _this;\n    }\n    /**\n     * Creates a light-weight instance of the given shape (that serves as a template).\n     * The created instance only stores the properites set on the instance itself\n     * and the rest of the properties come via the prototype chain from the template.\n     * This can greatly reduce memory usage in cases where one has many simular shapes,\n     * for example, circles of different size, position and color. The exact memory usage\n     * reduction will depend on the size of the template and the number of own properties\n     * set on its lightweight instances, but will typically be around an order of magnitude\n     * or more.\n     *\n     * Note: template shapes are not supposed to be part of the scene graph (they should not\n     * have a parent).\n     *\n     * @param template\n     */\n    Shape.createInstance = function (template) {\n        var shape = Object.create(template);\n        shape._setParent(undefined);\n        shape.id = template.id + '-Instance-' + String(++template.lastInstanceId);\n        return shape;\n    };\n    /**\n     * Restores the default styles introduced by this subclass.\n     */\n    Shape.prototype.restoreOwnStyles = function () {\n        var styles = this.constructor.defaultStyles;\n        var keys = Object.getOwnPropertyNames(styles);\n        // getOwnPropertyNames is about 2.5 times faster than\n        // for..in with the hasOwnProperty check and in this\n        // case, where most properties are inherited, can be\n        // more then an order of magnitude faster.\n        for (var i = 0, n = keys.length; i < n; i++) {\n            var key = keys[i];\n            this[key] = styles[key];\n        }\n    };\n    Shape.prototype.restoreAllStyles = function () {\n        var styles = this.constructor.defaultStyles;\n        for (var property in styles) {\n            this[property] = styles[property];\n        }\n    };\n    /**\n     * Restores the base class default styles that have been overridden by this subclass.\n     */\n    Shape.prototype.restoreOverriddenStyles = function () {\n        var styles = this.constructor.defaultStyles;\n        var protoStyles = Object.getPrototypeOf(styles);\n        for (var property in styles) {\n            if (styles.hasOwnProperty(property) && protoStyles.hasOwnProperty(property)) {\n                this[property] = styles[property];\n            }\n        }\n    };\n    Object.defineProperty(Shape.prototype, \"fillOpacity\", {\n        get: function () {\n            return this._fillOpacity;\n        },\n        set: function (value) {\n            if (this._fillOpacity !== value) {\n                this._fillOpacity = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"strokeOpacity\", {\n        get: function () {\n            return this._strokeOpacity;\n        },\n        set: function (value) {\n            if (this._strokeOpacity !== value) {\n                this._strokeOpacity = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"fill\", {\n        get: function () {\n            return this._fill;\n        },\n        set: function (value) {\n            if (this._fill !== value) {\n                this._fill = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"stroke\", {\n        get: function () {\n            return this._stroke;\n        },\n        set: function (value) {\n            if (this._stroke !== value) {\n                this._stroke = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"strokeWidth\", {\n        get: function () {\n            return this._strokeWidth;\n        },\n        set: function (value) {\n            if (this._strokeWidth !== value) {\n                this._strokeWidth = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"alignment\", {\n        // An offset value to align to the pixel grid.\n        get: function () {\n            return Math.floor(this.strokeWidth) % 2 / 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Returns the aligned `start` or `length` value.\n    // For example: `start` could be `y` and `length` could be `height` of a rectangle.\n    Shape.prototype.align = function (alignment, start, length) {\n        if (length != undefined) {\n            return Math.floor(length) + Math.floor(start % 1 + length % 1);\n        }\n        return Math.floor(start) + alignment;\n    };\n    Object.defineProperty(Shape.prototype, \"lineDash\", {\n        get: function () {\n            return this._lineDash;\n        },\n        set: function (value) {\n            var oldValue = this._lineDash;\n            if (oldValue !== value) {\n                if (oldValue && value && oldValue.length === value.length) {\n                    var identical = true;\n                    var n = value.length;\n                    for (var i = 0; i < n; i++) {\n                        if (oldValue[i] !== value[i]) {\n                            identical = false;\n                            break;\n                        }\n                    }\n                    if (identical) {\n                        return;\n                    }\n                }\n                this._lineDash = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"lineDashOffset\", {\n        get: function () {\n            return this._lineDashOffset;\n        },\n        set: function (value) {\n            if (this._lineDashOffset !== value) {\n                this._lineDashOffset = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"lineCap\", {\n        get: function () {\n            return this._lineCap;\n        },\n        set: function (value) {\n            if (this._lineCap !== value) {\n                this._lineCap = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"lineJoin\", {\n        get: function () {\n            return this._lineJoin;\n        },\n        set: function (value) {\n            if (this._lineJoin !== value) {\n                this._lineJoin = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"opacity\", {\n        get: function () {\n            return this._opacity;\n        },\n        set: function (value) {\n            value = Math.min(1, Math.max(0, value));\n            if (this._opacity !== value) {\n                this._opacity = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"fillShadow\", {\n        get: function () {\n            return this._fillShadow;\n        },\n        set: function (value) {\n            var oldValue = this._fillShadow;\n            if (oldValue !== value) {\n                if (oldValue) {\n                    oldValue.removeEventListener('change', this.onShadowChange);\n                }\n                if (value) {\n                    value.addEventListener('change', this.onShadowChange);\n                }\n                this._fillShadow = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shape.prototype, \"strokeShadow\", {\n        get: function () {\n            return this._strokeShadow;\n        },\n        set: function (value) {\n            var oldValue = this._strokeShadow;\n            if (oldValue !== value) {\n                if (oldValue) {\n                    oldValue.removeEventListener('change', this.onShadowChange);\n                }\n                if (value) {\n                    value.addEventListener('change', this.onShadowChange);\n                }\n                this._strokeShadow = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Shape.prototype.fillStroke = function (ctx) {\n        if (!this.scene) {\n            return;\n        }\n        var pixelRatio = this.scene.canvas.pixelRatio || 1;\n        if (this.fill) {\n            ctx.fillStyle = this.fill;\n            ctx.globalAlpha = this.opacity * this.fillOpacity;\n            // The canvas context scaling (depends on the device's pixel ratio)\n            // has no effect on shadows, so we have to account for the pixel ratio\n            // manually here.\n            var fillShadow = this.fillShadow;\n            if (fillShadow && fillShadow.enabled) {\n                ctx.shadowColor = fillShadow.color;\n                ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = fillShadow.blur * pixelRatio;\n            }\n            ctx.fill();\n        }\n        ctx.shadowColor = 'rgba(0, 0, 0, 0)';\n        if (this.stroke && this.strokeWidth) {\n            ctx.strokeStyle = this.stroke;\n            ctx.globalAlpha = this.opacity * this.strokeOpacity;\n            ctx.lineWidth = this.strokeWidth;\n            if (this.lineDash) {\n                ctx.setLineDash(this.lineDash);\n            }\n            if (this.lineDashOffset) {\n                ctx.lineDashOffset = this.lineDashOffset;\n            }\n            if (this.lineCap) {\n                ctx.lineCap = this.lineCap;\n            }\n            if (this.lineJoin) {\n                ctx.lineJoin = this.lineJoin;\n            }\n            var strokeShadow = this.strokeShadow;\n            if (strokeShadow && strokeShadow.enabled) {\n                ctx.shadowColor = strokeShadow.color;\n                ctx.shadowOffsetX = strokeShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = strokeShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = strokeShadow.blur * pixelRatio;\n            }\n            ctx.stroke();\n        }\n    };\n    Shape.prototype.containsPoint = function (x, y) {\n        return this.isPointInPath(x, y);\n    };\n    /**\n     * Defaults for style properties. Note that properties that affect the position\n     * and shape of the node are not considered style properties, for example:\n     * `x`, `y`, `width`, `height`, `radius`, `rotation`, etc.\n     * Can be used to reset to the original styling after some custom styling\n     * has been applied (using the `restoreOwnStyles` and `restoreAllStyles` methods).\n     * These static defaults are meant to be inherited by subclasses.\n     */\n    Shape.defaultStyles = chainObjects({}, {\n        fill: 'black',\n        stroke: undefined,\n        strokeWidth: 0,\n        lineDash: undefined,\n        lineDashOffset: 0,\n        lineCap: undefined,\n        lineJoin: undefined,\n        opacity: 1,\n        fillShadow: undefined,\n        strokeShadow: undefined\n    });\n    return Shape;\n}(Node));\nexport { Shape };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Shape } from \"./shape\";\nimport { chainObjects } from \"../../util/object\";\nimport { BBox } from \"../bbox\";\nimport { HdpiCanvas } from \"../../canvas/hdpiCanvas\";\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._x = 0;\n        _this._y = 0;\n        _this.lineBreakRegex = /\\r?\\n/g;\n        _this.lines = [];\n        _this._text = '';\n        _this._dirtyFont = true;\n        _this._fontSize = 10;\n        _this._fontFamily = 'sans-serif';\n        _this._textAlign = Text.defaultStyles.textAlign;\n        _this._textBaseline = Text.defaultStyles.textBaseline;\n        _this._lineHeight = 14;\n        return _this;\n    }\n    Object.defineProperty(Text.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Text.prototype.splitText = function () {\n        this.lines = this._text.split(this.lineBreakRegex);\n    };\n    Object.defineProperty(Text.prototype, \"text\", {\n        get: function () {\n            return this._text;\n        },\n        set: function (value) {\n            var str = String(value); // `value` can be an object here\n            if (this._text !== str) {\n                this._text = str;\n                this.splitText();\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"font\", {\n        get: function () {\n            if (this.dirtyFont) {\n                this.dirtyFont = false;\n                this._font = [\n                    this.fontStyle || '',\n                    this.fontWeight || '',\n                    this.fontSize + 'px',\n                    this.fontFamily\n                ].join(' ').trim();\n            }\n            return this._font;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"dirtyFont\", {\n        get: function () {\n            return this._dirtyFont;\n        },\n        set: function (value) {\n            if (this._dirtyFont !== value) {\n                this._dirtyFont = value;\n                if (value) {\n                    this.dirty = true;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"fontStyle\", {\n        get: function () {\n            return this._fontStyle;\n        },\n        set: function (value) {\n            if (this._fontStyle !== value) {\n                this._fontStyle = value;\n                this.dirtyFont = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"fontWeight\", {\n        get: function () {\n            return this._fontWeight;\n        },\n        set: function (value) {\n            if (this._fontWeight !== value) {\n                this._fontWeight = value;\n                this.dirtyFont = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"fontSize\", {\n        get: function () {\n            return this._fontSize;\n        },\n        set: function (value) {\n            if (!isFinite(value)) {\n                value = 10;\n            }\n            if (this._fontSize !== value) {\n                this._fontSize = value;\n                this.dirtyFont = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"fontFamily\", {\n        get: function () {\n            return this._fontFamily;\n        },\n        set: function (value) {\n            if (this._fontFamily !== value) {\n                this._fontFamily = value;\n                this.dirtyFont = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"textAlign\", {\n        get: function () {\n            return this._textAlign;\n        },\n        set: function (value) {\n            if (this._textAlign !== value) {\n                this._textAlign = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"textBaseline\", {\n        get: function () {\n            return this._textBaseline;\n        },\n        set: function (value) {\n            if (this._textBaseline !== value) {\n                this._textBaseline = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text.prototype, \"lineHeight\", {\n        get: function () {\n            return this._lineHeight;\n        },\n        set: function (value) {\n            // Multi-line text is complicated because:\n            // - Canvas does not support it natively, so we have to implement it manually\n            // - need to know the height of each line -> need to parse the font shorthand ->\n            //   generally impossible to do because font size may not be in pixels\n            // - so, need to measure the text instead, each line individually -> expensive\n            // - or make the user provide the line height manually for multi-line text\n            // - computeBBox should use the lineHeight for multi-line text but ignore it otherwise\n            // - textBaseline kind of loses its meaning for multi-line text\n            if (this._lineHeight !== value) {\n                this._lineHeight = value;\n                this.dirty = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Text.prototype.computeBBox = function () {\n        return HdpiCanvas.has.textMetrics\n            ? this.getPreciseBBox()\n            : this.getApproximateBBox();\n    };\n    Text.prototype.getPreciseBBox = function () {\n        var metrics = HdpiCanvas.measureText(this.text, this.font, this.textBaseline, this.textAlign);\n        return new BBox(this.x - metrics.actualBoundingBoxLeft, this.y - metrics.actualBoundingBoxAscent, metrics.width, metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent);\n    };\n    Text.prototype.getApproximateBBox = function () {\n        var size = HdpiCanvas.getTextSize(this.text, this.font);\n        var _a = this, x = _a.x, y = _a.y;\n        switch (this.textAlign) {\n            case 'end':\n            case 'right':\n                x -= size.width;\n                break;\n            case 'center':\n                x -= size.width / 2;\n        }\n        switch (this.textBaseline) {\n            case 'alphabetic':\n                y -= size.height * 0.7;\n                break;\n            case 'middle':\n                y -= size.height * 0.45;\n                break;\n            case 'ideographic':\n                y -= size.height;\n                break;\n            case 'hanging':\n                y -= size.height * 0.2;\n                break;\n            case 'bottom':\n                y -= size.height;\n                break;\n        }\n        return new BBox(x, y, size.width, size.height);\n    };\n    Text.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return bbox ? bbox.containsPoint(point.x, point.y) : false;\n    };\n    Text.prototype.isPointInStroke = function (x, y) {\n        return false;\n    };\n    Text.prototype.render = function (ctx) {\n        if (!this.lines.length || !this.scene) {\n            return;\n        }\n        if (this.dirtyTransform) {\n            this.computeTransformMatrix();\n        }\n        // this.matrix.transformBBox(this.computeBBox!()).render(ctx); // debug\n        this.matrix.toContext(ctx);\n        var _a = this, fill = _a.fill, stroke = _a.stroke, strokeWidth = _a.strokeWidth;\n        ctx.font = this.font;\n        ctx.textAlign = this.textAlign;\n        ctx.textBaseline = this.textBaseline;\n        var pixelRatio = this.scene.canvas.pixelRatio || 1;\n        if (fill) {\n            ctx.fillStyle = fill;\n            ctx.globalAlpha = this.opacity * this.fillOpacity;\n            var _b = this, fillShadow = _b.fillShadow, text = _b.text, x = _b.x, y = _b.y;\n            if (fillShadow && fillShadow.enabled) {\n                ctx.shadowColor = fillShadow.color;\n                ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = fillShadow.blur * pixelRatio;\n            }\n            ctx.fillText(text, x, y);\n        }\n        if (stroke && strokeWidth) {\n            ctx.strokeStyle = stroke;\n            ctx.lineWidth = strokeWidth;\n            ctx.globalAlpha = this.opacity * this.strokeOpacity;\n            var _c = this, lineDash = _c.lineDash, lineDashOffset = _c.lineDashOffset, lineCap = _c.lineCap, lineJoin = _c.lineJoin, strokeShadow = _c.strokeShadow, text = _c.text, x = _c.x, y = _c.y;\n            if (lineDash) {\n                ctx.setLineDash(lineDash);\n            }\n            if (lineDashOffset) {\n                ctx.lineDashOffset = lineDashOffset;\n            }\n            if (lineCap) {\n                ctx.lineCap = lineCap;\n            }\n            if (lineJoin) {\n                ctx.lineJoin = lineJoin;\n            }\n            if (strokeShadow && strokeShadow.enabled) {\n                ctx.shadowColor = strokeShadow.color;\n                ctx.shadowOffsetX = strokeShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = strokeShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = strokeShadow.blur * pixelRatio;\n            }\n            ctx.strokeText(text, x, y);\n        }\n        this.dirty = false;\n    };\n    Text.className = 'Text';\n    Text.defaultStyles = chainObjects(Shape.defaultStyles, {\n        textAlign: 'start',\n        fontStyle: undefined,\n        fontWeight: undefined,\n        fontSize: 10,\n        fontFamily: 'sans-serif',\n        textBaseline: 'alphabetic'\n    });\n    return Text;\n}(Shape));\nexport { Text };\n","var twoPi = Math.PI * 2;\n/**\n * Normalize the given angle to be in the [0, 2π) interval.\n * @param radians Angle in radians.\n */\nexport function normalizeAngle360(radians) {\n    radians %= twoPi;\n    radians += twoPi;\n    radians %= twoPi;\n    return radians;\n}\nexport function normalizeAngle360Inclusive(radians) {\n    radians %= twoPi;\n    radians += twoPi;\n    if (radians !== twoPi) {\n        radians %= twoPi;\n    }\n    return radians;\n}\n/**\n * Normalize the given angle to be in the [-π, π) interval.\n * @param radians Angle in radians.\n */\nexport function normalizeAngle180(radians) {\n    radians %= twoPi;\n    if (radians < -Math.PI) {\n        radians += twoPi;\n    }\n    else if (radians >= Math.PI) {\n        radians -= twoPi;\n    }\n    return radians;\n}\nexport function toRadians(degrees) {\n    return degrees / 180 * Math.PI;\n}\nexport function toDegrees(radians) {\n    return radians / Math.PI * 180;\n}\n","// Custom `Array.find` implementation for legacy browsers.\nexport function find(arr, predicate) {\n    for (var i = 0; i < arr.length; i++) {\n        var value = arr[i];\n        if (predicate(value, i, arr)) {\n            return value;\n        }\n    }\n}\nexport function findIndex(arr, predicate) {\n    for (var i = 0; i < arr.length; i++) {\n        if (predicate(arr[i], i, arr)) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Returns the minimum and maximum value in the given iterable using natural order.\n * If the iterable contains no comparable values, returns `undefined`.\n * @param values\n */\nexport function extent(values) {\n    var n = values.length;\n    var i = -1;\n    var value;\n    var min;\n    var max;\n    while (++i < n) { // Find the first comparable finite value.\n        if ((value = values[i]) != null && value >= value) {\n            min = max = value;\n            while (++i < n) { // Compare the remaining values.\n                if ((value = values[i]) != null) {\n                    if (min > value) {\n                        min = value;\n                    }\n                    if (max < value) {\n                        max = value;\n                    }\n                }\n            }\n        }\n    }\n    return typeof min === 'undefined' || typeof max === 'undefined' ? undefined : [min, max];\n}\nexport function finiteExtent(values) {\n    var n = values.length;\n    var i = -1;\n    var value;\n    var min;\n    var max;\n    while (++i < n) { // Find the first comparable finite value.\n        if ((value = values[i]) != null && value >= value && isFinite(value)) {\n            min = max = value;\n            while (++i < n) { // Compare the remaining values.\n                if ((value = values[i]) != null && isFinite(value)) {\n                    if (min > value) {\n                        min = value;\n                    }\n                    if (max < value) {\n                        max = value;\n                    }\n                }\n            }\n        }\n    }\n    return min === undefined || max === undefined ? undefined : [min, max];\n}\n/**\n * This method will only return `undefined` if there's not a single valid finite number present\n * in the given array of values. Date values will be converted to timestamps.\n * @param values\n */\nexport function numericExtent(values) {\n    var calculatedExtent = finiteExtent(values);\n    if (typeof calculatedExtent === 'undefined') {\n        return;\n    }\n    var a = calculatedExtent[0], b = calculatedExtent[1];\n    var min = a instanceof Date ? a.getTime() : a;\n    var max = b instanceof Date ? b.getTime() : b;\n    if (typeof min === 'number' && isFinite(min) && typeof max === 'number' && isFinite(max)) {\n        return [min, max];\n    }\n}\n/**\n * finds the min and max using a process appropriate for stacked values. Ie,\n * summing up the positive and negative numbers, and returning the totals of each\n */\nexport function findMinMax(values) {\n    var min = 0;\n    var max = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        if (value < 0) {\n            min += value;\n        }\n        else {\n            max += value;\n        }\n    }\n    return { min: min, max: max };\n}\nexport function copy(array, start, count) {\n    if (start === void 0) { start = 0; }\n    if (count === void 0) { count = array.length; }\n    var result = [];\n    var n = array.length;\n    if (n) {\n        for (var i = 0; i < count; i++) {\n            result.push(array[(start + i) % n]);\n        }\n    }\n    return result;\n}\n","import { ascending } from \"./compare\";\n/**\n * Returns the insertion point for `x` in array to maintain sorted order.\n * The arguments `lo` and `hi` may be used to specify a subset of the array which should be considered;\n * by default the entire array is used. If `x` is already present in array, the insertion point will be before\n * (to the left of) any existing entries. The return value is suitable for use as the first argument to `splice`\n * assuming that array is already sorted. The returned insertion point `i` partitions the array into two halves\n * so that all `v < x` for `v` in `array.slice(lo, i)` for the left side and all `v >= x` for `v` in `array.slice(i, hi)`\n * for the right side.\n * @param list\n * @param x\n * @param comparator\n * @param lo\n * @param hi\n */\nexport function bisectLeft(list, x, comparator, lo, hi) {\n    if (lo === void 0) { lo = 0; }\n    if (hi === void 0) { hi = list.length; }\n    while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (comparator(list[mid], x) < 0) { // list[mid] < x\n            lo = mid + 1;\n        }\n        else {\n            hi = mid;\n        }\n    }\n    return lo;\n}\nexport function bisectRight(list, x, comparator, lo, hi) {\n    if (lo === void 0) { lo = 0; }\n    if (hi === void 0) { hi = list.length; }\n    while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (comparator(list[mid], x) > 0) { // list[mid] > x\n            hi = mid;\n        }\n        else {\n            lo = mid + 1;\n        }\n    }\n    return lo;\n}\n/**\n * A specialized version of `bisectLeft` that works with the arrays whose elements cannot be compared directly.\n * The map function is used instead to produce a comparable value for a given array element, then the values\n * returned by the map are compared using the `ascendingComparator`.\n * @param list\n * @param x\n * @param map\n * @param lo\n * @param hi\n */\nexport function complexBisectLeft(list, x, map, lo, hi) {\n    if (lo === void 0) { lo = 0; }\n    if (hi === void 0) { hi = list.length; }\n    var comparator = ascendingComparator(map);\n    while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (comparator(list[mid], x) < 0) {\n            lo = mid + 1;\n        }\n        else {\n            hi = mid;\n        }\n    }\n    return lo;\n}\nexport function complexBisectRight(list, x, map, lo, hi) {\n    if (lo === void 0) { lo = 0; }\n    if (hi === void 0) { hi = list.length; }\n    var comparator = ascendingComparator(map);\n    while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (comparator(list[mid], x) < 0) {\n            lo = mid + 1;\n        }\n        else {\n            hi = mid;\n        }\n    }\n    return lo;\n}\nfunction ascendingComparator(map) {\n    return function (item, x) {\n        return ascending(map(item), x);\n    };\n}\n","var Color = /** @class */ (function () {\n    /**\n     * Every color component should be in the [0, 1] range.\n     * Some easing functions (such as elastic easing) can overshoot the target value by some amount.\n     * So, when animating colors, if the source or target color components are already near\n     * or at the edge of the allowed [0, 1] range, it is possible for the intermediate color\n     * component value to end up outside of that range mid-animation. For this reason the constructor\n     * performs range checking/constraining.\n     * @param r Red component.\n     * @param g Green component.\n     * @param b Blue component.\n     * @param a Alpha (opacity) component.\n     */\n    function Color(r, g, b, a) {\n        if (a === void 0) { a = 1; }\n        // NaN is treated as 0.\n        this.r = Math.min(1, Math.max(0, r || 0));\n        this.g = Math.min(1, Math.max(0, g || 0));\n        this.b = Math.min(1, Math.max(0, b || 0));\n        this.a = Math.min(1, Math.max(0, a || 0));\n    }\n    /**\n     * The given string can be in one of the following formats:\n     * - #rgb\n     * - #rrggbb\n     * - rgb(r, g, b)\n     * - rgba(r, g, b, a)\n     * - CSS color name such as 'white', 'orange', 'cyan', etc.\n     * @param str\n     */\n    Color.fromString = function (str) {\n        // hexadecimal notation\n        if (str.indexOf('#') >= 0) { // there can be some leading whitespace\n            return Color.fromHexString(str);\n        }\n        // color name\n        var hex = Color.nameToHex[str];\n        if (hex) {\n            return Color.fromHexString(hex);\n        }\n        // rgb(a) notation\n        if (str.indexOf('rgb') >= 0) {\n            return Color.fromRgbaString(str);\n        }\n        throw new Error(\"Invalid color string: '\" + str + \"'\");\n    };\n    // Using separate RegExp for the short hex notation because strings like `#abcd`\n    // are matched as ['#abcd', 'ab', 'c', 'd', undefined] when the `{1,2}` quantifier is used.\n    Color.fromHexString = function (str) {\n        var values = str.match(Color.hexRe);\n        if (values) {\n            var r = parseInt(values[1], 16);\n            var g = parseInt(values[2], 16);\n            var b = parseInt(values[3], 16);\n            var a = values[4] !== undefined ? parseInt(values[4], 16) : 255;\n            return new Color(r / 255, g / 255, b / 255, a / 255);\n        }\n        values = str.match(Color.shortHexRe);\n        if (values) {\n            var r = parseInt(values[1], 16);\n            var g = parseInt(values[2], 16);\n            var b = parseInt(values[3], 16);\n            var a = values[4] !== undefined ? parseInt(values[4], 16) : 15;\n            r += r * 16;\n            g += g * 16;\n            b += b * 16;\n            a += a * 16;\n            return new Color(r / 255, g / 255, b / 255, a / 255);\n        }\n        throw new Error(\"Malformed hexadecimal color string: '\" + str + \"'\");\n    };\n    Color.fromRgbaString = function (str) {\n        var values = str.match(Color.rgbRe);\n        if (values) {\n            return new Color(+values[1] / 255, +values[2] / 255, +values[3] / 255);\n        }\n        values = str.match(Color.rgbaRe);\n        if (values) {\n            return new Color(+values[1] / 255, +values[2] / 255, +values[3] / 255, +values[4]);\n        }\n        throw new Error(\"Malformed rgb/rgba color string: '\" + str + \"'\");\n    };\n    Color.fromArray = function (arr) {\n        if (arr.length === 4) {\n            return new Color(arr[0], arr[1], arr[2], arr[3]);\n        }\n        if (arr.length === 3) {\n            return new Color(arr[0], arr[1], arr[2]);\n        }\n        throw new Error('The given array should contain 3 or 4 color components (numbers).');\n    };\n    Color.fromHSB = function (h, s, b, alpha) {\n        if (alpha === void 0) { alpha = 1; }\n        var rgb = Color.HSBtoRGB(h, s, b);\n        return new Color(rgb[0], rgb[1], rgb[2], alpha);\n    };\n    Color.padHex = function (str) {\n        // Can't use `padStart(2, '0')` here because of IE.\n        return str.length === 1 ? '0' + str : str;\n    };\n    Color.prototype.toHexString = function () {\n        var hex = '#'\n            + Color.padHex(Math.round(this.r * 255).toString(16))\n            + Color.padHex(Math.round(this.g * 255).toString(16))\n            + Color.padHex(Math.round(this.b * 255).toString(16));\n        if (this.a < 1) {\n            hex += Color.padHex(Math.round(this.a * 255).toString(16));\n        }\n        return hex;\n    };\n    Color.prototype.toRgbaString = function (fractionDigits) {\n        if (fractionDigits === void 0) { fractionDigits = 3; }\n        var components = [\n            Math.round(this.r * 255),\n            Math.round(this.g * 255),\n            Math.round(this.b * 255)\n        ];\n        var k = Math.pow(10, fractionDigits);\n        if (this.a !== 1) {\n            components.push(Math.round(this.a * k) / k);\n            return \"rgba(\" + components.join(', ') + \")\";\n        }\n        return \"rgb(\" + components.join(', ') + \")\";\n    };\n    Color.prototype.toString = function () {\n        if (this.a === 1) {\n            return this.toHexString();\n        }\n        return this.toRgbaString();\n    };\n    Color.prototype.toHSB = function () {\n        return Color.RGBtoHSB(this.r, this.g, this.b);\n    };\n    /**\n     * Converts the given RGB triple to an array of HSB (HSV) components.\n     * The hue component will be `NaN` for achromatic colors.\n     */\n    Color.RGBtoHSB = function (r, g, b) {\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var S = max !== 0 ? (max - min) / max : 0;\n        var H = NaN;\n        // min == max, means all components are the same\n        // and the color is a shade of gray with no hue (H is NaN)\n        if (min !== max) {\n            var delta = max - min;\n            var rc = (max - r) / delta;\n            var gc = (max - g) / delta;\n            var bc = (max - b) / delta;\n            if (r === max) {\n                H = bc - gc;\n            }\n            else if (g === max) {\n                H = 2.0 + rc - bc;\n            }\n            else {\n                H = 4.0 + gc - rc;\n            }\n            H /= 6.0;\n            if (H < 0) {\n                H = H + 1.0;\n            }\n        }\n        return [H * 360, S, max];\n    };\n    /**\n     * Converts the given HSB (HSV) triple to an array of RGB components.\n     */\n    Color.HSBtoRGB = function (H, S, B) {\n        if (isNaN(H)) {\n            H = 0;\n        }\n        H = (((H % 360) + 360) % 360) / 360; // normalize hue to [0, 360] interval, then scale to [0, 1]\n        var r = 0;\n        var g = 0;\n        var b = 0;\n        if (S === 0) {\n            r = g = b = B;\n        }\n        else {\n            var h = (H - Math.floor(H)) * 6;\n            var f = h - Math.floor(h);\n            var p = B * (1 - S);\n            var q = B * (1 - S * f);\n            var t = B * (1 - (S * (1 - f)));\n            switch (h >> 0) { // discard the floating point part of the number\n                case 0:\n                    r = B;\n                    g = t;\n                    b = p;\n                    break;\n                case 1:\n                    r = q;\n                    g = B;\n                    b = p;\n                    break;\n                case 2:\n                    r = p;\n                    g = B;\n                    b = t;\n                    break;\n                case 3:\n                    r = p;\n                    g = q;\n                    b = B;\n                    break;\n                case 4:\n                    r = t;\n                    g = p;\n                    b = B;\n                    break;\n                case 5:\n                    r = B;\n                    g = p;\n                    b = q;\n                    break;\n            }\n        }\n        return [r, g, b];\n    };\n    Color.prototype.derive = function (hueShift, saturationFactor, brightnessFactor, opacityFactor) {\n        var hsb = Color.RGBtoHSB(this.r, this.g, this.b);\n        var b = hsb[2];\n        if (b == 0 && brightnessFactor > 1.0) {\n            b = 0.05;\n        }\n        var h = (((hsb[0] + hueShift) % 360) + 360) % 360;\n        var s = Math.max(Math.min(hsb[1] * saturationFactor, 1.0), 0.0);\n        b = Math.max(Math.min(b * brightnessFactor, 1.0), 0.0);\n        var a = Math.max(Math.min(this.a * opacityFactor, 1.0), 0.0);\n        var rgba = Color.HSBtoRGB(h, s, b);\n        rgba.push(a);\n        return Color.fromArray(rgba);\n    };\n    Color.prototype.brighter = function () {\n        return this.derive(0, 1.0, 1.0 / 0.7, 1.0);\n    };\n    Color.prototype.darker = function () {\n        return this.derive(0, 1.0, 0.7, 1.0);\n    };\n    // See https://drafts.csswg.org/css-color/#hex-notation\n    Color.hexRe = /\\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\\s*$/;\n    Color.shortHexRe = /\\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\\s*$/;\n    Color.rgbRe = /\\s*rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)\\s*/;\n    Color.rgbaRe = /\\s*rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*([.\\d]+)\\)\\s*/;\n    /**\n     * CSS Color Module Level 4:\n     * https://drafts.csswg.org/css-color/#named-colors\n     */\n    Color.nameToHex = Object.freeze({\n        aliceblue: '#F0F8FF',\n        antiquewhite: '#FAEBD7',\n        aqua: '#00FFFF',\n        aquamarine: '#7FFFD4',\n        azure: '#F0FFFF',\n        beige: '#F5F5DC',\n        bisque: '#FFE4C4',\n        black: '#000000',\n        blanchedalmond: '#FFEBCD',\n        blue: '#0000FF',\n        blueviolet: '#8A2BE2',\n        brown: '#A52A2A',\n        burlywood: '#DEB887',\n        cadetblue: '#5F9EA0',\n        chartreuse: '#7FFF00',\n        chocolate: '#D2691E',\n        coral: '#FF7F50',\n        cornflowerblue: '#6495ED',\n        cornsilk: '#FFF8DC',\n        crimson: '#DC143C',\n        cyan: '#00FFFF',\n        darkblue: '#00008B',\n        darkcyan: '#008B8B',\n        darkgoldenrod: '#B8860B',\n        darkgray: '#A9A9A9',\n        darkgreen: '#006400',\n        darkgrey: '#A9A9A9',\n        darkkhaki: '#BDB76B',\n        darkmagenta: '#8B008B',\n        darkolivegreen: '#556B2F',\n        darkorange: '#FF8C00',\n        darkorchid: '#9932CC',\n        darkred: '#8B0000',\n        darksalmon: '#E9967A',\n        darkseagreen: '#8FBC8F',\n        darkslateblue: '#483D8B',\n        darkslategray: '#2F4F4F',\n        darkslategrey: '#2F4F4F',\n        darkturquoise: '#00CED1',\n        darkviolet: '#9400D3',\n        deeppink: '#FF1493',\n        deepskyblue: '#00BFFF',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1E90FF',\n        firebrick: '#B22222',\n        floralwhite: '#FFFAF0',\n        forestgreen: '#228B22',\n        fuchsia: '#FF00FF',\n        gainsboro: '#DCDCDC',\n        ghostwhite: '#F8F8FF',\n        gold: '#FFD700',\n        goldenrod: '#DAA520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#ADFF2F',\n        grey: '#808080',\n        honeydew: '#F0FFF0',\n        hotpink: '#FF69B4',\n        indianred: '#CD5C5C',\n        indigo: '#4B0082',\n        ivory: '#FFFFF0',\n        khaki: '#F0E68C',\n        lavender: '#E6E6FA',\n        lavenderblush: '#FFF0F5',\n        lawngreen: '#7CFC00',\n        lemonchiffon: '#FFFACD',\n        lightblue: '#ADD8E6',\n        lightcoral: '#F08080',\n        lightcyan: '#E0FFFF',\n        lightgoldenrodyellow: '#FAFAD2',\n        lightgray: '#D3D3D3',\n        lightgreen: '#90EE90',\n        lightgrey: '#D3D3D3',\n        lightpink: '#FFB6C1',\n        lightsalmon: '#FFA07A',\n        lightseagreen: '#20B2AA',\n        lightskyblue: '#87CEFA',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#B0C4DE',\n        lightyellow: '#FFFFE0',\n        lime: '#00FF00',\n        limegreen: '#32CD32',\n        linen: '#FAF0E6',\n        magenta: '#FF00FF',\n        maroon: '#800000',\n        mediumaquamarine: '#66CDAA',\n        mediumblue: '#0000CD',\n        mediumorchid: '#BA55D3',\n        mediumpurple: '#9370DB',\n        mediumseagreen: '#3CB371',\n        mediumslateblue: '#7B68EE',\n        mediumspringgreen: '#00FA9A',\n        mediumturquoise: '#48D1CC',\n        mediumvioletred: '#C71585',\n        midnightblue: '#191970',\n        mintcream: '#F5FFFA',\n        mistyrose: '#FFE4E1',\n        moccasin: '#FFE4B5',\n        navajowhite: '#FFDEAD',\n        navy: '#000080',\n        oldlace: '#FDF5E6',\n        olive: '#808000',\n        olivedrab: '#6B8E23',\n        orange: '#FFA500',\n        orangered: '#FF4500',\n        orchid: '#DA70D6',\n        palegoldenrod: '#EEE8AA',\n        palegreen: '#98FB98',\n        paleturquoise: '#AFEEEE',\n        palevioletred: '#DB7093',\n        papayawhip: '#FFEFD5',\n        peachpuff: '#FFDAB9',\n        peru: '#CD853F',\n        pink: '#FFC0CB',\n        plum: '#DDA0DD',\n        powderblue: '#B0E0E6',\n        purple: '#800080',\n        rebeccapurple: '#663399',\n        red: '#FF0000',\n        rosybrown: '#BC8F8F',\n        royalblue: '#4169E1',\n        saddlebrown: '#8B4513',\n        salmon: '#FA8072',\n        sandybrown: '#F4A460',\n        seagreen: '#2E8B57',\n        seashell: '#FFF5EE',\n        sienna: '#A0522D',\n        silver: '#C0C0C0',\n        skyblue: '#87CEEB',\n        slateblue: '#6A5ACD',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#FFFAFA',\n        springgreen: '#00FF7F',\n        steelblue: '#4682B4',\n        tan: '#D2B48C',\n        teal: '#008080',\n        thistle: '#D8BFD8',\n        tomato: '#FF6347',\n        turquoise: '#40E0D0',\n        violet: '#EE82EE',\n        wheat: '#F5DEB3',\n        white: '#FFFFFF',\n        whitesmoke: '#F5F5F5',\n        yellow: '#FFFF00',\n        yellowgreen: '#9ACD32'\n    });\n    return Color;\n}());\nexport { Color };\n","export function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export function equal(a, b) {\n    if (a === b)\n        return true;\n    if (a && b && typeof a == 'object' && typeof b == 'object') {\n        if (a.constructor !== b.constructor)\n            return false;\n        var length_1, i = void 0;\n        if (Array.isArray(a)) {\n            length_1 = a.length;\n            if (length_1 != b.length)\n                return false;\n            for (i = length_1; i-- !== 0;)\n                if (!equal(a[i], b[i]))\n                    return false;\n            return true;\n        }\n        // if ((a instanceof Map) && (b instanceof Map)) {\n        //     if (a.size !== b.size) return false;\n        //     for (i of a.entries())\n        //         if (!b.has(i[0])) return false;\n        //     for (i of a.entries())\n        //         if (!equal(i[1], b.get(i[0]))) return false;\n        //     return true;\n        // }\n        //\n        // if ((a instanceof Set) && (b instanceof Set)) {\n        //     if (a.size !== b.size) return false;\n        //     for (i of a.entries())\n        //         if (!b.has(i[0])) return false;\n        //     return true;\n        // }\n        //\n        // if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n        //     length = a.length;\n        //     if (length != b.length) return false;\n        //     for (i = length; i-- !== 0;)\n        //         if (a[i] !== b[i]) return false;\n        //     return true;\n        // }\n        if (a.constructor === RegExp)\n            return a.source === b.source && a.flags === b.flags;\n        if (a.valueOf !== Object.prototype.valueOf)\n            return a.valueOf() === b.valueOf();\n        if (a.toString !== Object.prototype.toString)\n            return a.toString() === b.toString();\n        var keys = Object.keys(a);\n        length_1 = keys.length;\n        if (length_1 !== Object.keys(b).length)\n            return false;\n        for (i = length_1; i-- !== 0;)\n            if (!Object.prototype.hasOwnProperty.call(b, keys[i]))\n                return false;\n        for (i = length_1; i-- !== 0;) {\n            var key = keys[i];\n            if (!equal(a[key], b[key]))\n                return false;\n        }\n        return true;\n    }\n    // true if both NaN, false otherwise\n    return a !== a && b !== b;\n}\n","export function createId(instance) {\n    var constructor = instance.constructor;\n    var className = constructor.className;\n    if (!className) {\n        throw new Error(\"The \" + constructor + \" is missing the 'className' property.\");\n    }\n    return className + '-' + (constructor.id = (constructor.id || 0) + 1);\n}\n","export function isEqual(a, b, epsilon) {\n    if (epsilon === void 0) { epsilon = 1e-10; }\n    return Math.abs(a - b) < epsilon;\n}\n/**\n * `Number.toFixed(n)` always formats a number so that it has `n` digits after the decimal point.\n * For example, `Number(0.00003427).toFixed(2)` returns `0.00`.\n * That's not very helpful, because all the meaningful information is lost.\n * In this case we would want the formatted value to have at least two significant digits: `0.000034`,\n * not two fraction digits.\n * @param value\n * @param fractionOrSignificantDigits\n */\nexport function toFixed(value, fractionOrSignificantDigits) {\n    if (fractionOrSignificantDigits === void 0) { fractionOrSignificantDigits = 2; }\n    var power = Math.floor(Math.log(Math.abs(value)) / Math.LN10);\n    if (power >= 0 || !isFinite(power)) {\n        return value.toFixed(fractionOrSignificantDigits); // fraction digits\n    }\n    return value.toFixed(Math.abs(power) - 1 + fractionOrSignificantDigits); // significant digits\n}\nvar numberUnits = [\"\", \"K\", \"M\", \"B\", \"T\"];\nexport function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n}\nexport function toReadableNumber(value, fractionDigits) {\n    if (fractionDigits === void 0) { fractionDigits = 2; }\n    // For example: toReadableNumber(10550000000) yields \"10.6B\"\n    var prefix = '';\n    if (value <= 0) {\n        value = -value;\n        prefix = '-';\n    }\n    var thousands = ~~(log10(value) / log10(1000)); // discard the floating point part\n    return prefix + (value / Math.pow(1000.0, thousands)).toFixed(fractionDigits) + numberUnits[thousands];\n}\n","/**\n * Creates a new object with a `parent` as its prototype\n * and copies properties from the `child` into it.\n * @param parent\n * @param child\n */\nexport function chainObjects(parent, child) {\n    var obj = Object.create(parent);\n    for (var prop in child) {\n        if (child.hasOwnProperty(prop)) {\n            obj[prop] = child[prop];\n        }\n    }\n    return obj;\n}\nexport function getValue(object, path) {\n    var parts = Array.isArray(path) ? path : path.split('.');\n    var value = object;\n    parts.forEach(function (part) {\n        value = value[part];\n    });\n    return value;\n}\nfunction emptyTarget(value) {\n    return Array.isArray(value) ? [] : {};\n}\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n    return (options.clone !== false && options.isMergeableObject(value))\n        ? deepMerge(emptyTarget(value), value, options)\n        : value;\n}\nfunction defaultArrayMerge(target, source, options) {\n    return target.concat(source).map(function (element) {\n        return cloneUnlessOtherwiseSpecified(element, options);\n    });\n}\nfunction getMergeFunction(key, options) {\n    if (!options.customMerge) {\n        return deepMerge;\n    }\n    var customMerge = options.customMerge(key);\n    return typeof customMerge === 'function' ? customMerge : deepMerge;\n}\nfunction getEnumerableOwnPropertySymbols(target) {\n    return Object.getOwnPropertySymbols\n        ? Object.getOwnPropertySymbols(target).filter(function (symbol) {\n            return target.propertyIsEnumerable(symbol);\n        })\n        : [];\n}\nfunction getKeys(target) {\n    return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target));\n}\nfunction propertyIsOnObject(object, property) {\n    try {\n        return property in object;\n    }\n    catch (_) {\n        return false;\n    }\n}\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n    return propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n        && !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n            && Object.propertyIsEnumerable.call(target, key)); // and also unsafe if they're nonenumerable.\n}\nfunction mergeObject(target, source, options) {\n    var destination = {};\n    if (options.isMergeableObject(target)) {\n        getKeys(target).forEach(function (key) {\n            destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n        });\n    }\n    getKeys(source).forEach(function (key) {\n        if (propertyIsUnsafe(target, key)) {\n            return;\n        }\n        if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n            destination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n        }\n        else {\n            destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n        }\n    });\n    return destination;\n}\nfunction defaultIsMergeableObject(value) {\n    return isNonNullObject(value) && !isSpecial(value);\n}\nfunction isNonNullObject(value) {\n    return !!value && typeof value === 'object';\n}\nfunction isSpecial(value) {\n    var stringValue = Object.prototype.toString.call(value);\n    return stringValue === '[object RegExp]' || stringValue === '[object Date]';\n}\nexport function deepMerge(target, source, options) {\n    options = options || {};\n    options.arrayMerge = options.arrayMerge || defaultArrayMerge;\n    options.isMergeableObject = options.isMergeableObject || defaultIsMergeableObject;\n    // cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n    // implementations can use it. The caller may not replace it.\n    options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n    var sourceIsArray = Array.isArray(source);\n    var targetIsArray = Array.isArray(target);\n    var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n    if (!sourceAndTargetTypesMatch) {\n        return cloneUnlessOtherwiseSpecified(source, options);\n    }\n    else if (sourceIsArray) {\n        return options.arrayMerge(target, source, options);\n    }\n    else {\n        return mergeObject(target, source, options);\n    }\n}\nexport function isObject(value) {\n    return typeof value === 'object' && !Array.isArray(value);\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar Observable = /** @class */ (function () {\n    function Observable() {\n        // Note that these maps can't be specified generically, so they are kept untyped.\n        // Some methods in this class only need generics in their signatures, the generics inside the methods\n        // are just for clarity. The generics in signatures allow for static type checking of user provided\n        // listeners and for type inference, so that the users wouldn't have to specify the type of parameters\n        // of their inline lambdas.\n        this.allPropertyListeners = new Map(); // property name => property change listener => scopes\n        this.allEventListeners = new Map(); // event type => event listener => scopes\n    }\n    Observable.prototype.addPropertyListener = function (name, listener, scope) {\n        if (scope === void 0) { scope = this; }\n        var allPropertyListeners = this.allPropertyListeners;\n        var propertyListeners = allPropertyListeners.get(name);\n        if (!propertyListeners) {\n            propertyListeners = new Map();\n            allPropertyListeners.set(name, propertyListeners);\n        }\n        if (!propertyListeners.has(listener)) {\n            var scopes_1 = new Set();\n            propertyListeners.set(listener, scopes_1);\n        }\n        var scopes = propertyListeners.get(listener);\n        if (scopes) {\n            scopes.add(scope);\n        }\n    };\n    Observable.prototype.removePropertyListener = function (name, listener, scope) {\n        if (scope === void 0) { scope = this; }\n        var allPropertyListeners = this.allPropertyListeners;\n        var propertyListeners = allPropertyListeners.get(name);\n        if (propertyListeners) {\n            if (listener) {\n                var scopes = propertyListeners.get(listener);\n                if (scopes) {\n                    scopes.delete(scope);\n                    if (!scopes.size) {\n                        propertyListeners.delete(listener);\n                    }\n                }\n            }\n            else {\n                propertyListeners.clear();\n            }\n        }\n    };\n    Observable.prototype.notifyPropertyListeners = function (name, oldValue, value) {\n        var _this = this;\n        var allPropertyListeners = this.allPropertyListeners;\n        var propertyListeners = allPropertyListeners.get(name);\n        if (propertyListeners) {\n            propertyListeners.forEach(function (scopes, listener) {\n                scopes.forEach(function (scope) { return listener.call(scope, { type: name, source: _this, value: value, oldValue: oldValue }); });\n            });\n        }\n    };\n    Observable.prototype.addEventListener = function (type, listener, scope) {\n        if (scope === void 0) { scope = this; }\n        var allEventListeners = this.allEventListeners;\n        var eventListeners = allEventListeners.get(type);\n        if (!eventListeners) {\n            eventListeners = new Map();\n            allEventListeners.set(type, eventListeners);\n        }\n        if (!eventListeners.has(listener)) {\n            var scopes_2 = new Set();\n            eventListeners.set(listener, scopes_2);\n        }\n        var scopes = eventListeners.get(listener);\n        if (scopes) {\n            scopes.add(scope);\n        }\n    };\n    Observable.prototype.removeEventListener = function (type, listener, scope) {\n        if (scope === void 0) { scope = this; }\n        var allEventListeners = this.allEventListeners;\n        var eventListeners = allEventListeners.get(type);\n        if (eventListeners) {\n            if (listener) {\n                var scopes = eventListeners.get(listener);\n                if (scopes) {\n                    scopes.delete(scope);\n                    if (!scopes.size) {\n                        eventListeners.delete(listener);\n                    }\n                }\n            }\n            else {\n                eventListeners.clear();\n            }\n        }\n    };\n    Observable.prototype.notifyEventListeners = function (types) {\n        var _this = this;\n        var allEventListeners = this.allEventListeners;\n        types.forEach(function (type) {\n            var listeners = allEventListeners.get(type);\n            if (listeners) {\n                listeners.forEach(function (scopes, listener) {\n                    scopes.forEach(function (scope) { return listener.call(scope, { type: type, source: _this }); });\n                });\n            }\n        });\n    };\n    // 'source' is added automatically and is always the object this method belongs to.\n    Observable.prototype.fireEvent = function (event) {\n        var _this = this;\n        var listeners = this.allEventListeners.get(event.type);\n        if (listeners) {\n            listeners.forEach(function (scopes, listener) {\n                scopes.forEach(function (scope) { return listener.call(scope, __assign(__assign({}, event), { source: _this })); });\n            });\n        }\n    };\n    Observable.privateKeyPrefix = '_';\n    return Observable;\n}());\nexport { Observable };\nexport function reactive() {\n    var events = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        events[_i] = arguments[_i];\n    }\n    // let debug = events.indexOf('debugger') >= 0;\n    return function (target, key) {\n        // `target` is either a constructor (static member) or prototype (instance member)\n        var privateKey = Observable.privateKeyPrefix + key;\n        var privateKeyEvents = privateKey + 'Events';\n        if (!target[key]) {\n            if (events) {\n                target[privateKeyEvents] = events;\n            }\n            Object.defineProperty(target, key, {\n                set: function (value) {\n                    var oldValue = this[privateKey];\n                    // This is a way to stop inside the setter by adding the special\n                    // 'debugger' event to a reactive property, for example:\n                    //  @reactive('layoutChange', 'debugger') title?: Caption;\n                    // if (debug) { // DO NOT REMOVE\n                    //     debugger;\n                    // }\n                    if (value !== oldValue || (typeof value === 'object' && value !== null)) {\n                        this[privateKey] = value;\n                        this.notifyPropertyListeners(key, oldValue, value);\n                        var events_1 = this[privateKeyEvents];\n                        if (events_1) {\n                            this.notifyEventListeners(events_1);\n                        }\n                    }\n                },\n                get: function () {\n                    return this[privateKey];\n                },\n                enumerable: true,\n                configurable: true\n            });\n        }\n    };\n}\n","var Padding = /** @class */ (function () {\n    function Padding(top, right, bottom, left) {\n        if (top === void 0) { top = 0; }\n        if (right === void 0) { right = top; }\n        if (bottom === void 0) { bottom = top; }\n        if (left === void 0) { left = right; }\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n    Padding.prototype.clear = function () {\n        this.top = this.right = this.bottom = this.left = 0;\n    };\n    return Padding;\n}());\nexport { Padding };\n","var SizeMonitor = /** @class */ (function () {\n    function SizeMonitor() {\n    }\n    SizeMonitor.init = function () {\n        var _this = this;\n        var NativeResizeObserver = window.ResizeObserver;\n        if (NativeResizeObserver) {\n            this.resizeObserver = new NativeResizeObserver(function (entries) {\n                for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                    var entry = entries_1[_i];\n                    var _a = entry.contentRect, width = _a.width, height = _a.height;\n                    _this.checkSize(_this.elements.get(entry.target), entry.target, width, height);\n                }\n            });\n        }\n        else { // polyfill (more reliable even in browsers that support ResizeObserver)\n            var step = function () {\n                _this.elements.forEach(function (entry, element) {\n                    var width = element.clientWidth ? element.clientWidth : 0;\n                    var height = element.clientHeight ? element.clientHeight : 0;\n                    _this.checkSize(entry, element, width, height);\n                });\n            };\n            window.setInterval(step, 100);\n        }\n        this.ready = true;\n    };\n    SizeMonitor.checkSize = function (entry, element, width, height) {\n        if (entry) {\n            if (!entry.size || width !== entry.size.width || height !== entry.size.height) {\n                entry.size = { width: width, height: height };\n                entry.cb(entry.size, element);\n            }\n        }\n    };\n    // Only a single callback is supported.\n    SizeMonitor.observe = function (element, cb) {\n        if (!this.ready) {\n            this.init();\n        }\n        this.unobserve(element);\n        if (this.resizeObserver) {\n            this.resizeObserver.observe(element);\n        }\n        this.elements.set(element, { cb: cb });\n    };\n    SizeMonitor.unobserve = function (element) {\n        if (this.resizeObserver) {\n            this.resizeObserver.unobserve(element);\n        }\n        this.elements.delete(element);\n    };\n    SizeMonitor.elements = new Map();\n    SizeMonitor.requestAnimationFrameId = 0;\n    SizeMonitor.ready = false;\n    return SizeMonitor;\n}());\nexport { SizeMonitor };\n","import { locale } from \"./time/format/defaultLocale\";\nvar interpolatePattern = /(#\\{(.*?)\\})/g;\nexport function interpolate(input, values, formats) {\n    return input.replace(interpolatePattern, function () {\n        var name = arguments[2];\n        var _a = name.split(':'), valueName = _a[0], formatName = _a[1];\n        var value = values[valueName];\n        if (typeof value === 'number') {\n            var format = formatName && formats && formats[formatName];\n            if (format) {\n                var _b = format, locales = _b.locales, options = _b.options;\n                return value.toLocaleString(locales, options);\n            }\n            return String(value);\n        }\n        if (value instanceof Date) {\n            var format = formatName && formats && formats[formatName];\n            if (typeof format === 'string') {\n                var formatter = locale.format(format);\n                return formatter(value);\n            }\n            return value.toDateString();\n        }\n        if (typeof value === 'string' || (value && value.toString)) {\n            return String(value);\n        }\n        return '';\n    });\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexport default function (a, b, count) {\n    var step = tickStep(a, b, count);\n    a = Math.ceil(a / step) * step;\n    b = Math.floor(b / step) * step + step / 2;\n    // Add half a step here so that the array returned by `range` includes the last tick.\n    return range(a, b, step);\n}\nvar e10 = Math.sqrt(50);\nvar e5 = Math.sqrt(10);\nvar e2 = Math.sqrt(2);\nexport function tickStep(a, b, count) {\n    var rawStep = Math.abs(b - a) / Math.max(0, count);\n    var step = Math.pow(10, Math.floor(Math.log(rawStep) / Math.LN10)); // = Math.log10(rawStep)\n    var error = rawStep / step;\n    if (error >= e10) {\n        step *= 10;\n    }\n    else if (error >= e5) {\n        step *= 5;\n    }\n    else if (error >= e2) {\n        step *= 2;\n    }\n    return b < a ? -step : step;\n}\nexport function tickIncrement(a, b, count) {\n    var rawStep = (b - a) / Math.max(0, count);\n    var power = Math.floor(Math.log(rawStep) / Math.LN10);\n    var error = rawStep / Math.pow(10, power);\n    return power >= 0\n        ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n        : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nvar NumericTicks = /** @class */ (function (_super) {\n    __extends(NumericTicks, _super);\n    function NumericTicks(fractionDigits, size) {\n        if (size === void 0) { size = 0; }\n        var _this = _super.call(this, size) || this;\n        _this.fractionDigits = fractionDigits;\n        return _this;\n    }\n    return NumericTicks;\n}(Array));\nexport { NumericTicks };\nfunction range(a, b, step) {\n    if (step === void 0) { step = 1; }\n    var absStep = Math.abs(step);\n    var fractionDigits = (absStep > 0 && absStep < 1)\n        ? Math.abs(Math.floor(Math.log(absStep) / Math.LN10))\n        : 0;\n    var f = Math.pow(10, fractionDigits);\n    var n = Math.max(0, Math.ceil((b - a) / step)) || 0;\n    var values = new NumericTicks(fractionDigits, n);\n    for (var i = 0; i < n; i++) {\n        var value = a + step * i;\n        values[i] = Math.round(value * f) / f;\n    }\n    return values;\n}\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationDay, durationMinute } from \"./duration\";\nfunction floor(date) {\n    date.setHours(0, 0, 0, 0);\n}\nfunction offset(date, days) {\n    date.setDate(date.getDate() + days);\n}\nfunction count(start, end) {\n    var tzMinuteDelta = end.getTimezoneOffset() - start.getTimezoneOffset();\n    return (end.getTime() - start.getTime() - tzMinuteDelta * durationMinute) / durationDay;\n}\nfunction field(date) {\n    return date.getDate() - 1;\n}\nexport var day = new CountableTimeInterval(floor, offset, count, field);\nexport default day;\n","// Common time unit sizes in milliseconds.\nexport var durationSecond = 1000;\nexport var durationMinute = durationSecond * 60;\nexport var durationHour = durationMinute * 60;\nexport var durationDay = durationHour * 24;\nexport var durationWeek = durationDay * 7;\nexport var durationMonth = durationDay * 30;\nexport var durationYear = durationDay * 365;\n","import formatLocale from './locale';\nexport var locale;\nsetDefaultLocale({\n    dateTime: '%x, %X',\n    date: '%-m/%-d/%Y',\n    time: '%-I:%M:%S %p',\n    periods: ['AM', 'PM'],\n    days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    shortDays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    shortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n});\nexport default function setDefaultLocale(definition) {\n    return locale = formatLocale(definition);\n}\n","import timeDay from \"../day\";\nimport year from \"../year\";\nimport { sunday as timeSunday, monday as timeMonday, thursday as timeThursday, } from \"../week\";\nimport utcDay from \"../utcDay\";\nimport utcYear from \"../utcYear\";\nimport utcSunday, { utcMonday, utcThursday } from \"../utcWeek\";\nfunction localDate(d) {\n    // For JS Dates the [0, 100) interval is a time warp, a fast forward to the 20th century.\n    // For example, -1 is -0001 BC, 0 is already 1900 AD.\n    if (d.y >= 0 && d.y < 100) {\n        var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n        date.setFullYear(d.y);\n        return date;\n    }\n    return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\nfunction utcDate(d) {\n    if (d.y >= 0 && d.y < 100) {\n        var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n        date.setUTCFullYear(d.y);\n        return date;\n    }\n    return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n/**\n * Creates a lookup map for array of names to go from a name to index.\n * @param names\n */\nfunction formatLookup(names) {\n    var map = {};\n    for (var i = 0, n = names.length; i < n; i++) {\n        map[names[i].toLowerCase()] = i;\n    }\n    return map;\n}\nfunction newYear(y) {\n    return {\n        y: y,\n        m: 0,\n        d: 1,\n        H: 0,\n        M: 0,\n        S: 0,\n        L: 0\n    };\n}\nvar percentCharCode = 37;\nvar numberRe = /^\\s*\\d+/; // ignores next directive\nvar percentRe = /^%/;\nvar requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n/**\n * Prepends any character in the `requoteRe` set with a backslash.\n * @param s\n */\nexport var requote = function (s) { return s.replace(requoteRe, '\\\\$&'); }; // $& - matched substring\n/**\n * Returns a RegExp that matches any string that starts with any of the given names (case insensitive).\n * @param names\n */\nexport var formatRe = function (names) { return new RegExp('^(?:' + names.map(requote).join('|') + ')', 'i'); };\n// A map of padding modifiers to padding strings. Default is `0`.\nvar pads = {\n    '-': '',\n    '_': ' ',\n    '0': '0'\n};\nexport function pad(value, fill, width) {\n    var sign = value < 0 ? '-' : '';\n    var string = String(sign ? -value : value);\n    var length = string.length;\n    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n/**\n * Create a new time-locale-based object which exposes time-formatting\n * methods for the specified locale definition.\n *\n * @param timeLocale A time locale definition.\n */\nexport default function formatLocale(timeLocale) {\n    var lDateTime = timeLocale.dateTime;\n    var lDate = timeLocale.date;\n    var lTime = timeLocale.time;\n    var lPeriods = timeLocale.periods;\n    var lWeekdays = timeLocale.days;\n    var lShortWeekdays = timeLocale.shortDays;\n    var lMonths = timeLocale.months;\n    var lShortMonths = timeLocale.shortMonths;\n    var periodRe = formatRe(lPeriods);\n    var periodLookup = formatLookup(lPeriods);\n    var weekdayRe = formatRe(lWeekdays);\n    var weekdayLookup = formatLookup(lWeekdays);\n    var shortWeekdayRe = formatRe(lShortWeekdays);\n    var shortWeekdayLookup = formatLookup(lShortWeekdays);\n    var monthRe = formatRe(lMonths);\n    var monthLookup = formatLookup(lMonths);\n    var shortMonthRe = formatRe(lShortMonths);\n    var shortMonthLookup = formatLookup(lShortMonths);\n    var formats = {\n        'a': formatShortWeekday,\n        'A': formatWeekday,\n        'b': formatShortMonth,\n        'B': formatMonth,\n        'c': undefined,\n        'd': formatDayOfMonth,\n        'e': formatDayOfMonth,\n        'f': formatMicroseconds,\n        'H': formatHour24,\n        'I': formatHour12,\n        'j': formatDayOfYear,\n        'L': formatMilliseconds,\n        'm': formatMonthNumber,\n        'M': formatMinutes,\n        'p': formatPeriod,\n        'Q': formatUnixTimestamp,\n        's': formatUnixTimestampSeconds,\n        'S': formatSeconds,\n        'u': formatWeekdayNumberMonday,\n        'U': formatWeekNumberSunday,\n        'V': formatWeekNumberISO,\n        'w': formatWeekdayNumberSunday,\n        'W': formatWeekNumberMonday,\n        'x': undefined,\n        'X': undefined,\n        'y': formatYear,\n        'Y': formatFullYear,\n        'Z': formatZone,\n        '%': formatLiteralPercent\n    };\n    var utcFormats = {\n        'a': formatUTCShortWeekday,\n        'A': formatUTCWeekday,\n        'b': formatUTCShortMonth,\n        'B': formatUTCMonth,\n        'c': undefined,\n        'd': formatUTCDayOfMonth,\n        'e': formatUTCDayOfMonth,\n        'f': formatUTCMicroseconds,\n        'H': formatUTCHour24,\n        'I': formatUTCHour12,\n        'j': formatUTCDayOfYear,\n        'L': formatUTCMilliseconds,\n        'm': formatUTCMonthNumber,\n        'M': formatUTCMinutes,\n        'p': formatUTCPeriod,\n        'Q': formatUnixTimestamp,\n        's': formatUnixTimestampSeconds,\n        'S': formatUTCSeconds,\n        'u': formatUTCWeekdayNumberMonday,\n        'U': formatUTCWeekNumberSunday,\n        'V': formatUTCWeekNumberISO,\n        'w': formatUTCWeekdayNumberSunday,\n        'W': formatUTCWeekNumberMonday,\n        'x': undefined,\n        'X': undefined,\n        'y': formatUTCYear,\n        'Y': formatUTCFullYear,\n        'Z': formatUTCZone,\n        '%': formatLiteralPercent\n    };\n    var parses = {\n        'a': parseShortWeekday,\n        'A': parseWeekday,\n        'b': parseShortMonth,\n        'B': parseMonth,\n        'c': parseLocaleDateTime,\n        'd': parseDayOfMonth,\n        'e': parseDayOfMonth,\n        'f': parseMicroseconds,\n        'H': parseHour24,\n        'I': parseHour24,\n        'j': parseDayOfYear,\n        'L': parseMilliseconds,\n        'm': parseMonthNumber,\n        'M': parseMinutes,\n        'p': parsePeriod,\n        'Q': parseUnixTimestamp,\n        's': parseUnixTimestampSeconds,\n        'S': parseSeconds,\n        'u': parseWeekdayNumberMonday,\n        'U': parseWeekNumberSunday,\n        'V': parseWeekNumberISO,\n        'w': parseWeekdayNumberSunday,\n        'W': parseWeekNumberMonday,\n        'x': parseLocaleDate,\n        'X': parseLocaleTime,\n        'y': parseYear,\n        'Y': parseFullYear,\n        'Z': parseZone,\n        '%': parseLiteralPercent\n    };\n    // Recursive definitions.\n    formats.x = newFormat(lDate, formats);\n    formats.X = newFormat(lTime, formats);\n    formats.c = newFormat(lDateTime, formats);\n    utcFormats.x = newFormat(lDate, utcFormats);\n    utcFormats.X = newFormat(lTime, utcFormats);\n    utcFormats.c = newFormat(lDateTime, utcFormats);\n    function newParse(specifier, newDate) {\n        return function (str) {\n            var d = newYear(1900);\n            var i = parseSpecifier(d, specifier, str += '', 0);\n            if (i != str.length) {\n                return undefined;\n            }\n            // If a UNIX timestamp is specified, return it.\n            if ('Q' in d) {\n                return new Date(d.Q);\n            }\n            // The am-pm flag is 0 for AM, and 1 for PM.\n            if ('p' in d) {\n                d.H = d.H % 12 + d.p * 12;\n            }\n            // Convert day-of-week and week-of-year to day-of-year.\n            if ('V' in d) {\n                if (d.V < 1 || d.V > 53) {\n                    return undefined;\n                }\n                if (!('w' in d)) {\n                    d.w = 1;\n                }\n                if ('Z' in d) {\n                    var week = utcDate(newYear(d.y));\n                    var day = week.getUTCDay();\n                    week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday.floor(week);\n                    week = utcDay.offset(week, (d.V - 1) * 7);\n                    d.y = week.getUTCFullYear();\n                    d.m = week.getUTCMonth();\n                    d.d = week.getUTCDate() + (d.w + 6) % 7;\n                }\n                else {\n                    var week = newDate(newYear(d.y));\n                    var day = week.getDay();\n                    week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday.floor(week);\n                    week = timeDay.offset(week, (d.V - 1) * 7);\n                    d.y = week.getFullYear();\n                    d.m = week.getMonth();\n                    d.d = week.getDate() + (d.w + 6) % 7;\n                }\n            }\n            else if ('W' in d || 'U' in d) {\n                if (!('w' in d)) {\n                    d.w = 'u' in d\n                        ? d.u % 7\n                        : 'W' in d ? 1 : 0;\n                }\n                var day = 'Z' in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n                d.m = 0;\n                d.d = 'W' in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n            }\n            // If a time zone is specified, all fields are interpreted as UTC and then\n            // offset according to the specified time zone.\n            if ('Z' in d) {\n                d.H += d.Z / 100 | 0;\n                d.M += d.Z % 100;\n                return utcDate(d);\n            }\n            // Otherwise, all fields are in local time.\n            return newDate(d);\n        };\n    }\n    /**\n     * Creates a new function that formats the given Date or timestamp according to specifier.\n     * @param specifier\n     * @param formats\n     */\n    function newFormat(specifier, formats) {\n        return function (date) {\n            var string = [];\n            var n = specifier.length;\n            var i = -1;\n            var j = 0;\n            if (!(date instanceof Date)) {\n                date = new Date(+date);\n            }\n            while (++i < n) {\n                if (specifier.charCodeAt(i) === percentCharCode) {\n                    string.push(specifier.slice(j, i)); // copy the chunks of specifier with no directives as is\n                    var c = specifier.charAt(++i);\n                    var pad_1 = pads[c];\n                    if (pad_1 != undefined) { // if format directive has a padding modifier in front of it\n                        c = specifier.charAt(++i); // fetch the directive itself\n                    }\n                    else {\n                        pad_1 = c === 'e' ? ' ' : '0'; // use the default padding modifier\n                    }\n                    var format = formats[c];\n                    if (format) { // if the directive has a corresponding formatting function\n                        c = format(date, pad_1); // replace the directive with the formatted date\n                    }\n                    string.push(c);\n                    j = i + 1;\n                }\n            }\n            string.push(specifier.slice(j, i));\n            return string.join('');\n        };\n    }\n    // Simultaneously walks over the specifier and the parsed string, populating the `d` map with parsed values.\n    // The returned number is expected to equal the length of the parsed `string`, if parsing succeeded.\n    function parseSpecifier(d, specifier, string, j) {\n        // i - `specifier` string index\n        // j - parsed `string` index\n        var i = 0;\n        var n = specifier.length;\n        var m = string.length;\n        while (i < n) {\n            if (j >= m) {\n                return -1;\n            }\n            var code = specifier.charCodeAt(i++);\n            if (code === percentCharCode) {\n                var char = specifier.charAt(i++);\n                var parse = parses[(char in pads ? specifier.charAt(i++) : char)];\n                if (!parse || ((j = parse(d, string, j)) < 0)) {\n                    return -1;\n                }\n            }\n            else if (code != string.charCodeAt(j++)) {\n                return -1;\n            }\n        }\n        return j;\n    }\n    // ----------------------------- formats ----------------------------------\n    function formatMicroseconds(date, fill) {\n        return formatMilliseconds(date, fill) + '000';\n    }\n    function formatMilliseconds(date, fill) {\n        return pad(date.getMilliseconds(), fill, 3);\n    }\n    function formatSeconds(date, fill) {\n        return pad(date.getSeconds(), fill, 2);\n    }\n    function formatMinutes(date, fill) {\n        return pad(date.getMinutes(), fill, 2);\n    }\n    function formatHour12(date, fill) {\n        return pad(date.getHours() % 12 || 12, fill, 2);\n    }\n    function formatHour24(date, fill) {\n        return pad(date.getHours(), fill, 2);\n    }\n    function formatPeriod(date) {\n        return lPeriods[date.getHours() >= 12 ? 1 : 0];\n    }\n    function formatShortWeekday(date) {\n        return lShortWeekdays[date.getDay()];\n    }\n    function formatWeekday(date) {\n        return lWeekdays[date.getDay()];\n    }\n    function formatWeekdayNumberMonday(date) {\n        var dayOfWeek = date.getDay();\n        return dayOfWeek === 0 ? 7 : dayOfWeek;\n    }\n    function formatWeekNumberSunday(date, fill) {\n        return pad(timeSunday.count(year.floor(date), date), fill, 2);\n    }\n    function formatWeekNumberISO(date, fill) {\n        var day = date.getDay();\n        date = (day >= 4 || day === 0) ? timeThursday.floor(date) : timeThursday.ceil(date);\n        var yearStart = year.floor(date);\n        return pad(timeThursday.count(yearStart, date) + (yearStart.getDay() === 4 ? 1 : 0), fill, 2);\n    }\n    function formatWeekdayNumberSunday(date) {\n        return date.getDay();\n    }\n    function formatWeekNumberMonday(date, fill) {\n        return pad(timeMonday.count(year.floor(date), date), fill, 2);\n    }\n    function formatDayOfMonth(date, fill) {\n        return pad(date.getDate(), fill, 2);\n    }\n    function formatDayOfYear(date, fill) {\n        return pad(1 + timeDay.count(year.floor(date), date), fill, 3);\n    }\n    function formatShortMonth(date) {\n        return lShortMonths[date.getMonth()];\n    }\n    function formatMonth(date) {\n        return lMonths[date.getMonth()];\n    }\n    function formatMonthNumber(date, fill) {\n        return pad(date.getMonth() + 1, fill, 2);\n    }\n    function formatYear(date, fill) {\n        return pad(date.getFullYear() % 100, fill, 2);\n    }\n    function formatFullYear(date, fill) {\n        return pad(date.getFullYear() % 10000, fill, 4);\n    }\n    function formatZone(date) {\n        var z = date.getTimezoneOffset();\n        return (z > 0 ? '-' : (z *= -1, '+')) + pad(Math.floor(z / 60), '0', 2) + pad(z % 60, '0', 2);\n    }\n    // -------------------------- UTC formats -----------------------------------\n    function formatUTCMicroseconds(date, fill) {\n        return formatUTCMilliseconds(date, fill) + '000';\n    }\n    function formatUTCMilliseconds(date, fill) {\n        return pad(date.getUTCMilliseconds(), fill, 3);\n    }\n    function formatUTCSeconds(date, fill) {\n        return pad(date.getUTCSeconds(), fill, 2);\n    }\n    function formatUTCMinutes(date, fill) {\n        return pad(date.getUTCMinutes(), fill, 2);\n    }\n    function formatUTCHour12(date, fill) {\n        return pad(date.getUTCHours() % 12 || 12, fill, 2);\n    }\n    function formatUTCHour24(date, fill) {\n        return pad(date.getUTCHours(), fill, 2);\n    }\n    function formatUTCPeriod(date) {\n        return lPeriods[date.getUTCHours() >= 12 ? 1 : 0];\n    }\n    function formatUTCDayOfMonth(date, fill) {\n        return pad(date.getUTCDate(), fill, 2);\n    }\n    function formatUTCDayOfYear(date, fill) {\n        return pad(1 + utcDay.count(utcYear.floor(date), date), fill, 3);\n    }\n    function formatUTCMonthNumber(date, fill) {\n        return pad(date.getUTCMonth() + 1, fill, 2);\n    }\n    function formatUTCShortMonth(date) {\n        return lShortMonths[date.getUTCMonth()];\n    }\n    function formatUTCMonth(date) {\n        return lMonths[date.getUTCMonth()];\n    }\n    function formatUTCShortWeekday(date) {\n        return lShortWeekdays[date.getUTCDay()];\n    }\n    function formatUTCWeekday(date) {\n        return lWeekdays[date.getUTCDay()];\n    }\n    function formatUTCWeekdayNumberMonday(date) {\n        var dayOfWeek = date.getUTCDay();\n        return dayOfWeek === 0 ? 7 : dayOfWeek;\n    }\n    function formatUTCWeekNumberSunday(date, fill) {\n        return pad(utcSunday.count(utcYear.floor(date), date), fill, 2);\n    }\n    function formatUTCWeekNumberISO(date, fill) {\n        var day = date.getUTCDay();\n        date = (day >= 4 || day === 0) ? utcThursday.floor(date) : utcThursday.ceil(date);\n        var yearStart = utcYear.floor(date);\n        return pad(utcThursday.count(yearStart, date) + (yearStart.getUTCDay() === 4 ? 1 : 0), fill, 4);\n    }\n    function formatUTCWeekdayNumberSunday(date) {\n        return date.getUTCDay();\n    }\n    function formatUTCWeekNumberMonday(date, fill) {\n        return pad(utcMonday.count(utcYear.floor(date), date), fill, 2);\n    }\n    function formatUTCYear(date, fill) {\n        return pad(date.getUTCFullYear() % 100, fill, 2);\n    }\n    function formatUTCFullYear(date, fill) {\n        return pad(date.getUTCFullYear() % 10000, fill, 4);\n    }\n    function formatUTCZone() {\n        return '+0000';\n    }\n    function formatLiteralPercent(date) {\n        return '%';\n    }\n    function formatUnixTimestamp(date) {\n        return date.getTime();\n    }\n    function formatUnixTimestampSeconds(date) {\n        return Math.floor(date.getTime() / 1000);\n    }\n    // ------------------------------- parsers ------------------------------------\n    function parseMicroseconds(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 6));\n        return n ? (d.L = Math.floor(parseFloat(n[0]) / 1000), i + n[0].length) : -1;\n    }\n    function parseMilliseconds(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 3));\n        return n ? (d.L = +n[0], i + n[0].length) : -1;\n    }\n    function parseSeconds(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.S = +n[0], i + n[0].length) : -1;\n    }\n    function parseMinutes(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.M = +n[0], i + n[0].length) : -1;\n    }\n    function parseHour24(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.H = +n[0], i + n[0].length) : -1;\n    }\n    function parsePeriod(d, string, i) {\n        var n = periodRe.exec(string.slice(i));\n        return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseDayOfMonth(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.d = +n[0], i + n[0].length) : -1;\n    }\n    function parseDayOfYear(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 3));\n        return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n    }\n    function parseShortWeekday(d, string, i) {\n        var n = shortWeekdayRe.exec(string.slice(i));\n        return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseWeekday(d, string, i) {\n        var n = weekdayRe.exec(string.slice(i));\n        return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseWeekdayNumberMonday(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 1));\n        return n ? (d.u = +n[0], i + n[0].length) : -1;\n    }\n    function parseWeekNumberSunday(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.U = +n[0], i + n[0].length) : -1;\n    }\n    function parseWeekNumberISO(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.V = +n[0], i + n[0].length) : -1;\n    }\n    function parseWeekNumberMonday(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.W = +n[0], i + n[0].length) : -1;\n    }\n    function parseWeekdayNumberSunday(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 1));\n        return n ? (d.w = +n[0], i + n[0].length) : -1;\n    }\n    function parseShortMonth(d, string, i) {\n        var n = shortMonthRe.exec(string.slice(i));\n        return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseMonth(d, string, i) {\n        var n = monthRe.exec(string.slice(i));\n        return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseMonthNumber(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.m = parseFloat(n[0]) - 1, i + n[0].length) : -1;\n    }\n    function parseLocaleDateTime(d, string, i) {\n        return parseSpecifier(d, lDateTime, string, i);\n    }\n    function parseLocaleDate(d, string, i) {\n        return parseSpecifier(d, lDate, string, i);\n    }\n    function parseLocaleTime(d, string, i) {\n        return parseSpecifier(d, lTime, string, i);\n    }\n    function parseUnixTimestamp(d, string, i) {\n        var n = numberRe.exec(string.slice(i));\n        return n ? (d.Q = +n[0], i + n[0].length) : -1;\n    }\n    function parseUnixTimestampSeconds(d, string, i) {\n        var n = numberRe.exec(string.slice(i));\n        return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n    }\n    function parseYear(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 2));\n        return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n    }\n    function parseFullYear(d, string, i) {\n        var n = numberRe.exec(string.slice(i, i + 4));\n        return n ? (d.y = +n[0], i + n[0].length) : -1;\n    }\n    function parseZone(d, string, i) {\n        var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n        return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || '00')), i + n[0].length) : -1;\n    }\n    function parseLiteralPercent(d, string, i) {\n        var n = percentRe.exec(string.slice(i, i + 1));\n        return n ? i + n[0].length : -1;\n    }\n    return {\n        format: function (specifier) {\n            var f = newFormat(specifier, formats);\n            f.toString = function () { return specifier; };\n            return f;\n        },\n        parse: function (specifier) {\n            var p = newParse(specifier, localDate);\n            p.toString = function () { return specifier; };\n            return p;\n        },\n        utcFormat: function (specifier) {\n            var f = newFormat(specifier, utcFormats);\n            f.toString = function () { return specifier; };\n            return f;\n        },\n        utcParse: function (specifier) {\n            var p = newParse(specifier, utcDate);\n            p.toString = function () { return specifier; };\n            return p;\n        }\n    };\n}\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationHour, durationMinute, durationSecond } from \"./duration\";\nfunction floor(date) {\n    date.setTime(date.getTime() - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}\nfunction offset(date, hours) {\n    date.setTime(date.getTime() + hours * durationHour);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationHour;\n}\nfunction field(date) {\n    return date.getHours();\n}\nexport var hour = new CountableTimeInterval(floor, offset, count, field);\nexport default hour;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar t0 = new Date;\nvar t1 = new Date;\n/**\n * The interval methods don't mutate Date parameters.\n */\nvar TimeInterval = /** @class */ (function () {\n    function TimeInterval(floor, offset) {\n        this._floor = floor;\n        this._offset = offset;\n    }\n    /**\n     * Returns a new date representing the latest interval boundary date before or equal to date.\n     * For example, `day.floor(date)` typically returns 12:00 AM local time on the given date.\n     * @param date\n     */\n    TimeInterval.prototype.floor = function (date) {\n        date = new Date(+date);\n        this._floor(date);\n        return date;\n    };\n    /**\n     * Returns a new date representing the earliest interval boundary date after or equal to date.\n     * @param date\n     */\n    TimeInterval.prototype.ceil = function (date) {\n        date = new Date(+date - 1);\n        this._floor(date);\n        this._offset(date, 1);\n        this._floor(date);\n        return date;\n    };\n    /**\n     * Returns a new date representing the closest interval boundary date to date.\n     * @param date\n     */\n    TimeInterval.prototype.round = function (date) {\n        var d0 = this.floor(date);\n        var d1 = this.ceil(date);\n        var ms = +date;\n        return ms - d0.getTime() < d1.getTime() - ms ? d0 : d1;\n    };\n    /**\n     * Returns a new date equal to date plus step intervals.\n     * @param date\n     * @param step\n     */\n    TimeInterval.prototype.offset = function (date, step) {\n        if (step === void 0) { step = 1; }\n        date = new Date(+date);\n        this._offset(date, Math.floor(step));\n        return date;\n    };\n    /**\n     * Returns an array of dates representing every interval boundary after or equal to start (inclusive) and before stop (exclusive).\n     * @param start\n     * @param stop\n     * @param step\n     */\n    TimeInterval.prototype.range = function (start, stop, step) {\n        if (step === void 0) { step = 1; }\n        var range = [];\n        start = this.ceil(start);\n        step = Math.floor(step);\n        if (start > stop || step <= 0) {\n            return range;\n        }\n        var previous;\n        do {\n            previous = new Date(+start);\n            range.push(previous);\n            this._offset(start, step);\n            this._floor(start);\n        } while (previous < start && start < stop);\n        return range;\n    };\n    // Returns an interval that is a subset of this interval.\n    // For example, to create an interval that return 1st, 11th, 21st and 31st of each month:\n    // day.filter(date => (date.getDate() - 1) % 10 === 0)\n    TimeInterval.prototype.filter = function (test) {\n        var _this = this;\n        var floor = function (date) {\n            if (date >= date) {\n                while (_this._floor(date), !test(date)) {\n                    date.setTime(date.getTime() - 1);\n                }\n            }\n            return date;\n        };\n        var offset = function (date, step) {\n            if (date >= date) {\n                if (step < 0) {\n                    while (++step <= 0) {\n                        do {\n                            _this._offset(date, -1);\n                        } while (!test(date));\n                    }\n                }\n                else {\n                    while (--step >= 0) {\n                        do {\n                            _this._offset(date, 1);\n                        } while (!test(date));\n                    }\n                }\n            }\n            return date;\n        };\n        return new TimeInterval(floor, offset);\n    };\n    return TimeInterval;\n}());\nexport { TimeInterval };\nvar CountableTimeInterval = /** @class */ (function (_super) {\n    __extends(CountableTimeInterval, _super);\n    function CountableTimeInterval(floor, offset, count, field) {\n        var _this = _super.call(this, floor, offset) || this;\n        _this._count = count;\n        _this._field = field;\n        return _this;\n    }\n    /**\n     * Returns the number of interval boundaries after start (exclusive) and before or equal to end (inclusive).\n     * @param start\n     * @param end\n     */\n    CountableTimeInterval.prototype.count = function (start, end) {\n        t0.setTime(+start);\n        t1.setTime(+end);\n        this._floor(t0);\n        this._floor(t1);\n        return Math.floor(this._count(t0, t1));\n    };\n    /**\n     * Returns a filtered view of this interval representing every step'th date.\n     * The meaning of step is dependent on this interval’s parent interval as defined by the `field` function.\n     * @param step\n     */\n    CountableTimeInterval.prototype.every = function (step) {\n        var _this = this;\n        var result;\n        step = Math.floor(step);\n        if (isFinite(step) && step > 0) {\n            if (step > 1) {\n                var field_1 = this._field;\n                if (field_1) {\n                    result = this.filter(function (d) { return field_1(d) % step === 0; });\n                }\n                else {\n                    result = this.filter(function (d) { return _this.count(0, d) % step === 0; });\n                }\n            }\n            else {\n                result = this;\n            }\n        }\n        return result;\n    };\n    return CountableTimeInterval;\n}(TimeInterval));\nexport { CountableTimeInterval };\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    return date;\n}\nfunction offset(date, milliseconds) {\n    date.setTime(date.getTime() + milliseconds);\n}\nfunction count(start, end) {\n    return end.getTime() - start.getTime();\n}\nexport var millisecond = new CountableTimeInterval(floor, offset, count);\nexport default millisecond;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationMinute, durationSecond } from \"./duration\";\nfunction floor(date) {\n    date.setTime(date.getTime() - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}\nfunction offset(date, minutes) {\n    date.setTime(date.getTime() + minutes * durationMinute);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationMinute;\n}\nfunction field(date) {\n    return date.getMinutes();\n}\nexport var minute = new CountableTimeInterval(floor, offset, count, field);\nexport default minute;\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    date.setDate(1);\n    date.setHours(0, 0, 0, 0);\n}\nfunction offset(date, months) {\n    date.setMonth(date.getMonth() + months);\n}\nfunction count(start, end) {\n    return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}\nfunction field(date) {\n    return date.getMonth();\n}\nexport var month = new CountableTimeInterval(floor, offset, count, field);\nexport default month;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationSecond } from \"./duration\";\nfunction floor(date) {\n    date.setTime(date.getTime() - date.getMilliseconds());\n}\nfunction offset(date, seconds) {\n    date.setTime(date.getTime() + seconds * durationSecond);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationSecond;\n}\nexport var second = new CountableTimeInterval(floor, offset, count);\nexport default second;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationDay } from \"./duration\";\nfunction floor(date) {\n    date.setUTCHours(0, 0, 0, 0);\n}\nfunction offset(date, days) {\n    date.setUTCDate(date.getUTCDate() + days);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationDay;\n}\nfunction field(date) {\n    return date.getUTCDate() - 1;\n}\nexport var utcDay = new CountableTimeInterval(floor, offset, count, field);\nexport default utcDay;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationHour } from \"./duration\";\nfunction floor(date) {\n    date.setUTCMinutes(0, 0, 0);\n}\nfunction offset(date, hours) {\n    date.setTime(date.getTime() + hours * durationHour);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationHour;\n}\nfunction field(date) {\n    return date.getUTCHours();\n}\nexport var utcHour = new CountableTimeInterval(floor, offset, count, field);\nexport default utcHour;\n","import { CountableTimeInterval } from \"./interval\";\nimport { durationMinute } from \"./duration\";\nfunction floor(date) {\n    date.setUTCSeconds(0, 0);\n}\nfunction offset(date, minutes) {\n    date.setTime(date.getTime() + minutes * durationMinute);\n}\nfunction count(start, end) {\n    return (end.getTime() - start.getTime()) / durationMinute;\n}\nfunction field(date) {\n    return date.getUTCMinutes();\n}\nexport var utcMinute = new CountableTimeInterval(floor, offset, count, field);\nexport default utcMinute;\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    date.setUTCDate(1);\n    date.setUTCHours(0, 0, 0, 0);\n}\nfunction offset(date, months) {\n    date.setUTCMonth(date.getUTCMonth() + months);\n}\nfunction count(start, end) {\n    return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}\nfunction field(date) {\n    return date.getUTCMonth();\n}\nexport var utcMonth = new CountableTimeInterval(floor, offset, count, field);\nexport default utcMonth;\n","import { durationWeek } from \"./duration\";\nimport { CountableTimeInterval } from \"./interval\";\n// Set date to n-th day of the week.\nfunction weekday(n) {\n    // Sets the `date` to the start of the `n`-th day of the current week.\n    // n == 0 is Sunday.\n    function floor(date) {\n        date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - n) % 7);\n        date.setHours(0, 0, 0, 0); // h, m, s, ms\n    }\n    // Offset the date by the given number of weeks.\n    function offset(date, weeks) {\n        date.setUTCDate(date.getUTCDate() + weeks * 7);\n    }\n    // Count the number of weeks between the start and end dates.\n    function count(start, end) {\n        return (end.getTime() - start.getTime()) / durationWeek;\n    }\n    return new CountableTimeInterval(floor, offset, count);\n}\nexport var utcSunday = weekday(0);\nexport var utcMonday = weekday(1);\nexport var utcTuesday = weekday(2);\nexport var utcWednesday = weekday(3);\nexport var utcThursday = weekday(4);\nexport var utcFriday = weekday(5);\nexport var utcSaturday = weekday(6);\nexport default utcSunday;\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n}\nfunction offset(date, years) {\n    date.setUTCFullYear(date.getUTCFullYear() + years);\n}\nfunction count(start, end) {\n    return end.getUTCFullYear() - start.getUTCFullYear();\n}\nfunction field(date) {\n    return date.getUTCFullYear();\n}\nexport var utcYear = new CountableTimeInterval(floor, offset, count, field);\nexport default utcYear;\n","import { durationMinute, durationWeek } from \"./duration\";\nimport { CountableTimeInterval } from \"./interval\";\n// Set date to n-th day of the week.\nfunction weekday(n) {\n    // Sets the `date` to the start of the `n`-th day of the current week.\n    // n == 0 is Sunday.\n    function floor(date) {\n        //                  1..31            1..7\n        date.setDate(date.getDate() - (date.getDay() + 7 - n) % 7);\n        date.setHours(0, 0, 0, 0); // h, m, s, ms\n    }\n    // Offset the date by the given number of weeks.\n    function offset(date, weeks) {\n        date.setDate(date.getDate() + weeks * 7);\n    }\n    // Count the number of weeks between the start and end dates.\n    function count(start, end) {\n        var msDelta = end.getTime() - start.getTime();\n        var tzMinuteDelta = end.getTimezoneOffset() - start.getTimezoneOffset();\n        return (msDelta - tzMinuteDelta * durationMinute) / durationWeek;\n    }\n    return new CountableTimeInterval(floor, offset, count);\n}\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\nexport default sunday;\n","import { CountableTimeInterval } from \"./interval\";\nfunction floor(date) {\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n}\nfunction offset(date, years) {\n    date.setFullYear(date.getFullYear() + years);\n}\nfunction count(start, end) {\n    return end.getFullYear() - start.getFullYear();\n}\nfunction field(date) {\n    return date.getFullYear();\n}\nexport var year = new CountableTimeInterval(floor, offset, count, field);\nexport default year;\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-row>\\n      <ion-col size=\\\"10\\\">\\n        <ion-title>CONSULTAR RESULTADOS</ion-title>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        <ion-button color=\\\"primary\\\" class=\\\"home\\\" (click)=\\\"salir()\\\">\\n          <ion-icon name=\\\"home-outline\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-row *ngIf=!mensajeShow>\\n  <ion-col>\\n    <ion-button color=\\\"success\\\" expand=\\\"full\\\" (click)=\\\"showTabla()\\\">VER TABLA</ion-button>\\n  </ion-col>\\n  <ion-col>\\n    <ion-button expand=\\\"full\\\" (click)=\\\"showGrafico()\\\">VER GRÁFICO</ion-button>\\n  </ion-col>\\n</ion-row>\\n\\n\\n<ag-grid-angular *ngIf=\\\"!mensajeShow && sTabla\\\" style=\\\"width: 100%; height: 100%;\\\" class=\\\"ag-theme-balham\\\"\\n  [rowData]=\\\"rowData\\\" [columnDefs]=\\\"columnDefs\\\" [rowSelection]=\\\"rowSelection\\\"\\n  (selectionChanged)=\\\"onSelectionChanged($event)\\\" (firstDataRendered)=\\\"onFirstDataRendered($event)\\\">\\n</ag-grid-angular>\\n\\n\\n<ion-grid *ngIf=\\\"!mensajeShow && sTabla && seleccion\\\">\\n  <ion-row>\\n    <ion-col>\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\" style=\\\"font-weight: bold;\\\">Nombre de la prueba</ion-label>\\n        <ion-textarea [(ngModel)]=\\\"lineaSeleccionada.titulo\\\" disabled=\\\"true\\\"></ion-textarea>\\n      </ion-item>\\n    </ion-col>\\n    <ion-col>\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\" style=\\\"font-weight: bold;\\\">Estudiante</ion-label>\\n        <ion-textarea [(ngModel)]=\\\"lineaSeleccionada.alumno\\\" disabled=\\\"true\\\"></ion-textarea>\\n      </ion-item>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col>\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\" style=\\\"font-weight: bold;\\\">Calificación (Sobre 10 puntos)</ion-label>\\n        <ion-textarea [(ngModel)]=\\\"lineaSeleccionada.nota\\\" disabled=\\\"true\\\"></ion-textarea>\\n      </ion-item>\\n    </ion-col>\\n    <ion-col>\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\" style=\\\"font-weight: bold;\\\">Tiempo (Segundos)</ion-label>\\n        <ion-textarea [(ngModel)]=\\\"lineaSeleccionada.tiempo\\\" disabled=\\\"true\\\"></ion-textarea>\\n      </ion-item>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col>\\n      <ion-item *ngIf=\\\"opinion\\\">\\n        <ion-label position=\\\"floating\\\" style=\\\"font-weight: bold;\\\">Opinión del estudiante sobre la prueba</ion-label>\\n        <ion-textarea [(ngModel)]=\\\"opinion\\\" disabled=\\\"true\\\"></ion-textarea>\\n      </ion-item>\\n    </ion-col>\\n  </ion-row>\\n</ion-grid>\\n\\n\\n\\n<div *ngIf=\\\"show && sTabla\\\">\\n  <ion-button color=\\\"success\\\" expand=\\\"full\\\" (click)=\\\"felicitar()\\\">FELICITAR</ion-button>\\n  <ion-button color=\\\"warning\\\" expand=\\\"full\\\" (click)=\\\"mensaje()\\\">ENVIAR MENSAJE PERSONAL</ion-button>\\n</div>\\n<!-- <div *ngIf=\\\"!show && sTabla && seleccion\\\">\\n  <ion-item>\\n    <ion-textarea disabled=\\\"true\\\">  Ya has enviado un mensaje a este estudiante en referencia a la prueba.\\n    </ion-textarea>\\n  </ion-item>\\n</div> -->\\n\\n<ion-content *ngIf=\\\"mensajeShow\\\">\\n  <ion-label position=\\\"floating\\\">Redacte aquí el mensaje que desea enviar al estudiante</ion-label>\\n  <ion-textarea [(ngModel)]=\\\"mensajeEnviar\\\"></ion-textarea>\\n  <ion-button *ngIf=\\\"show\\\" color=\\\"success\\\" expand=\\\"full\\\" (click)=\\\"enviar()\\\">ENVIAR</ion-button>\\n  <ion-button *ngIf=\\\"show\\\" expand=\\\"full\\\" (click)=\\\"cerrar()\\\">VOLVER</ion-button>\\n</ion-content>\\n\\n<ion-content>\\n\\n  <ion-row *ngIf=sGrafico>\\n    <ion-col>\\n      <ion-item>\\n        <ion-label>Estudiantes</ion-label>\\n        <ion-select [(ngModel)]=\\\"alumnoS\\\" (ionChange)=\\\"changeAlumno($event)\\\">\\n          <ion-select-option *ngFor=\\\"let item of alumnosG\\\" [value]=\\\"item\\\">{{item}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <ion-button [disabled]=\\\"!bAlumno\\\" expand=\\\"full\\\" (click)=\\\"alumno()\\\">Ver gráfico del estudiante y sus pruebas\\n      </ion-button>\\n    </ion-col>\\n    <ion-col>\\n      <ion-item>\\n        <ion-label>Grupos</ion-label>\\n        <ion-select [(ngModel)]=\\\"grupoS\\\" (ionChange)=\\\"changeGrupo($event)\\\">\\n          <ion-select-option *ngFor=\\\"let item of gruposG\\\" [value]=\\\"item\\\">{{item}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <ion-button [disabled]=\\\"!bGrupo\\\" expand=\\\"full\\\" color=\\\"success\\\" (click)=\\\"grupo()\\\">Ver resultado del grupo y sus\\n        pruebas</ion-button>\\n    </ion-col>\\n    <ion-col>\\n      <ion-item>\\n        <ion-label>Pruebas</ion-label>\\n        <ion-select [(ngModel)]=\\\"pruebaS\\\" (ionChange)=\\\"changePrueba($event)\\\">\\n          <ion-select-option *ngFor=\\\"let item of pruebasG\\\" [value]=\\\"item\\\">{{item}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <ion-button [disabled]=\\\"!bPrueba\\\" expand=\\\"full\\\" color=\\\"warning\\\" (click)=\\\"prueba()\\\">Ver gráfico de la prueba y sus\\n        participantes\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n\\n\\n  <ag-charts-angular *ngIf=\\\"sGrafico && sAlumno\\\" style=\\\"width: 100%; height: 40%;\\\" [options]=\\\"options\\\">\\n  </ag-charts-angular>\\n\\n  <ag-charts-angular *ngIf=\\\"sGrafico && sGrupo\\\" style=\\\"width: 100%; height: 40%;\\\" [options]=\\\"options\\\">\\n  </ag-charts-angular>\\n\\n  <ag-charts-angular *ngIf=\\\"sGrafico && sPrueba\\\" style=\\\"width: 100%; height: 40%;\\\" [options]=\\\"options\\\">\\n  </ag-charts-angular>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ConsultarresultadosPage } from './consultarresultados.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConsultarresultadosPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ConsultarresultadosPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConsultarresultadosPageRoutingModule } from './consultarresultados-routing.module';\n\nimport { ConsultarresultadosPage } from './consultarresultados.page';\nimport { AgGridModule } from 'ag-grid-angular';\nimport { AgChartsAngularModule } from 'ag-charts-angular';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ConsultarresultadosPageRoutingModule,\n    AgGridModule.withComponents([]),\n    AgChartsAngularModule\n  ],\n  declarations: [ConsultarresultadosPage]\n})\nexport class ConsultarresultadosPageModule {}\n","export default \".red {\\n  background-color: lightcoral;\\n}\\n\\n.green {\\n  background-color: lightgreen;\\n}\\n\\n.amber {\\n  background-color: lightsalmon;\\n}\\n\\n.yellow {\\n  background-color: yellow;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29uc3VsdGFycmVzdWx0YWRvcy9jb25zdWx0YXJyZXN1bHRhZG9zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDRCQUFBO0FBQ0o7O0FBQ0E7RUFDQSw0QkFBQTtBQUVBOztBQUFBO0VBQ0EsNkJBQUE7QUFHQTs7QUFBQTtFQUNFLHdCQUFBO0FBR0YiLCJmaWxlIjoic3JjL2FwcC9jb25zdWx0YXJyZXN1bHRhZG9zL2NvbnN1bHRhcnJlc3VsdGFkb3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGNvcmFsO1xyXG4gIH1cclxuLmdyZWVuIHtcclxuYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmVlbjtcclxufVxyXG4uYW1iZXIge1xyXG5iYWNrZ3JvdW5kLWNvbG9yOiBsaWdodHNhbG1vbjtcclxufVxyXG5cclxuLnllbGxvd3tcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3c7XHJcbn0iXX0= */\";","import { templateJitUrl } from '@angular/compiler';\nimport { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { Router } from '@angular/router';\nimport * as _ from 'lodash';\nimport { domainToASCII } from 'url';\n\n@Component({\n  selector: 'app-consultarresultados',\n  templateUrl: './consultarresultados.page.html',\n  styleUrls: ['./consultarresultados.page.scss'],\n})\nexport class ConsultarresultadosPage implements OnInit {\n\n  constructor(public changeDetectorRef: ChangeDetectorRef, private router: Router) { }\n  profesor = localStorage.getItem(\"user\");\n  pruebas;\n\n  pruebasFilter = [];\n  disabled = true;\n\n  rowSelection = 'single';\n  gridApi;\n  rowData = [];\n  rowDataFilter = [];\n  idSelect = null;\n\n  sTabla = true;\n  sGrafico = false;\n\n  mediaTiempo = 0;\n  mediaNota = 0;\n  miNota = 0;\n  miTiempo = 0;\n  show = false;\n  seleccion;\n\n  mensajeShow = false;\n  mensajeEnviar = \"\";\n  columnDefs = [\n    { headerName: 'Nombre de la Prueba', field: 'titulo', sortable: true, filter: true },\n    { headerName: 'Asignatura', field: 'asignatura', sortable: true, filter: true },\n    { headerName: 'Estudiante', field: 'alumno', sortable: true, filter: true },\n    { headerName: 'Calificación', field: 'nota', sortable: true, filter: true, valueParser: this.numberParser, cellStyle: this.cellStyle },\n    { headerName: 'Tiempo', field: 'tiempo', sortable: true, filter: true, valueParser: this.numberParser, cellStyle: this.cellStyle },\n    { headerName: 'Opinion', field: 'opinion', sortable: true, filter: true },\n  ];\n\n  opinion = \"\";\n\n  sAlumno = false;\n  sGrupo = false;\n  sPrueba = false;\n  options: any = null;\n\n\n  alumnosG = JSON.parse(localStorage.getItem(\"alumnos\")) || [];\n  pruebasG = [];\n  gruposG = [\"6ºA\"];\n\n\n\n  alumnoS = \"\";\n  pruebaS = \"\";\n  grupoS = \"\";\n\n\n  bAlumno = false;\n  bGrupo = false;\n  bPrueba = false;\n\n  lineaSeleccionada = null;\n\n  cellStyle(params) {\n    let color = \"\";\n\n    let pruebascolor = JSON.parse(localStorage.getItem(\"pruebas\")) || [];\n\n    let mediaTiempo = _.find(pruebascolor, { id: params.data.id }) ? _.find(pruebascolor, { id: params.data.id }).mediaTiempo : null;\n    let mediaNota = _.find(pruebascolor, { id: params.data.id }) ? _.find(pruebascolor, { id: params.data.id }).mediaNota : null;\n\n    let tiempoEstimado = _.find(pruebascolor, { id: params.data.id }) ? _.find(pruebascolor, { id: params.data.id }).tiempoEstimado : null;\n\n    if (params.colDef.field == \"nota\") {\n      if (params.value < mediaNota) {\n        color = \"lightcoral\";\n      }\n      else if (params.value == mediaNota) {\n        color = \"\";\n      }\n      else if (params.value > mediaNota) {\n        color = \"lightgreen\";\n      }\n      return { backgroundColor: color };\n    }\n    else {\n      let media = (mediaTiempo + tiempoEstimado) / 2;\n      media = Math.trunc(media);\n      if (params.value > media) {\n        color = \"lightcoral\";\n      }\n      else if (params.value == media) {\n        color = \"\";\n      }\n      else if (params.value < media) {\n        color = \"lightgreen\";\n      }\n      return { backgroundColor: color };\n    }\n\n  }\n\n  showTabla() {\n    this.sTabla = true;\n    this.sGrafico = false;\n    this.show = false;\n    this.opinion = null;\n\n    this.changeDetectorRef.detectChanges();\n\n  }\n  showGrafico() {\n    this.sTabla = false;\n    this.sGrafico = true;\n    this.changeDetectorRef.detectChanges();\n\n  }\n\n  mensaje() {\n    this.mensajeShow = true;\n    this.changeDetectorRef.detectChanges();\n\n  }\n\n\n  cerrar() {\n    this.mensajeShow = false;\n    this.changeDetectorRef.detectChanges();\n\n  }\n\n  changeAlumno(item) {\n    this.sAlumno = false;\n    this.sGrupo = false;\n    this.sPrueba = false;\n\n    if (this.alumnoS) {\n      this.bAlumno = true;\n    }\n    else {\n      this.bAlumno = false;\n\n    }\n    this.changeDetectorRef.detectChanges();\n\n  }\n\n  changeGrupo(item) {\n    this.sAlumno = false;\n    this.sGrupo = false;\n    this.sPrueba = false;\n\n    if (this.grupoS) {\n      this.bGrupo = true;\n    }\n    else {\n      this.bGrupo = false;\n\n    }\n    this.changeDetectorRef.detectChanges();\n  }\n\n  changePrueba(item) {\n    this.sAlumno = false;\n    this.sGrupo = false;\n    this.sPrueba = false;\n\n    if (this.pruebaS) {\n      this.bPrueba = true;\n    }\n    else {\n      this.bPrueba = false;\n\n    }\n    this.changeDetectorRef.detectChanges();\n  }\n\n  alumno() {\n\n    this.sAlumno = true;\n    this.sGrupo = false;\n    this.sPrueba = false;\n\n    let data = [];\n\n    for (let prueba of this.pruebasFilter) {\n\n      for (let entrega of prueba.entregas) {\n        if (entrega.alumno == this.alumnoS) {\n          let obj = {\n            prueba: prueba.titulo,\n            puntuacion: entrega.calificación,\n            tiempo: entrega.tiempoTotal,\n          }\n          data.push(obj)\n        }\n      }\n    }\n\n\n    this.options = {\n      autoSize: true,\n      data: data,\n      title: {\n        text: 'Resultados del estudiante ' + this.alumnoS,\n        fontSize: 18,\n      },\n      subtitle: {\n        text:\n          'El gráfico muestra los resultado de todas las pruebas del estudiante seleccionado',\n      },\n      series: [\n        {\n          type: 'column',\n          xKey: 'prueba',\n          yKeys: ['puntuacion', 'tiempo'],\n          yNames: ['Puntuación', 'Tiempo'],\n          grouped: true,\n          fills: ['#19A0AA', '#F15F36'],\n          strokes: ['#19A0AA', '#F15F36'],\n        },\n      ],\n      axes: [\n        {\n          type: 'category',\n          position: 'bottom',\n        },\n        {\n          type: 'number',\n          position: 'left',\n        },\n      ],\n    };\n\n    this.changeDetectorRef.detectChanges();\n\n  }\n  grupo() {\n    this.sAlumno = false;\n    this.sGrupo = true;\n    this.sPrueba = false;\n\n    let data = [];\n\n    for (let prueba of this.pruebasFilter) {\n\n      for (let entrega of prueba.grupos) {\n        if (entrega == this.grupoS) {\n          let obj = {\n            prueba: prueba.titulo,\n            puntuacion: prueba.mediaNota,\n            tiempo: prueba.mediaTiempo,\n          }\n          data.push(obj)\n        }\n      }\n    }\n\n    this.options = {\n      autoSize: true,\n      data: data,\n      title: {\n        text: 'Resultados del Grupo ' + this.grupoS,\n        fontSize: 18,\n      },\n      subtitle: {\n        text:\n          'El gráfico muestra los resultados de todas las pruebas del grupo seleccionado',\n      },\n      series: [\n        {\n          type: 'column',\n          xKey: 'prueba',\n          yKeys: ['puntuacion', 'tiempo'],\n          yNames: ['Puntuación', 'Tiempo'],\n          grouped: true,\n          fills: ['#19A0AA', '#F15F36'],\n          strokes: ['#19A0AA', '#F15F36'],\n        },\n      ],\n      axes: [\n        {\n          type: 'category',\n          position: 'bottom',\n        },\n        {\n          type: 'number',\n          position: 'left',\n        },\n      ],\n    };\n    this.changeDetectorRef.detectChanges();\n\n  }\n  prueba() {\n    this.sAlumno = false;\n    this.sGrupo = false;\n    this.sPrueba = true;\n\n    let data = [];\n\n    for (let prueba of this.pruebasFilter) {\n      if (prueba.titulo == this.pruebaS) {\n        for (let entrega of prueba.entregas) {\n          let obj = {\n            alumno: entrega.alumno,\n            puntuacion: entrega.calificación,\n            tiempo: entrega.tiempoTotal,\n          }\n          data.push(obj)\n        }\n      }\n    }\n\n    this.options = {\n      autoSize: true,\n      data: data,\n      title: {\n        text: 'Resultados de los estudiantes en la prueba ' + this.pruebaS,\n        fontSize: 18,\n      },\n      subtitle: {\n        text:\n          'El gráfico muestra los resultados de todas los estudiantes en la prueba seleccionada',\n      },\n      series: [\n        {\n          type: 'column',\n          xKey: 'alumno',\n          yKeys: ['puntuacion', 'tiempo'],\n          yNames: ['Puntuación', 'Tiempo'],\n          grouped: true,\n          fills: ['#19A0AA', '#F15F36'],\n          strokes: ['#19A0AA', '#F15F36'],\n        },\n      ],\n      axes: [\n        {\n          type: 'category',\n          position: 'bottom',\n        },\n        {\n          type: 'number',\n          position: 'left',\n        },\n      ],\n    };\n    this.changeDetectorRef.detectChanges();\n  }\n\n  enviar() {\n    let seleccionado = this.seleccion[0];\n\n    let pruebaStorageMsg = JSON.parse(localStorage.getItem(\"Msg_\" + seleccionado.alumno)) || [];\n\n    let msgtest = _.find(pruebaStorageMsg, { id: seleccionado.id });\n    if (msgtest) {\n      alert(\"Ya se ha enviado un mensaje al alumno referente a esta prueba\");\n    }\n\n    else {\n      let obj = {\n        id: seleccionado.id,\n        asignatura: seleccionado.asignatura,\n        profesor: this.profesor,\n        alumno: seleccionado.alumno,\n        titulo: seleccionado.titulo,\n        img: this.profesor == \"ANDRES\" || this.profesor == \"LAURA\" ? \"assets/icon/\" + this.profesor + \".png\" : \"assets/icon/DEFAULT.png\",\n        msg: this.mensajeEnviar,\n        leido: false\n      }\n      pruebaStorageMsg.push(obj);\n      localStorage.setItem(\"Msg_\" + seleccionado.alumno, JSON.stringify(pruebaStorageMsg));\n\n      alert(\"Mensaje enviado con éxito\");\n      this.mensajeShow = false;\n      this.changeDetectorRef.detectChanges();\n\n    }\n  }\n  numberParser(params) {\n    var newValue = params.newValue;\n    var valueAsNumber;\n    if (newValue === null || newValue === undefined || newValue === '') {\n      valueAsNumber = null;\n    } else {\n      valueAsNumber = parseFloat(params.newValue);\n    }\n    return valueAsNumber;\n  }\n\n  ngOnInit() {\n    this.pruebas = JSON.parse(localStorage.getItem(\"pruebas\")) || [];\n    this.pruebasFilter = _.filter(this.pruebas, { profesor: this.profesor });\n\n    for (let prueba of this.pruebasFilter) {\n      for (let entrega of prueba.entregas) {\n        let obj = {\n          id: prueba.id,\n          titulo: prueba.titulo,\n          asignatura: prueba.asignatura,\n          alumno: entrega.alumno,\n          nota: entrega.calificación,\n          tiempo: entrega.tiempoTotal,\n          grupo: entrega.grupo,\n          opinion: entrega.opinion || null\n        }\n        this.rowData.push(obj);\n      }\n\n      this.pruebasG.push(prueba.titulo);\n    }\n    this.changeDetectorRef.detectChanges();\n  }\n\n  onFirstDataRendered(params) {\n    this.gridApi = params.api;\n    params.api.sizeColumnsToFit();\n  }\n\n  salir() {\n    this.router.navigate(['/home']);\n  }\n\n  onSelectionChanged(selected) {\n    console.log(selected)\n    if (selected) {\n      this.seleccion = selected.api.getSelectedRows();\n\n      let seleccionado = this.seleccion[0];\n\n      this.lineaSeleccionada = seleccionado;\n\n      let pruebaStorageMsg = JSON.parse(localStorage.getItem(\"Msg_\" + seleccionado.alumno)) || [];\n\n      let msgtest = _.find(pruebaStorageMsg, { id: seleccionado.id });\n      if (!msgtest) {\n        this.show = true;\n      }\n      else {\n        this.show = false;\n      }\n\n      this.opinion = this.seleccion[0].opinion || null;\n\n    }\n    else {\n      this.show = false;\n      this.seleccion = null;\n    }\n    this.changeDetectorRef.detectChanges();\n\n  }\n\n  felicitar() {\n    let seleccionado = this.seleccion[0];\n\n    let pruebaStorageMsg = JSON.parse(localStorage.getItem(\"Msg_\" + seleccionado.alumno)) || [];\n\n    let msgtest = _.find(pruebaStorageMsg, { id: seleccionado.id });\n    if (msgtest) {\n      alert(\"Ya se ha enviado un mensaje al estudiante referente a esta prueba\");\n    }\n\n    else {\n      let obj = {\n        id: seleccionado.id,\n        asignatura: seleccionado.asignatura,\n        profesor: this.profesor,\n        alumno: seleccionado.alumno,\n        titulo: seleccionado.titulo,\n        img: this.profesor == \"ANDRES\" || this.profesor == \"LAURA\" ? \"assets/icon/\" + this.profesor + \".png\" : \"assets/icon/DEFAULT.png\",\n        msg: \"Hola \" + seleccionado.alumno + \". Enhorabuena por la puntuación obtenida en la prueba de \" + seleccionado.titulo + \". Has logrado una nota de \" + seleccionado.nota + \" / 10. ¡Sigue asi! Felicidades.\",\n        leido: false\n      }\n      pruebaStorageMsg.push(obj);\n      localStorage.setItem(\"Msg_\" + seleccionado.alumno, JSON.stringify(pruebaStorageMsg));\n\n      alert(\"Mensaje enviado con éxito\");\n\n    }\n\n  }\n\n}\n"]}