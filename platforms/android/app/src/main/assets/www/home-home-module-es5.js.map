{"version":3,"sources":["webpack:///src/app/home/home.page.html","webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/home/home.page.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","HomePage","router","changeDetectorRef","profesor","alumno","user","localStorage","getItem","tipo","cuestionarioFalladas","ejerciciosRefuerzo","detectChanges","checkAlerts","console","log","JSON","parse","length","pruebas","completadasUser","grupo","rowData","item","grupos","indexOf","id","abierta","push","numTareasPendientes","pruebaStorageMsg","sinLeer","itemLeer","leido","numAvisosPendientes","navigate","selector","template"],"mappings":"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","file":"home-home-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-row>\\n      <ion-col size=\\\"10\\\">\\n        <ion-title>BIENVENID@ {{user}}</ion-title>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        <ion-button color=\\\"primary\\\" class=\\\"home\\\" (click)=\\\"salir()\\\">\\n          <ion-icon name=\\\"close-outline\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid *ngIf=\\\"profesor\\\">\\n    <ion-row>\\n      <ion-col>\\n        <ion-card (click)=\\\"crear()\\\">\\n          <img src=\\\"assets/icon/crear.png\\\" />\\n          <ion-card-header>\\n            <ion-card-title>CREAR PRUEBA</ion-card-title>\\n          </ion-card-header>\\n          <ion-card-content>\\n            Crear una prueba.\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n      <ion-col>\\n        <ion-card (click)=\\\"anadir()\\\">\\n          <img src=\\\"assets/icon/anadir.png\\\" />\\n          <ion-card-header>\\n            <ion-card-title>GESTIONAR PRUEBAS</ion-card-title>\\n          </ion-card-header>\\n          <ion-card-content>\\n            Gestionar las pruebas creadas.\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <ion-card (click)=\\\"consultar()\\\">\\n          <img src=\\\"assets/icon/resultados.png\\\" />\\n          <ion-card-header>\\n            <ion-card-title>CONSULTAR RESULTADOS</ion-card-title>\\n          </ion-card-header>\\n          <ion-card-content>\\n            Consultar resultados de los estudiantes.\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n      <ion-col>\\n        <ion-card (click)=\\\"analisis()\\\">\\n          <img src=\\\"assets/icon/analisis.png\\\" />\\n          <ion-card-header>\\n            <ion-card-title>AN√ÅLISIS DE RIESGOS</ion-card-title>\\n          </ion-card-header>\\n          <ion-card-content>\\n            Consultar situaciones de riesgo.\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid *ngIf=\\\"alumno\\\">\\n    <ion-row>\\n      <ion-col>\\n        <ion-card (click)=\\\"tareas()\\\">\\n          <ion-badge color=\\\"warning\\\" class=\\\"alert\\\">{{numTareasPendientes}}</ion-badge>\\n          <img src=\\\"assets/icon/tareas.png\\\" />\\n          <ion-card-header>\\n            <ion-card-title>MIS TAREAS PENDIENTES</ion-card-title>\\n          </ion-card-header>\\n          <ion-card-content>\\n            Consultar tus tareas pendientes.\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n      <ion-col>\\n        <ion-card (click)=\\\"realizadas()\\\">\\n          <img src=\\\"assets/icon/realizadas.png\\\" />\\n          <ion-card-header>\\n            <ion-card-title>MIS TAREAS ENTREGADAS</ion-card-title>\\n          </ion-card-header>\\n          <ion-card-content>\\n            Consultar el resultado de tus tareas.\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <ion-card (click)=\\\"avisos()\\\">\\n          <ion-badge color=\\\"warning\\\" class=\\\"alert\\\">{{numAvisosPendientes}}</ion-badge>\\n          <img src=\\\"assets/icon/aviso.png\\\" />\\n          <ion-card-header>\\n            <ion-card-title>AVISOS</ion-card-title>\\n          </ion-card-header>\\n          <ion-card-content>\\n            Mensajes importantes para ti.\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n      <ion-col *ngIf=\\\"ejerciciosRefuerzo\\\">\\n        <ion-card (click)=\\\"refuerzo()\\\">\\n          <img src=\\\"assets/icon/libro.jpg\\\" />\\n          <ion-card-header>\\n            <ion-card-title>EJERCICIOS REPASO</ion-card-title>\\n          </ion-card-header>\\n          <ion-card-content>\\n              Tienes ejercicios de repaso pendientes. \\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"img {\\n  border-radius: 8px;\\n  width: 150px;\\n  height: 150px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpbWcge1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4OyAgXHJcbiAgICB3aWR0aDogMTUwcHg7XHJcbiAgICBoZWlnaHQ6IDE1MHB4O1xyXG59XHJcbiJdfQ== */\";","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit {\n  profesor: boolean = false;\n  alumno: boolean = false;\n  user = localStorage.getItem(\"user\");\n  tipo = localStorage.getItem(\"tipo\");\n  numTareasPendientes;\n  numAvisosPendientes;\n  cuestionarioFalladas = [];\n  ejerciciosRefuerzo = false;\n\n  constructor(private router: Router, public changeDetectorRef: ChangeDetectorRef) { }\n  ngOnInit() {\n    this.changeDetectorRef.detectChanges();\n\n    if (this.tipo == \"alumno\") {\n      this.alumno = true;\n      this.profesor = false;\n    }\n    else {\n      this.alumno = false;\n      this.profesor = true;\n    }\n    this.changeDetectorRef.detectChanges();\n\n    this.checkAlerts();\n  }\n\n  ngDoCheck() {\n\n    this.checkAlerts();\n    console.log(\"alumno\");\n    if (this.tipo == \"alumno\") {\n      this.alumno = true;\n      this.profesor = false;\n      this.cuestionarioFalladas = JSON.parse(localStorage.getItem(\"falladas_\" + this.user)) || [];\n\n      if(this.cuestionarioFalladas.length >= 1){\n        this.ejerciciosRefuerzo = true;\n      }\n      else{\n        this.ejerciciosRefuerzo = false;\n      }\n    }\n    else {\n      this.alumno = false;\n      this.profesor = true;\n    }\n    this.changeDetectorRef.detectChanges();\n  }\n\n  private checkAlerts() {\n\n    this.tipo = localStorage.getItem(\"tipo\");\n    this.user = localStorage.getItem(\"user\");\n\n    let pruebas = JSON.parse(localStorage.getItem(\"pruebas\")) || [];\n    let completadasUser = JSON.parse(localStorage.getItem(\"completadas_\" + this.user)) || [];\n    let grupo = localStorage.getItem(\"grupo\");\n\n    let rowData = [];\n    for (let item of pruebas) {\n      if (item.grupos.indexOf(grupo) != -1) {\n        if (completadasUser.indexOf(item.id) == -1) {\n          if (item.abierta == \"ABIERTA\") {\n            rowData.push(item);\n          }\n        }\n      }\n    }\n    this.numTareasPendientes = rowData.length == 0 ? null : rowData.length;\n\n\n    let pruebaStorageMsg = JSON.parse(localStorage.getItem(\"Msg_\"+ this.user)) || [];\n\n    let sinLeer = [];\n    for (let itemLeer of pruebaStorageMsg) {\n      if (!itemLeer.leido) {  \n        sinLeer.push(itemLeer);   \n      }\n    }\n    this.numAvisosPendientes = sinLeer.length == 0 ? null : sinLeer.length;\n    this.changeDetectorRef.detectChanges();\n  }\n\n  crear() {\n    this.router.navigate(['/crearprueba']);\n\n  }\n\n\n  anadir() {\n    this.router.navigate(['/asignarprueba']);\n\n  }\n\n  consultar() {\n    this.router.navigate(['/consultarresultados']);\n\n  }\n  analisis() {\n    this.router.navigate(['/analisis']);\n\n  }\n  tareas() {\n    this.router.navigate(['/tareaspendientes']);\n\n  }\n  realizadas() {\n    this.router.navigate(['/tareascompletadas']);\n  }\n\n  avisos() {\n    this.router.navigate(['/avisos']);\n  }\n\n  \n  refuerzo() {\n    this.router.navigate(['/refuerzo']);\n  }\n\n  salir() {\n\n    if (this.tipo == \"alumno\") {\n      this.router.navigate(['/tabs/tab2']);\n    }\n    else {\n      this.router.navigate(['/tabs/tab1']);\n    }\n  }\n\n}\n"]}