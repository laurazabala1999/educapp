(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"6Q79":function(e,t,n){"use strict";n.r(t),n.d(t,"TareaspendientesPageModule",(function(){return b}));var a=n("ofXK"),i=n("3Pt+"),o=n("TEn/"),r=n("tyNb"),s=n("LvDl"),l=n("fXoL"),c=n("nVU4");function p(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ion-button",7),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).empezar()})),l["\u0275\u0275text"](1,"EMPEZAR"),l["\u0275\u0275elementEnd"]()}}function u(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ion-content"),l["\u0275\u0275elementStart"](1,"ag-grid-angular",5),l["\u0275\u0275listener"]("selectionChanged",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().onSelectionChanged(t)}))("firstDataRendered",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().onFirstDataRendered(t)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](2,p,2,0,"ion-button",6),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("rowData",e.rowData)("columnDefs",e.columnDefs)("rowSelection",e.rowSelection),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.show)}}function h(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ion-content"),l["\u0275\u0275elementStart"](1,"ion-row",8),l["\u0275\u0275elementStart"](2,"ion-col"),l["\u0275\u0275elementStart"](3,"ion-label"),l["\u0275\u0275text"](4,"\xbfQu\xe9 te ha parecido la prueba?"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"ion-col"),l["\u0275\u0275elementStart"](6,"ion-label"),l["\u0275\u0275text"](7,"\xbfHas tenido alg\xfan problema?"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"ion-col"),l["\u0275\u0275elementStart"](9,"ion-label"),l["\u0275\u0275text"](10,"\xbfLo has entendido bien?"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"ion-row",9),l["\u0275\u0275elementStart"](12,"ion-col"),l["\u0275\u0275elementStart"](13,"ion-label"),l["\u0275\u0275text"](14,"\xbfQu\xe9 te ha parecido la prueba? \xbfHas tenido alg\xfan problema? \xbfLo has entendido bien?"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"ion-item"),l["\u0275\u0275elementStart"](16,"ion-textarea",10),l["\u0275\u0275listener"]("ngModelChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().opinion=t})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"ion-button",7),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().finalizar()})),l["\u0275\u0275text"](18,"FINALIZAR TAREA"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](16),l["\u0275\u0275property"]("ngModel",e.opinion)}}function d(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ion-item"),l["\u0275\u0275elementStart"](1,"ion-label",13),l["\u0275\u0275text"](2,"Responda aqu\xed"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"ion-input",14),l["\u0275\u0275listener"]("ngModelChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).respuesta=t})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngModel",e.respuesta)}}function m(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ion-list"),l["\u0275\u0275elementStart"](1,"ion-grid"),l["\u0275\u0275elementStart"](2,"ion-row"),l["\u0275\u0275elementStart"](3,"ion-col"),l["\u0275\u0275elementStart"](4,"ion-item",15),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).seleccionarOopcion("A")})),l["\u0275\u0275elementStart"](5,"ion-label"),l["\u0275\u0275text"](6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"ion-col"),l["\u0275\u0275elementStart"](8,"ion-item",15),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).seleccionarOopcion("B")})),l["\u0275\u0275elementStart"](9,"ion-label"),l["\u0275\u0275text"](10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"ion-row"),l["\u0275\u0275elementStart"](12,"ion-col"),l["\u0275\u0275elementStart"](13,"ion-item",15),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).seleccionarOopcion("C")})),l["\u0275\u0275elementStart"](14,"ion-label"),l["\u0275\u0275text"](15),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"ion-col"),l["\u0275\u0275elementStart"](17,"ion-item",15),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).seleccionarOopcion("D")})),l["\u0275\u0275elementStart"](18,"ion-label"),l["\u0275\u0275text"](19),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](4),l["\u0275\u0275propertyInterpolate"]("color",e.claseSeleccionadaA),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("A) ",e.opcionA,""),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("color",e.claseSeleccionadaB),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("B) ",e.opcionB,""),l["\u0275\u0275advance"](3),l["\u0275\u0275propertyInterpolate"]("color",e.claseSeleccionadaC),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("C) ",e.opcionC,""),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("color",e.claseSeleccionadaD),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("D) ",e.opcionD,"")}}function g(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ion-content"),l["\u0275\u0275elementStart"](1,"ion-item"),l["\u0275\u0275elementStart"](2,"ion-label",11),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"ion-textarea",12),l["\u0275\u0275listener"]("ngModelChange",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().pregunta=t})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](5,d,4,1,"ion-item",4),l["\u0275\u0275template"](6,m,20,8,"ion-list",4),l["\u0275\u0275elementStart"](7,"ion-button",7),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().continuar()})),l["\u0275\u0275text"](8,"CONTINUAR"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"]("Pregunta n\xfamero ",e.numero,""),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngModel",e.pregunta),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.pruebaCompletar),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.pruebaTest)}}const S=[{path:"",component:(()=>{class e{constructor(e,t){this.changeDetectorRef=e,this.router=t,this.numero=1,this.user=localStorage.getItem("user"),this.rowSelection="single",this.show=!1,this.idSelect="",this.tipoSelect="",this.grupo=localStorage.getItem("grupo"),this.showPrueba=!1,this.showTabla=!0,this.rowData=[],this.columnDefs=[{headerName:"Nombre de la Prueba",field:"titulo",sortable:!0,filter:!0},{headerName:"Asignatura",field:"asignatura",sortable:!0,filter:!0}],this.pregunta="",this.respuestaCorrecta="",this.respuesta="",this.pruebaCompletar=!1,this.pruebaTest=!1,this.opcionA="",this.opcionB="",this.opcionC="",this.opcionD="",this.claseSeleccionadaA="",this.claseSeleccionadaB="",this.claseSeleccionadaC="",this.claseSeleccionadaD="",this.examen={preguntas:[],tiempoTotal:0,calificaci\u00f3n:0,alumno:this.user,grupo:this.grupo,idPrueba:this.idSelect,opinion:""},this.showEvaluacion=!1,this.opinion=""}ngOnInit(){this.pruebas=JSON.parse(localStorage.getItem("pruebas"))||[];let e=JSON.parse(localStorage.getItem("completadas_"+this.user))||[];for(let t of this.pruebas)-1!=t.grupos.indexOf(this.grupo)&&-1==e.indexOf(t.id)&&"ABIERTA"==t.abierta&&this.rowData.push(t)}ngDoCheck(){this.changeDetectorRef.detectChanges()}onFirstDataRendered(e){this.gridApi=e.api,e.api.sizeColumnsToFit()}onSelectionChanged(e){this.idSelect="",this.tipoSelect="";let t=e.api.getSelectedRows();this.idSelect=t[0].id,this.tipoSelect=t[0].tipo,this.pruebaSelect=t[0],this.show=!0,this.changeDetectorRef.detectChanges()}empezar(){this.showTabla=!1,this.showPrueba=!0,this.pruebaCompletar=!1,this.pruebaTest=!1,this.examen.idPrueba=this.idSelect,"TEST"==this.tipoSelect?(this.pruebaTest=!0,this.pruebaCompletar=!1):"COMPLETAR"==this.tipoSelect&&(this.pruebaCompletar=!0,this.pruebaTest=!1),this.preguntaActual=0,this.pregunta=this.pruebaSelect.preguntas[this.preguntaActual].pregunta,this.respuesta="",this.respuestaCorrecta=this.pruebaSelect.preguntas[this.preguntaActual].correcta,this.opcionA=this.pruebaSelect.preguntas[this.preguntaActual].respuestas?this.pruebaSelect.preguntas[this.preguntaActual].respuestas[0].texto:"",this.opcionB=this.pruebaSelect.preguntas[this.preguntaActual].respuestas?this.pruebaSelect.preguntas[this.preguntaActual].respuestas[1].texto:"",this.opcionC=this.pruebaSelect.preguntas[this.preguntaActual].respuestas?this.pruebaSelect.preguntas[this.preguntaActual].respuestas[2].texto:"",this.opcionD=this.pruebaSelect.preguntas[this.preguntaActual].respuestas?this.pruebaSelect.preguntas[this.preguntaActual].respuestas[3].texto:"",this.cronometro("start"),this.changeDetectorRef.detectChanges()}finalizar(){this.examen.opinion=this.opinion,this.examen.calificaci\u00f3n=this.examen.calificaci\u00f3n/this.pruebaSelect.preguntas.length*10;let e=s.findIndex(this.pruebas,{id:this.idSelect}),t=s.find(this.pruebas,{id:this.idSelect});t.entregas.push(this.examen);let n=0,a=0;for(let s of t.entregas)n+=s.calificaci\u00f3n,a+=s.tiempoTotal;let i=a/t.entregas.length;t.mediaNota=n/t.entregas.length,t.mediaTiempo=i,this.pruebas.splice(e,1,t),localStorage.setItem("pruebas",JSON.stringify(this.pruebas));let o=JSON.parse(localStorage.getItem("completadas_"+this.user))||[];o.push(this.idSelect),localStorage.setItem("completadas_"+localStorage.getItem("user"),JSON.stringify(o));let r=JSON.parse(localStorage.getItem("falladas_"+this.user))||[],l=0;for(let s of this.examen.preguntas)"NO"==s.correcta&&r.push({tipo:t.tipo,pregunta:t.preguntas[l]}),l++;localStorage.setItem("falladas_"+localStorage.getItem("user"),JSON.stringify(r)),alert("Tarea finalizada y guardada correctamente"),this.showPrueba=!1,this.showEvaluacion=!1,this.showTabla=!0,this.changeDetectorRef.detectChanges(),this.router.navigate(["/home"])}continuar(){this.changeDetectorRef.detectChanges(),this.cronometro("restart");let e={correcta:this.respuestaCorrecta==this.respuesta?"SI":"NO",tiempo:this.cronoResta,respuesta:this.respuesta};this.respuesta=null,this.examen.preguntas.push(e),this.examen.tiempoTotal=this.examen.tiempoTotal+this.cronoResta,"SI"==e.correcta&&(this.examen.calificaci\u00f3n=this.examen.calificaci\u00f3n+1),this.preguntaActual++,this.pruebaSelect.preguntas.length==this.preguntaActual?(this.showPrueba=!1,this.showEvaluacion=!0,this.showTabla=!1,this.cronometro("end"),this.changeDetectorRef.detectChanges()):(this.claseSeleccionadaA="",this.claseSeleccionadaB="",this.claseSeleccionadaC="",this.claseSeleccionadaD="",this.pregunta=this.pruebaSelect.preguntas[this.preguntaActual].pregunta,this.respuesta=null,this.respuestaCorrecta=this.pruebaSelect.preguntas[this.preguntaActual].correcta,this.opcionA=this.pruebaSelect.preguntas[this.preguntaActual].respuestas?this.pruebaSelect.preguntas[this.preguntaActual].respuestas[0].texto:"",this.opcionB=this.pruebaSelect.preguntas[this.preguntaActual].respuestas?this.pruebaSelect.preguntas[this.preguntaActual].respuestas[1].texto:"",this.opcionC=this.pruebaSelect.preguntas[this.preguntaActual].respuestas?this.pruebaSelect.preguntas[this.preguntaActual].respuestas[2].texto:"",this.opcionD=this.pruebaSelect.preguntas[this.preguntaActual].respuestas?this.pruebaSelect.preguntas[this.preguntaActual].respuestas[3].texto:"",this.numero++,this.changeDetectorRef.detectChanges())}cronometro(e){"start"==e?this.cronoInit=new Date:"end"==e?(this.cronoResta="",this.cronoInit="",this.cronoEnd=""):(this.cronoEnd=new Date,this.cronoResta=this.cronoEnd.getTime()-this.cronoInit.getTime(),this.cronoResta=Math.round(this.cronoResta/1e3),this.cronoInit=this.cronoEnd,this.cronoEnd="")}seleccionarOopcion(e){"A"==e?(this.respuesta="A",this.claseSeleccionadaA="secondary",this.claseSeleccionadaB="",this.claseSeleccionadaC="",this.claseSeleccionadaD=""):"B"==e?(this.respuesta="B",this.claseSeleccionadaA="",this.claseSeleccionadaB="secondary",this.claseSeleccionadaC="",this.claseSeleccionadaD=""):"C"==e?(this.respuesta="C",this.claseSeleccionadaA="",this.claseSeleccionadaB="",this.claseSeleccionadaC="secondary",this.claseSeleccionadaD=""):"D"==e&&(this.respuesta="D",this.claseSeleccionadaA="",this.claseSeleccionadaB="",this.claseSeleccionadaC="",this.claseSeleccionadaD="secondary"),this.changeDetectorRef.detectChanges()}salir(){this.router.navigate(["/home"])}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](l.ChangeDetectorRef),l["\u0275\u0275directiveInject"](r.g))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-tareaspendientes"]],decls:12,vars:3,consts:[["size","10"],["size","2"],["color","primary",1,"home",3,"click"],["name","home-outline"],[4,"ngIf"],[1,"ag-theme-balham",2,"width","100%","height","50%",3,"rowData","columnDefs","rowSelection","selectionChanged","firstDataRendered"],["expand","full",3,"click",4,"ngIf"],["expand","full",3,"click"],[1,"movil",2,"text-align","center"],[1,"ordenador",2,"text-align","center"],[3,"ngModel","ngModelChange"],["position","floating"],["disabled","true",3,"ngModel","ngModelChange"],["position","stacked"],["onkeyup","this.value = this.value.toUpperCase();",3,"ngModel","ngModelChange"],[3,"color","click"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"ion-header"),l["\u0275\u0275elementStart"](1,"ion-toolbar"),l["\u0275\u0275elementStart"](2,"ion-row"),l["\u0275\u0275elementStart"](3,"ion-col",0),l["\u0275\u0275elementStart"](4,"ion-title"),l["\u0275\u0275text"](5,"MIS TAREAS PENDIENTES"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"ion-col",1),l["\u0275\u0275elementStart"](7,"ion-button",2),l["\u0275\u0275listener"]("click",(function(){return t.salir()})),l["\u0275\u0275element"](8,"ion-icon",3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](9,u,3,4,"ion-content",4),l["\u0275\u0275template"](10,h,19,1,"ion-content",4),l["\u0275\u0275template"](11,g,9,4,"ion-content",4)),2&e&&(l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngIf",t.showTabla),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.showEvaluacion),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.showPrueba))},directives:[o.m,o.F,o.x,o.j,o.E,o.d,o.n,a.i,o.k,c.AgGridAngular,o.t,o.p,o.D,o.K,i.d,i.e,o.o,o.u,o.l],styles:["@media only screen and (max-width:500px){.movil[_ngcontent-%COMP%]{display:block}.ordenador[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width:500px){.movil[_ngcontent-%COMP%]{display:none}.ordenador[_ngcontent-%COMP%]{display:block}}"]}),e})()}];let f=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.i.forChild(S)],r.i]}),e})(),b=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.b,i.a,o.G,f,c.AgGridModule.withComponents([])]]}),e})()}}]);